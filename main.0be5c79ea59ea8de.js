"use strict";var OD=Object.defineProperty,RD=Object.defineProperties,PD=Object.getOwnPropertyDescriptors,Iw=Object.getOwnPropertySymbols,FD=Object.prototype.hasOwnProperty,ND=Object.prototype.propertyIsEnumerable,Tw=(on,st,D)=>st in on?OD(on,st,{enumerable:!0,configurable:!0,writable:!0,value:D}):on[st]=D,Sw=(on,st)=>{for(var D in st||(st={}))FD.call(st,D)&&Tw(on,D,st[D]);if(Iw)for(var D of Iw(st))ND.call(st,D)&&Tw(on,D,st[D]);return on},xw=(on,st)=>RD(on,PD(st));(self.webpackChunktodo_list=self.webpackChunktodo_list||[]).push([[179],{2313:(on,st,D)=>{D.d(st,{nm:()=>ae});var a=D(2122),v=(D(5e3),D(3692),D(259),D(5861)),ce=D(9681),ye=D(4859),be=D(2090),z=D(1877);const B=new Map,re={activated:!1,tokenObservers:[]},xe={initialized:!1,enabled:!1};function We(Pt){return B.get(Pt)||Object.assign({},re)}function ot(){return xe}class me{constructor(Dt,St,an,_n,Rn){if(this.operation=Dt,this.retryPolicy=St,this.getWaitDuration=an,this.lowerBound=_n,this.upperBound=Rn,this.pending=null,this.nextErrorWaitInterval=_n,_n>Rn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Dt){var St=this;return(0,v.Z)(function*(){St.stop();try{St.pending=new be.BH,yield function Ce(Pt){return new Promise(Dt=>{setTimeout(Dt,Pt)})}(St.getNextRun(Dt)),St.pending.resolve(),yield St.pending.promise,St.pending=new be.BH,yield St.operation(),St.pending.resolve(),yield St.pending.promise,St.process(!0).catch(()=>{})}catch(an){St.retryPolicy(an)?St.process(!1).catch(()=>{}):St.stop()}})()}getNextRun(Dt){if(Dt)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const St=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),St}}}const Ge=new be.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ut(Pt){if(!We(Pt).activated)throw Ge.create("use-before-activation",{appName:Pt.name})}function bt(Pt,Dt){return zt.apply(this,arguments)}function zt(){return(zt=(0,v.Z)(function*({url:Pt,body:Dt},St){const an={"Content-Type":"application/json"},_n=St.getImmediate({optional:!0});if(_n){const kr=yield _n.getHeartbeatsHeader();kr&&(an["X-Firebase-Client"]=kr)}const Rn={method:"POST",body:JSON.stringify(Dt),headers:an};let Xn,$i;try{Xn=yield fetch(Pt,Rn)}catch(kr){throw Ge.create("fetch-network-error",{originalErrorMessage:null==kr?void 0:kr.message})}if(200!==Xn.status)throw Ge.create("fetch-status-error",{httpStatus:Xn.status});try{$i=yield Xn.json()}catch(kr){throw Ge.create("fetch-parse-error",{originalErrorMessage:null==kr?void 0:kr.message})}const Fi=$i.ttl.match(/^([\d.]+)(s)$/);if(!Fi||!Fi[2]||isNaN(Number(Fi[1])))throw Ge.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${$i.ttl}`});const pr=1e3*Number(Fi[1]),Lr=Date.now();return{token:$i.token,expireTimeMillis:Lr+pr,issuedAtTimeMillis:Lr}})).apply(this,arguments)}function xt(Pt,Dt){const{projectId:St,appId:an,apiKey:_n}=Pt.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${St}/apps/${an}:exchangeDebugToken?key=${_n}`,body:{debug_token:Dt}}}const Lt="firebase-app-check-store";let Wt=null;function Ut(){return Wt||(Wt=new Promise((Pt,Dt)=>{try{const St=indexedDB.open("firebase-app-check-database",1);St.onsuccess=an=>{Pt(an.target.result)},St.onerror=an=>{var _n;Dt(Ge.create("storage-open",{originalErrorMessage:null===(_n=an.target.error)||void 0===_n?void 0:_n.message}))},St.onupgradeneeded=an=>{0===an.oldVersion&&an.target.result.createObjectStore(Lt,{keyPath:"compositeKey"})}}catch(St){Dt(Ge.create("storage-open",{originalErrorMessage:null==St?void 0:St.message}))}}),Wt)}function Mt(){return(Mt=(0,v.Z)(function*(Pt,Dt){const an=(yield Ut()).transaction(Lt,"readwrite"),Rn=an.objectStore(Lt).put({compositeKey:Pt,value:Dt});return new Promise((Xn,$i)=>{Rn.onsuccess=Fi=>{Xn()},an.onerror=Fi=>{var pr;$i(Ge.create("storage-set",{originalErrorMessage:null===(pr=Fi.target.error)||void 0===pr?void 0:pr.message}))}})})).apply(this,arguments)}const Qn=new z.Yd("@firebase/app-check");function fe(Pt,Dt){return(0,be.hl)()?function Pe(Pt,Dt){return function Je(Pt,Dt){return Mt.apply(this,arguments)}(function vn(Pt){return`${Pt.options.appId}-${Pt.name}`}(Pt),Dt)}(Pt,Dt).catch(St=>{Qn.warn(`Failed to write token to IndexedDB. Error: ${St}`)}):Promise.resolve()}function Ht(){return ot().enabled}function Ye(){return ct.apply(this,arguments)}function ct(){return(ct=(0,v.Z)(function*(){const Pt=ot();if(Pt.enabled&&Pt.token)return Pt.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const oe={error:"UNKNOWN_ERROR"};function _e(Pt){return be.US.encodeString(JSON.stringify(Pt),!1)}function dt(Pt){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,v.Z)(function*(Pt,Dt=!1){const St=Pt.app;ut(St);const an=We(St);let Rn,_n=an.token;if(_n&&!ii(_n)&&(an.token=void 0,_n=void 0),!_n){const Fi=yield an.cachedTokenPromise;Fi&&(ii(Fi)?_n=Fi:yield fe(St,void 0))}if(!Dt&&_n&&ii(_n))return{token:_n.token};let $i,Xn=!1;if(Ht()){an.exchangeTokenPromise||(an.exchangeTokenPromise=bt(xt(St,yield Ye()),Pt.heartbeatServiceProvider).finally(()=>{an.exchangeTokenPromise=void 0}),Xn=!0);const Fi=yield an.exchangeTokenPromise;return yield fe(St,Fi),an.token=Fi,{token:Fi.token}}try{an.exchangeTokenPromise||(an.exchangeTokenPromise=an.provider.getToken().finally(()=>{an.exchangeTokenPromise=void 0}),Xn=!0),_n=yield We(St).exchangeTokenPromise}catch(Fi){"appCheck/throttled"===Fi.code?Qn.warn(Fi.message):Qn.error(Fi),Rn=Fi}return _n?Rn?$i=ii(_n)?{token:_n.token,internalError:Rn}:wi(Rn):($i={token:_n.token},an.token=_n,yield fe(St,_n)):$i=wi(Rn),Xn&&Fn(St,$i),$i})).apply(this,arguments)}function nn(Pt,Dt){const St=We(Pt),an=St.tokenObservers.filter(_n=>_n.next!==Dt);0===an.length&&St.tokenRefresher&&St.tokenRefresher.isRunning()&&St.tokenRefresher.stop(),St.tokenObservers=an}function Tn(Pt){const{app:Dt}=Pt,St=We(Dt);let an=St.tokenRefresher;an||(an=function kn(Pt){const{app:Dt}=Pt;return new me((0,v.Z)(function*(){let an;if(an=We(Dt).token?yield dt(Pt,!0):yield dt(Pt),an.error)throw an.error;if(an.internalError)throw an.internalError}),()=>!0,()=>{const St=We(Dt);if(St.token){let an=St.token.issuedAtTimeMillis+.5*(St.token.expireTimeMillis-St.token.issuedAtTimeMillis)+3e5;return an=Math.min(an,St.token.expireTimeMillis-3e5),Math.max(0,an-Date.now())}return 0},3e4,96e4)}(Pt),St.tokenRefresher=an),!an.isRunning()&&St.isTokenAutoRefreshEnabled&&an.start()}function Fn(Pt,Dt){const St=We(Pt).tokenObservers;for(const an of St)try{"EXTERNAL"===an.type&&null!=Dt.error?an.error(Dt.error):an.next(Dt)}catch(_n){}}function ii(Pt){return Pt.expireTimeMillis-Date.now()>0}function wi(Pt){return{token:_e(oe),error:Pt}}class ri{constructor(Dt,St){this.app=Dt,this.heartbeatServiceProvider=St}_delete(){const{tokenObservers:Dt}=We(this.app);for(const St of Dt)nn(this.app,St.next);return Promise.resolve()}}const Yi="app-check-internal";!function Ji(){(0,ce._registerComponent)(new ye.wA("app-check",Pt=>function mn(Pt,Dt){return new ri(Pt,Dt)}(Pt.getProvider("app").getImmediate(),Pt.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Pt,Dt,St)=>{Pt.getProvider(Yi).initialize()})),(0,ce._registerComponent)(new ye.wA(Yi,Pt=>function mi(Pt){return{getToken:Dt=>dt(Pt,Dt),addTokenListener:Dt=>function qt(Pt,Dt,St,an){const{app:_n}=Pt,Rn=We(_n);if(Rn.tokenObservers=[...Rn.tokenObservers,{next:St,error:an,type:Dt}],Rn.token&&ii(Rn.token)){const $i=Rn.token;Promise.resolve().then(()=>{St({token:$i.token}),Tn(Pt)}).catch(()=>{})}Rn.cachedTokenPromise.then(()=>Tn(Pt))}(Pt,"INTERNAL",Dt),removeTokenListener:Dt=>nn(Pt.app,Dt)}}(Pt.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ce.registerVersion)("@firebase/app-check","0.6.3")}();class ae{constructor(){return(0,a.vb)("app-check")}}"undefined"!=typeof window&&window},3692:(on,st,D)=>{D.d(st,{Ot:()=>te,ZF:()=>Re,hX:()=>We});var a=D(259),R=D(5e3),b=D(2122);class te{constructor(me){return me}}const be=new R.OlP("angularfire2._apps"),z={provide:te,useFactory:function ye(ue){return ue&&1===ue.length?ue[0]:new te((0,a.Mq)())},deps:[[new R.FiY,be]]},B={provide:class v{constructor(){return(0,a.C6)()}},deps:[[new R.FiY,be]]};function re(ue){return(me,Ce)=>{const Be=me.runOutsideAngular(()=>ue(Ce));return new te(Be)}}let xe=(()=>{class ue{constructor(Ce){(0,a.KN)("angularfire",b.q4.full,"core"),(0,a.KN)("angularfire",b.q4.full,"app"),(0,a.KN)("angular",R.q4F.full,Ce.toString())}}return ue.\u0275fac=function(Ce){return new(Ce||ue)(R.LFG(R.Lbi))},ue.\u0275mod=R.oAB({type:ue}),ue.\u0275inj=R.cJS({providers:[z,B]}),ue})();function We(ue,...me){return{ngModule:xe,providers:[{provide:be,useFactory:re(ue),multi:!0,deps:[R.R0b,R.zs3,b.HU,...me]}]}}const Re=(0,b.u3)(a.ZF,!0)},1205:(on,st,D)=>{D.d(st,{zQ:()=>rt,rT:()=>Qe,f7:()=>bt,L6:()=>de,_Q:()=>ut,lh:()=>jt,Qv:()=>Ge,nw:()=>zt});var a=D(5e3),R=D(7579),b=D(9646),te=D(8306),v=D(8996),ce=D(6451),ye=D(6063);class be extends R.x{constructor(Vt=1/0,Rt=1/0,Lt=ye.l){super(),this._bufferSize=Vt,this._windowTime=Rt,this._timestampProvider=Lt,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Rt===1/0,this._bufferSize=Math.max(1,Vt),this._windowTime=Math.max(1,Rt)}next(Vt){const{isStopped:Rt,_buffer:Lt,_infiniteTimeWindow:dn,_timestampProvider:Wt,_windowTime:Ut}=this;Rt||(Lt.push(Vt),!dn&&Lt.push(Wt.now()+Ut)),this._trimBuffer(),super.next(Vt)}_subscribe(Vt){this._throwIfClosed(),this._trimBuffer();const Rt=this._innerSubscribe(Vt),{_infiniteTimeWindow:Lt,_buffer:dn}=this,Wt=dn.slice();for(let Ut=0;Ut<Wt.length&&!Vt.closed;Ut+=Lt?1:2)Vt.next(Wt[Ut]);return this._checkFinalizedStatuses(Vt),Rt}_trimBuffer(){const{_bufferSize:Vt,_timestampProvider:Rt,_buffer:Lt,_infiniteTimeWindow:dn}=this,Wt=(dn?1:2)*Vt;if(Vt<1/0&&Wt<Lt.length&&Lt.splice(0,Lt.length-Wt),!dn){const Ut=Rt.now();let Ze=0;for(let Pe=1;Pe<Lt.length&&Lt[Pe]<=Ut;Pe+=2)Ze=Pe;Ze&&Lt.splice(0,Ze+1)}}}var z=D(3099);function B(xt,Vt,Rt){let Lt,dn=!1;return xt&&"object"==typeof xt?({bufferSize:Lt=1/0,windowTime:Vt=1/0,refCount:dn=!1,scheduler:Rt}=xt):Lt=null!=xt?xt:1/0,(0,z.B)({connector:()=>new be(Lt,Vt,Rt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:dn})}var re=D(3900),xe=D(576);function We(xt,Vt){return(0,xe.m)(Vt)?(0,re.w)(()=>xt,Vt):(0,re.w)(()=>xt)}var Fe=D(5363),ot=D(4004),et=D(590),Re=D(9468),Ke=D(9300),_t=D(2122),lt=D(2011),ue=D(9808),me=D(2313);D(9260);const Ge=new a.OlP("angularfire2.auth.use-emulator"),de=new a.OlP("angularfire2.auth.settings"),ut=new a.OlP("angularfire2.auth.tenant-id"),Qe=new a.OlP("angularfire2.auth.langugage-code"),jt=new a.OlP("angularfire2.auth.use-device-language"),bt=new a.OlP("angularfire.auth.persistence"),zt=(xt,Vt,Rt,Lt,dn,Wt,Ut,Ze)=>(0,lt.cc)(`${xt.name}.auth`,"AngularFireAuth",xt.name,()=>{const Pe=Vt.runOutsideAngular(()=>xt.auth());if(Rt&&Pe.useEmulator(...Rt),Lt&&(Pe.tenantId=Lt),Pe.languageCode=dn,Wt&&Pe.useDeviceLanguage(),Ut)for(const[Le,tt]of Object.entries(Ut))Pe.settings[Le]=tt;return Ze&&Pe.setPersistence(Ze),Pe},[Rt,Lt,dn,Wt,Ut,Ze]);let rt=(()=>{class xt{constructor(Rt,Lt,dn,Wt,Ut,Ze,Pe,Le,tt,Je,Mt,rn){const fn=new R.x,vn=(0,b.of)(void 0).pipe((0,Fe.Q)(Ut.outsideAngular),(0,re.w)(()=>Wt.runOutsideAngular(()=>Promise.resolve().then(D.bind(D,407)))),(0,ot.U)(()=>(0,lt.on)(Rt,Wt,Lt)),(0,ot.U)(Qn=>zt(Qn,Wt,Ze,Le,tt,Je,Pe,Mt)),B({bufferSize:1,refCount:!1}));if((0,ue.PM)(dn))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,b.of)(null);else{vn.pipe((0,et.P)()).subscribe();const ni=vn.pipe((0,re.w)($e=>$e.getRedirectResult().then(vt=>vt,()=>null)),_t.iC,B({bufferSize:1,refCount:!1})),Qt=vn.pipe((0,re.w)($e=>new te.y(vt=>({unsubscribe:Wt.runOutsideAngular(()=>$e.onAuthStateChanged(Ht=>vt.next(Ht),Ht=>vt.error(Ht),()=>vt.complete()))})))),fe=vn.pipe((0,re.w)($e=>new te.y(vt=>({unsubscribe:Wt.runOutsideAngular(()=>$e.onIdTokenChanged(Ht=>vt.next(Ht),Ht=>vt.error(Ht),()=>vt.complete()))}))));this.authState=ni.pipe(We(Qt),(0,Re.R)(Ut.outsideAngular),(0,Fe.Q)(Ut.insideAngular)),this.user=ni.pipe(We(fe),(0,Re.R)(Ut.outsideAngular),(0,Fe.Q)(Ut.insideAngular)),this.idToken=this.user.pipe((0,re.w)($e=>$e?(0,v.D)($e.getIdToken()):(0,b.of)(null))),this.idTokenResult=this.user.pipe((0,re.w)($e=>$e?(0,v.D)($e.getIdTokenResult()):(0,b.of)(null))),this.credential=(0,ce.T)(ni,fn,this.authState.pipe((0,Ke.h)($e=>!$e))).pipe((0,ot.U)($e=>(null==$e?void 0:$e.user)?$e:null),(0,Re.R)(Ut.outsideAngular),(0,Fe.Q)(Ut.insideAngular))}return(0,lt.pX)(this,vn,Wt,{spy:{apply:(Qn,ni,Qt)=>{(Qn.startsWith("signIn")||Qn.startsWith("createUser"))&&Qt.then(fe=>fn.next(fe))}}})}}return xt.\u0275fac=function(Rt){return new(Rt||xt)(a.LFG(lt.Dh),a.LFG(lt.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(_t.HU),a.LFG(Ge,8),a.LFG(de,8),a.LFG(ut,8),a.LFG(Qe,8),a.LFG(jt,8),a.LFG(bt,8),a.LFG(me.nm,8))},xt.\u0275prov=a.Yz7({token:xt,factory:xt.\u0275fac,providedIn:"any"}),xt})()},2011:(on,st,D)=>{D.d(st,{Dh:()=>be,GT:()=>ce,cc:()=>Fe,hO:()=>We,on:()=>B,pX:()=>v,xv:()=>z});var a=D(5e3),R=D(9260),b=D(2122);on=D.hmd(on);const te=["ngOnDestroy"],v=(Ke,_t,lt,ue={})=>new Proxy(Ke,{get:(me,Ce)=>lt.runOutsideAngular(()=>{var Be;if(Ke[Ce])return(null===(Be=null==ue?void 0:ue.spy)||void 0===Be?void 0:Be.get)&&ue.spy.get(Ce,Ke[Ce]),Ke[Ce];if(te.indexOf(Ce)>-1)return()=>{};const Ge=_t.toPromise().then(de=>{const ut=de&&de[Ce];return"function"==typeof ut?ut.bind(de):ut&&ut.then?ut.then(Qe=>lt.run(()=>Qe)):lt.run(()=>ut)});return new Proxy(()=>{},{get:(de,ut)=>Ge[ut],apply:(de,ut,Qe)=>Ge.then(jt=>{var bt;const zt=jt&&jt(...Qe);return(null===(bt=null==ue?void 0:ue.spy)||void 0===bt?void 0:bt.apply)&&ue.spy.apply(Ce,Qe,zt),zt})})})}),ce=(Ke,_t)=>{_t.forEach(lt=>{Object.getOwnPropertyNames(lt.prototype||lt).forEach(ue=>{Object.defineProperty(Ke.prototype,ue,Object.getOwnPropertyDescriptor(lt.prototype||lt,ue))})})};class ye{constructor(_t){return _t}}const be=new a.OlP("angularfire2.app.options"),z=new a.OlP("angularfire2.app.name");function B(Ke,_t,lt){const me="object"==typeof lt&&lt||{};me.name=me.name||"string"==typeof lt&&lt||"[DEFAULT]";const Be=R.Z.apps.filter(Ge=>Ge&&Ge.name===me.name)[0]||_t.runOutsideAngular(()=>R.Z.initializeApp(Ke,me));try{JSON.stringify(Ke)!==JSON.stringify(Be.options)&&re("error",`${Be.name} Firebase App already initialized with different options${on.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ge){}return new ye(Be)}const re=(Ke,..._t)=>{(0,a.X6Q)()&&"undefined"!=typeof console&&console[Ke](..._t)},xe={provide:ye,useFactory:B,deps:[be,a.R0b,[new a.FiY,z]]};let We=(()=>{class Ke{constructor(lt){R.Z.registerVersion("angularfire",b.q4.full,"core"),R.Z.registerVersion("angularfire",b.q4.full,"app-compat"),R.Z.registerVersion("angular",a.q4F.full,lt.toString())}static initializeApp(lt,ue){return{ngModule:Ke,providers:[{provide:be,useValue:lt},{provide:z,useValue:ue}]}}}return Ke.\u0275fac=function(lt){return new(lt||Ke)(a.LFG(a.Lbi))},Ke.\u0275mod=a.oAB({type:Ke}),Ke.\u0275inj=a.cJS({providers:[xe]}),Ke})();function Fe(Ke,_t,lt,ue,me){const[,Ce,Be]=globalThis.\u0275AngularfireInstanceCache.find(Ge=>Ge[0]===Ke)||[];if(Ce)return function ot(Ke,_t){try{return Ke.toString()===_t.toString()}catch(lt){return Ke===_t}}(me,Be)||(Re("error",`${_t} was already initialized on the ${lt} Firebase App with different settings.${et?" You may need to reload as Firebase is not HMR aware.":""}`),Re("warn",{is:me,was:Be})),Ce;{const Ge=ue();return globalThis.\u0275AngularfireInstanceCache.push([Ke,Ge,me]),Ge}}const et=!!on.hot,Re=(Ke,..._t)=>{(0,a.X6Q)()&&"undefined"!=typeof console&&console[Ke](..._t)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(on,st,D)=>{D.d(st,{q4:()=>fu,iC:()=>sr,HU:()=>g,vb:()=>hl,JM:()=>_a,u3:()=>Ys});var a=D(5e3),R=D(259),b=D(5861),te=D(9681),v=D(2090),ce=D(4859),ye=D(1877),be=D(8766);const z="@firebase/installations",B="0.6.3",xe=`w:${B}`,We="FIS_v2",_t=new v.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function lt(V){return V instanceof v.ZR&&V.code.includes("request-failed")}function ue({projectId:V}){return`https://firebaseinstallations.googleapis.com/v1/projects/${V}/installations`}function me(V){return{token:V.token,requestStatus:2,expiresIn:jt(V.expiresIn),creationTime:Date.now()}}function Ce(V,G){return Be.apply(this,arguments)}function Be(){return(Be=(0,b.Z)(function*(V,G){const it=(yield G.json()).error;return _t.create("request-failed",{requestName:V,serverCode:it.code,serverMessage:it.message,serverStatus:it.status})})).apply(this,arguments)}function Ge({apiKey:V}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":V})}function de(V,{refreshToken:G}){const he=Ge(V);return he.append("Authorization",function bt(V){return`${We} ${V}`}(G)),he}function ut(V){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,b.Z)(function*(V){const G=yield V();return G.status>=500&&G.status<600?V():G})).apply(this,arguments)}function jt(V){return Number(V.replace("s","000"))}function zt(V,G){return rt.apply(this,arguments)}function rt(){return(rt=(0,b.Z)(function*({appConfig:V,heartbeatServiceProvider:G},{fid:he}){const it=ue(V),Nt=Ge(V),Kt=G.getImmediate({optional:!0});if(Kt){const hi=yield Kt.getHeartbeatsHeader();hi&&Nt.append("x-firebase-client",hi)}const Kn={method:"POST",headers:Nt,body:JSON.stringify({fid:he,authVersion:We,appId:V.appId,sdkVersion:xe})},ti=yield ut(()=>fetch(it,Kn));if(ti.ok){const hi=yield ti.json();return{fid:hi.fid||he,registrationStatus:2,refreshToken:hi.refreshToken,authToken:me(hi.authToken)}}throw yield Ce("Create Installation",ti)})).apply(this,arguments)}function Ft(V){return new Promise(G=>{setTimeout(G,V)})}const Vt=/^[cdef][\w-]{21}$/;function Lt(){try{const V=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(V),V[0]=112+V[0]%16;const he=function dn(V){return function xt(V){return btoa(String.fromCharCode(...V)).replace(/\+/g,"-").replace(/\//g,"_")}(V).substr(0,22)}(V);return Vt.test(he)?he:""}catch(V){return""}}function Wt(V){return`${V.appName}!${V.appId}`}const Ut=new Map;function Ze(V,G){const he=Wt(V);tt(he,G),function Je(V,G){const he=function rn(){return!Mt&&"BroadcastChannel"in self&&(Mt=new BroadcastChannel("[Firebase] FID Change"),Mt.onmessage=V=>{tt(V.data.key,V.data.fid)}),Mt}();he&&he.postMessage({key:V,fid:G}),function fn(){0===Ut.size&&Mt&&(Mt.close(),Mt=null)}()}(he,G)}function tt(V,G){const he=Ut.get(V);if(he)for(const it of he)it(G)}let Mt=null;const ni="firebase-installations-store";let Qt=null;function fe(){return Qt||(Qt=(0,be.X3)("firebase-installations-database",1,{upgrade:(V,G)=>{0===G&&V.createObjectStore(ni)}})),Qt}function $e(V,G){return vt.apply(this,arguments)}function vt(){return(vt=(0,b.Z)(function*(V,G){const he=Wt(V),Nt=(yield fe()).transaction(ni,"readwrite"),Kt=Nt.objectStore(ni),wn=yield Kt.get(he);return yield Kt.put(G,he),yield Nt.done,(!wn||wn.fid!==G.fid)&&Ze(V,G.fid),G})).apply(this,arguments)}function Ht(V){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,b.Z)(function*(V){const G=Wt(V),it=(yield fe()).transaction(ni,"readwrite");yield it.objectStore(ni).delete(G),yield it.done})).apply(this,arguments)}function ct(V,G){return X.apply(this,arguments)}function X(){return(X=(0,b.Z)(function*(V,G){const he=Wt(V),Nt=(yield fe()).transaction(ni,"readwrite"),Kt=Nt.objectStore(ni),wn=yield Kt.get(he),Kn=G(wn);return void 0===Kn?yield Kt.delete(he):yield Kt.put(Kn,he),yield Nt.done,Kn&&(!wn||wn.fid!==Kn.fid)&&Ze(V,Kn.fid),Kn})).apply(this,arguments)}function oe(V){return _e.apply(this,arguments)}function _e(){return(_e=(0,b.Z)(function*(V){let G;const he=yield ct(V.appConfig,it=>{const Nt=dt(it),Kt=Tt(V,Nt);return G=Kt.registrationPromise,Kt.installationEntry});return""===he.fid?{installationEntry:yield G}:{installationEntry:he,registrationPromise:G}})).apply(this,arguments)}function dt(V){return ii(V||{fid:Lt(),registrationStatus:0})}function Tt(V,G){if(0===G.registrationStatus){if(!navigator.onLine)return{installationEntry:G,registrationPromise:Promise.reject(_t.create("app-offline"))};const he={fid:G.fid,registrationStatus:1,registrationTime:Date.now()},it=function qt(V,G){return nn.apply(this,arguments)}(V,he);return{installationEntry:he,registrationPromise:it}}return 1===G.registrationStatus?{installationEntry:G,registrationPromise:Tn(V)}:{installationEntry:G}}function nn(){return(nn=(0,b.Z)(function*(V,G){try{const he=yield zt(V,G);return $e(V.appConfig,he)}catch(he){throw lt(he)&&409===he.customData.serverCode?yield Ht(V.appConfig):yield $e(V.appConfig,{fid:G.fid,registrationStatus:0}),he}})).apply(this,arguments)}function Tn(V){return kn.apply(this,arguments)}function kn(){return(kn=(0,b.Z)(function*(V){let G=yield Fn(V.appConfig);for(;1===G.registrationStatus;)yield Ft(100),G=yield Fn(V.appConfig);if(0===G.registrationStatus){const{installationEntry:he,registrationPromise:it}=yield oe(V);return it||he}return G})).apply(this,arguments)}function Fn(V){return ct(V,G=>{if(!G)throw _t.create("installation-not-found");return ii(G)})}function ii(V){return function wi(V){return 1===V.registrationStatus&&V.registrationTime+1e4<Date.now()}(V)?{fid:V.fid,registrationStatus:0}:V}function ri(V,G){return mn.apply(this,arguments)}function mn(){return(mn=(0,b.Z)(function*({appConfig:V,heartbeatServiceProvider:G},he){const it=mi(V,he),Nt=de(V,he),Kt=G.getImmediate({optional:!0});if(Kt){const hi=yield Kt.getHeartbeatsHeader();hi&&Nt.append("x-firebase-client",hi)}const Kn={method:"POST",headers:Nt,body:JSON.stringify({installation:{sdkVersion:xe,appId:V.appId}})},ti=yield ut(()=>fetch(it,Kn));if(ti.ok)return me(yield ti.json());throw yield Ce("Generate Auth Token",ti)})).apply(this,arguments)}function mi(V,{fid:G}){return`${ue(V)}/${G}/authTokens:generate`}function Sn(V){return At.apply(this,arguments)}function At(){return(At=(0,b.Z)(function*(V,G=!1){let he;const it=yield ct(V.appConfig,Kt=>{if(!Se(Kt))throw _t.create("not-registered");const wn=Kt.authToken;if(!G&&Me(wn))return Kt;if(1===wn.requestStatus)return he=W(V,G),Kt;{if(!navigator.onLine)throw _t.create("app-offline");const Kn=je(Kt);return he=x(V,Kn),Kn}});return he?yield he:it.authToken})).apply(this,arguments)}function W(V,G){return O.apply(this,arguments)}function O(){return(O=(0,b.Z)(function*(V,G){let he=yield m(V.appConfig);for(;1===he.authToken.requestStatus;)yield Ft(100),he=yield m(V.appConfig);const it=he.authToken;return 0===it.requestStatus?Sn(V,G):it})).apply(this,arguments)}function m(V){return ct(V,G=>{if(!Se(G))throw _t.create("not-registered");return function It(V){return 1===V.requestStatus&&V.requestTime+1e4<Date.now()}(G.authToken)?Object.assign(Object.assign({},G),{authToken:{requestStatus:0}}):G})}function x(V,G){return U.apply(this,arguments)}function U(){return(U=(0,b.Z)(function*(V,G){try{const he=yield ri(V,G),it=Object.assign(Object.assign({},G),{authToken:he});return yield $e(V.appConfig,it),he}catch(he){if(!lt(he)||401!==he.customData.serverCode&&404!==he.customData.serverCode){const it=Object.assign(Object.assign({},G),{authToken:{requestStatus:0}});yield $e(V.appConfig,it)}else yield Ht(V.appConfig);throw he}})).apply(this,arguments)}function Se(V){return void 0!==V&&2===V.registrationStatus}function Me(V){return 2===V.requestStatus&&!function Ie(V){const G=Date.now();return G<V.creationTime||V.creationTime+V.expiresIn<G+36e5}(V)}function je(V){const G={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},V),{authToken:G})}function He(){return(He=(0,b.Z)(function*(V){const G=V,{installationEntry:he,registrationPromise:it}=yield oe(G);return it?it.catch(console.error):Sn(G).catch(console.error),he.fid})).apply(this,arguments)}function Ve(){return(Ve=(0,b.Z)(function*(V,G=!1){const he=V;return yield pt(he),(yield Sn(he,G)).token})).apply(this,arguments)}function pt(V){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,b.Z)(function*(V){const{registrationPromise:G}=yield oe(V);G&&(yield G)})).apply(this,arguments)}function Ji(V){return _t.create("missing-app-config-values",{valueName:V})}const Te="installations",ae=V=>{const G=V.getProvider("app").getImmediate(),he=function Yi(V){if(!V||!V.options)throw Ji("App Configuration");if(!V.name)throw Ji("App Name");const G=["projectId","apiKey","appId"];for(const he of G)if(!V.options[he])throw Ji(he);return{appName:V.name,projectId:V.options.projectId,apiKey:V.options.apiKey,appId:V.options.appId}}(G);return{app:G,appConfig:he,heartbeatServiceProvider:(0,te._getProvider)(G,"heartbeat"),_delete:()=>Promise.resolve()}},qe=V=>{const G=V.getProvider("app").getImmediate(),he=(0,te._getProvider)(G,Te).getImmediate();return{getId:()=>function Et(V){return He.apply(this,arguments)}(he),getToken:Nt=>function ze(V){return Ve.apply(this,arguments)}(he,Nt)}};(function kt(){(0,te._registerComponent)(new ce.wA(Te,ae,"PUBLIC")),(0,te._registerComponent)(new ce.wA("installations-internal",qe,"PRIVATE"))})(),(0,te.registerVersion)(z,B),(0,te.registerVersion)(z,B,"esm2017");const tn="@firebase/remote-config",si=new v.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Es{constructor(G,he,it,Nt){this.client=G,this.storage=he,this.storageCache=it,this.logger=Nt}isCachedDataFresh(G,he){if(!he)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const it=Date.now()-he,Nt=it<=G;return this.logger.debug(`Config fetch cache check. Cache age millis: ${it}. Cache max age millis (minimumFetchIntervalMillis setting): ${G}. Is cache hit: ${Nt}.`),Nt}fetch(G){var he=this;return(0,b.Z)(function*(){const[it,Nt]=yield Promise.all([he.storage.getLastSuccessfulFetchTimestampMillis(),he.storage.getLastSuccessfulFetchResponse()]);if(Nt&&he.isCachedDataFresh(G.cacheMaxAgeMillis,it))return Nt;G.eTag=Nt&&Nt.eTag;const Kt=yield he.client.fetch(G),wn=[he.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Kt.status&&wn.push(he.storage.setLastSuccessfulFetchResponse(Kt)),yield Promise.all(wn),Kt})()}}function Io(V=navigator){return V.languages&&V.languages[0]||V.language}class mr{constructor(G,he,it,Nt,Kt,wn){this.firebaseInstallations=G,this.sdkVersion=he,this.namespace=it,this.projectId=Nt,this.apiKey=Kt,this.appId=wn}fetch(G){var he=this;return(0,b.Z)(function*(){const[it,Nt]=yield Promise.all([he.firebaseInstallations.getId(),he.firebaseInstallations.getToken()]),wn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${he.projectId}/namespaces/${he.namespace}:fetch?key=${he.apiKey}`,Kn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":G.eTag||"*"},ti={sdk_version:he.sdkVersion,app_instance_id:it,app_instance_id_token:Nt,app_id:he.appId,language_code:Io()},hi={method:"POST",headers:Kn,body:JSON.stringify(ti)},Gi=fetch(wn,hi),ki=new Promise((Fo,va)=>{G.signal.addEventListener(()=>{const el=new Error("The operation was aborted.");el.name="AbortError",va(el)})});let no;try{yield Promise.race([Gi,ki]),no=yield Gi}catch(Fo){let va="fetch-client-network";throw"AbortError"===(null==Fo?void 0:Fo.name)&&(va="fetch-timeout"),si.create(va,{originalErrorMessage:null==Fo?void 0:Fo.message})}let Bs=no.status;const Ja=no.headers.get("ETag")||void 0;let fl,Oa;if(200===no.status){let Fo;try{Fo=yield no.json()}catch(va){throw si.create("fetch-client-parse",{originalErrorMessage:null==va?void 0:va.message})}fl=Fo.entries,Oa=Fo.state}if("INSTANCE_STATE_UNSPECIFIED"===Oa?Bs=500:"NO_CHANGE"===Oa?Bs=304:("NO_TEMPLATE"===Oa||"EMPTY_CONFIG"===Oa)&&(fl={}),304!==Bs&&200!==Bs)throw si.create("fetch-status",{httpStatus:Bs});return{status:Bs,eTag:Ja,config:fl}})()}}class Is{constructor(G,he){this.client=G,this.storage=he}fetch(G){var he=this;return(0,b.Z)(function*(){const it=(yield he.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return he.attemptFetch(G,it)})()}attemptFetch(G,{throttleEndTimeMillis:he,backoffCount:it}){var Nt=this;return(0,b.Z)(function*(){yield function Ms(V,G){return new Promise((he,it)=>{const Nt=Math.max(G-Date.now(),0),Kt=setTimeout(he,Nt);V.addEventListener(()=>{clearTimeout(Kt),it(si.create("fetch-throttle",{throttleEndTimeMillis:G}))})})}(G.signal,he);try{const Kt=yield Nt.client.fetch(G);return yield Nt.storage.deleteThrottleMetadata(),Kt}catch(Kt){if(!function us(V){if(!(V instanceof v.ZR&&V.customData))return!1;const G=Number(V.customData.httpStatus);return 429===G||500===G||503===G||504===G}(Kt))throw Kt;const wn={throttleEndTimeMillis:Date.now()+(0,v.$s)(it),backoffCount:it+1};return yield Nt.storage.setThrottleMetadata(wn),Nt.attemptFetch(G,wn)}})()}}class so{constructor(G,he,it,Nt,Kt){this.app=G,this._client=he,this._storageCache=it,this._storage=Nt,this._logger=Kt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Hs(V,G){const he=V.target.error||void 0;return si.create(G,{originalErrorMessage:he&&(null==he?void 0:he.message)})}const _s="app_namespace_store";class qo{constructor(G,he,it,Nt=function go(){return new Promise((V,G)=>{try{const he=indexedDB.open("firebase_remote_config",1);he.onerror=it=>{G(Hs(it,"storage-open"))},he.onsuccess=it=>{V(it.target.result)},he.onupgradeneeded=it=>{0===it.oldVersion&&it.target.result.createObjectStore(_s,{keyPath:"compositeKey"})}}catch(he){G(si.create("storage-open",{originalErrorMessage:null==he?void 0:he.message}))}})}()){this.appId=G,this.appName=he,this.namespace=it,this.openDbPromise=Nt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(G){return this.set("last_fetch_status",G)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(G){return this.set("last_successful_fetch_timestamp_millis",G)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(G){return this.set("last_successful_fetch_response",G)}getActiveConfig(){return this.get("active_config")}setActiveConfig(G){return this.set("active_config",G)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(G){return this.set("active_config_etag",G)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(G){return this.set("throttle_metadata",G)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(G){var he=this;return(0,b.Z)(function*(){const it=yield he.openDbPromise;return new Promise((Nt,Kt)=>{const Kn=it.transaction([_s],"readonly").objectStore(_s),ti=he.createCompositeKey(G);try{const hi=Kn.get(ti);hi.onerror=Gi=>{Kt(Hs(Gi,"storage-get"))},hi.onsuccess=Gi=>{const ki=Gi.target.result;Nt(ki?ki.value:void 0)}}catch(hi){Kt(si.create("storage-get",{originalErrorMessage:null==hi?void 0:hi.message}))}})})()}set(G,he){var it=this;return(0,b.Z)(function*(){const Nt=yield it.openDbPromise;return new Promise((Kt,wn)=>{const ti=Nt.transaction([_s],"readwrite").objectStore(_s),hi=it.createCompositeKey(G);try{const Gi=ti.put({compositeKey:hi,value:he});Gi.onerror=ki=>{wn(Hs(ki,"storage-set"))},Gi.onsuccess=()=>{Kt()}}catch(Gi){wn(si.create("storage-set",{originalErrorMessage:null==Gi?void 0:Gi.message}))}})})()}delete(G){var he=this;return(0,b.Z)(function*(){const it=yield he.openDbPromise;return new Promise((Nt,Kt)=>{const Kn=it.transaction([_s],"readwrite").objectStore(_s),ti=he.createCompositeKey(G);try{const hi=Kn.delete(ti);hi.onerror=Gi=>{Kt(Hs(Gi,"storage-delete"))},hi.onsuccess=()=>{Nt()}}catch(hi){Kt(si.create("storage-delete",{originalErrorMessage:null==hi?void 0:hi.message}))}})})()}createCompositeKey(G){return[this.appId,this.appName,this.namespace,G].join()}}class ys{constructor(G){this.storage=G}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var G=this;return(0,b.Z)(function*(){const he=G.storage.getLastFetchStatus(),it=G.storage.getLastSuccessfulFetchTimestampMillis(),Nt=G.storage.getActiveConfig(),Kt=yield he;Kt&&(G.lastFetchStatus=Kt);const wn=yield it;wn&&(G.lastSuccessfulFetchTimestampMillis=wn);const Kn=yield Nt;Kn&&(G.activeConfig=Kn)})()}setLastFetchStatus(G){return this.lastFetchStatus=G,this.storage.setLastFetchStatus(G)}setLastSuccessfulFetchTimestampMillis(G){return this.lastSuccessfulFetchTimestampMillis=G,this.storage.setLastSuccessfulFetchTimestampMillis(G)}setActiveConfig(G){return this.activeConfig=G,this.storage.setActiveConfig(G)}}function ps(){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,b.Z)(function*(){if(!(0,v.hl)())return!1;try{return yield(0,v.eu)()}catch(V){return!1}})).apply(this,arguments)}!function Rs(){(0,te._registerComponent)(new ce.wA("remote-config",function V(G,{instanceIdentifier:he}){const it=G.getProvider("app").getImmediate(),Nt=G.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw si.create("registration-window");if(!(0,v.hl)())throw si.create("indexed-db-unavailable");const{projectId:Kt,apiKey:wn,appId:Kn}=it.options;if(!Kt)throw si.create("registration-project-id");if(!wn)throw si.create("registration-api-key");if(!Kn)throw si.create("registration-app-id");const ti=new qo(Kn,it.name,he=he||"firebase"),hi=new ys(ti),Gi=new ye.Yd(tn);Gi.logLevel=ye.in.ERROR;const ki=new mr(Nt,te.SDK_VERSION,he,Kt,wn,Kn),no=new Is(ki,ti),Bs=new Es(no,ti,hi,Gi),Ja=new so(it,Bs,hi,ti,Gi);return function St(V){const G=(0,v.m9)(V);G._initializePromise||(G._initializePromise=G._storageCache.loadFromStorage().then(()=>{G._isInitializationComplete=!0}))}(Ja),Ja},"PUBLIC").setMultipleInstances(!0)),(0,te.registerVersion)(tn,"0.4.3"),(0,te.registerVersion)(tn,"0.4.3","esm2017")}();const Qo="/firebase-messaging-sw.js",Or="/firebase-cloud-messaging-push-scope",Gs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ns="google.c.a.c_id",zs="google.c.a.c_l",Br="google.c.a.ts",Ps="google.c.a.e";var Ts=(()=>{return(V=Ts||(Ts={})).PUSH_RECEIVED="push-received",V.NOTIFICATION_CLICKED="notification-clicked",Ts;var V})();function bi(V){const G=new Uint8Array(V);return btoa(String.fromCharCode(...G)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Rr(V){const he=(V+"=".repeat((4-V.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),it=atob(he),Nt=new Uint8Array(it.length);for(let Kt=0;Kt<it.length;++Kt)Nt[Kt]=it.charCodeAt(Kt);return Nt}const Ki="fcm_token_details_db",wr="fcm_token_object_Store";function Dr(V){return oo.apply(this,arguments)}function oo(){return oo=(0,b.Z)(function*(V){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Kt=>Kt.name).includes(Ki))return null;let G=null;return(yield(0,be.X3)(Ki,5,{upgrade:(it=(0,b.Z)(function*(Nt,Kt,wn,Kn){var ti;if(Kt<2||!Nt.objectStoreNames.contains(wr))return;const hi=Kn.objectStore(wr),Gi=yield hi.index("fcmSenderId").get(V);if(yield hi.clear(),Gi)if(2===Kt){const ki=Gi;if(!ki.auth||!ki.p256dh||!ki.endpoint)return;G={token:ki.fcmToken,createTime:null!==(ti=ki.createTime)&&void 0!==ti?ti:Date.now(),subscriptionOptions:{auth:ki.auth,p256dh:ki.p256dh,endpoint:ki.endpoint,swScope:ki.swScope,vapidKey:"string"==typeof ki.vapidKey?ki.vapidKey:bi(ki.vapidKey)}}}else if(3===Kt){const ki=Gi;G={token:ki.fcmToken,createTime:ki.createTime,subscriptionOptions:{auth:bi(ki.auth),p256dh:bi(ki.p256dh),endpoint:ki.endpoint,swScope:ki.swScope,vapidKey:bi(ki.vapidKey)}}}else if(4===Kt){const ki=Gi;G={token:ki.fcmToken,createTime:ki.createTime,subscriptionOptions:{auth:bi(ki.auth),p256dh:bi(ki.p256dh),endpoint:ki.endpoint,swScope:ki.swScope,vapidKey:bi(ki.vapidKey)}}}}),function(Kt,wn,Kn,ti){return it.apply(this,arguments)})})).close(),yield(0,be.Lj)(Ki),yield(0,be.Lj)("fcm_vapid_details_db"),yield(0,be.Lj)("undefined"),Fs(G)?G:null;var it}),oo.apply(this,arguments)}function Fs(V){if(!V||!V.subscriptionOptions)return!1;const{subscriptionOptions:G}=V;return"number"==typeof V.createTime&&V.createTime>0&&"string"==typeof V.token&&V.token.length>0&&"string"==typeof G.auth&&G.auth.length>0&&"string"==typeof G.p256dh&&G.p256dh.length>0&&"string"==typeof G.endpoint&&G.endpoint.length>0&&"string"==typeof G.swScope&&G.swScope.length>0&&"string"==typeof G.vapidKey&&G.vapidKey.length>0}const Pr="firebase-messaging-store";let ds=null;function xi(){return ds||(ds=(0,be.X3)("firebase-messaging-database",1,{upgrade:(V,G)=>{0===G&&V.createObjectStore(Pr)}})),ds}function K(V){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,b.Z)(function*(V){const G=un(V),it=yield(yield xi()).transaction(Pr).objectStore(Pr).get(G);if(it)return it;{const Nt=yield Dr(V.appConfig.senderId);if(Nt)return yield $(V,Nt),Nt}})).apply(this,arguments)}function $(V,G){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,b.Z)(function*(V,G){const he=un(V),Nt=(yield xi()).transaction(Pr,"readwrite");return yield Nt.objectStore(Pr).put(G,he),yield Nt.done,G})).apply(this,arguments)}function yt(V){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,b.Z)(function*(V){const G=un(V),it=(yield xi()).transaction(Pr,"readwrite");yield it.objectStore(Pr).delete(G),yield it.done})).apply(this,arguments)}function un({appConfig:V}){return V.appId}const ci=new v.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Oi(V,G){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,b.Z)(function*(V,G){const he=yield j(V),it=De(G),Nt={method:"POST",headers:he,body:JSON.stringify(it)};let Kt;try{Kt=yield(yield fetch(Z(V.appConfig),Nt)).json()}catch(wn){throw ci.create("token-subscribe-failed",{errorInfo:null==wn?void 0:wn.toString()})}if(Kt.error)throw ci.create("token-subscribe-failed",{errorInfo:Kt.error.message});if(!Kt.token)throw ci.create("token-subscribe-no-token");return Kt.token})).apply(this,arguments)}function Ei(V,G){return or.apply(this,arguments)}function or(){return(or=(0,b.Z)(function*(V,G){const he=yield j(V),it=De(G.subscriptionOptions),Nt={method:"PATCH",headers:he,body:JSON.stringify(it)};let Kt;try{Kt=yield(yield fetch(`${Z(V.appConfig)}/${G.token}`,Nt)).json()}catch(wn){throw ci.create("token-update-failed",{errorInfo:null==wn?void 0:wn.toString()})}if(Kt.error)throw ci.create("token-update-failed",{errorInfo:Kt.error.message});if(!Kt.token)throw ci.create("token-update-no-token");return Kt.token})).apply(this,arguments)}function Ri(V,G){return qi.apply(this,arguments)}function qi(){return(qi=(0,b.Z)(function*(V,G){const it={method:"DELETE",headers:yield j(V)};try{const Kt=yield(yield fetch(`${Z(V.appConfig)}/${G}`,it)).json();if(Kt.error)throw ci.create("token-unsubscribe-failed",{errorInfo:Kt.error.message})}catch(Nt){throw ci.create("token-unsubscribe-failed",{errorInfo:null==Nt?void 0:Nt.toString()})}})).apply(this,arguments)}function Z({projectId:V}){return`https://fcmregistrations.googleapis.com/v1/projects/${V}/registrations`}function j(V){return F.apply(this,arguments)}function F(){return(F=(0,b.Z)(function*({appConfig:V,installations:G}){const he=yield G.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":V.apiKey,"x-goog-firebase-installations-auth":`FIS ${he}`})})).apply(this,arguments)}function De({p256dh:V,auth:G,endpoint:he,vapidKey:it}){const Nt={web:{endpoint:he,auth:G,p256dh:V}};return it!==Gs&&(Nt.web.applicationPubKey=it),Nt}const en=6048e5;function Ln(V){return ir.apply(this,arguments)}function ir(){return(ir=(0,b.Z)(function*(V){const G=yield ao(V.swRegistration,V.vapidKey),he={vapidKey:V.vapidKey,swScope:V.swRegistration.scope,endpoint:G.endpoint,auth:bi(G.getKey("auth")),p256dh:bi(G.getKey("p256dh"))},it=yield K(V.firebaseDependencies);if(it){if(oa(it.subscriptionOptions,he))return Date.now()>=it.createTime+en?_o(V,{token:it.token,createTime:Date.now(),subscriptionOptions:he}):it.token;try{yield Ri(V.firebaseDependencies,it.token)}catch(Nt){console.warn(Nt)}return pn(V.firebaseDependencies,he)}return pn(V.firebaseDependencies,he)})).apply(this,arguments)}function Fr(V){return hs.apply(this,arguments)}function hs(){return(hs=(0,b.Z)(function*(V){const G=yield K(V.firebaseDependencies);G&&(yield Ri(V.firebaseDependencies,G.token),yield yt(V.firebaseDependencies));const he=yield V.swRegistration.pushManager.getSubscription();return!he||he.unsubscribe()})).apply(this,arguments)}function _o(V,G){return lr.apply(this,arguments)}function lr(){return(lr=(0,b.Z)(function*(V,G){try{const he=yield Ei(V.firebaseDependencies,G),it=Object.assign(Object.assign({},G),{token:he,createTime:Date.now()});return yield $(V.firebaseDependencies,it),he}catch(he){throw yield Fr(V),he}})).apply(this,arguments)}function pn(V,G){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,b.Z)(function*(V,G){const it={token:yield Oi(V,G),createTime:Date.now(),subscriptionOptions:G};return yield $(V,it),it.token})).apply(this,arguments)}function ao(V,G){return Er.apply(this,arguments)}function Er(){return(Er=(0,b.Z)(function*(V,G){return(yield V.pushManager.getSubscription())||V.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Rr(G)})})).apply(this,arguments)}function oa(V,G){return G.vapidKey===V.vapidKey&&G.endpoint===V.endpoint&&G.auth===V.auth&&G.p256dh===V.p256dh}function Qs(V){const G={from:V.from,collapseKey:V.collapse_key,messageId:V.fcmMessageId};return function Ns(V,G){if(!G.notification)return;V.notification={};const he=G.notification.title;he&&(V.notification.title=he);const it=G.notification.body;it&&(V.notification.body=it);const Nt=G.notification.image;Nt&&(V.notification.image=Nt);const Kt=G.notification.icon;Kt&&(V.notification.icon=Kt)}(G,V),function Xo(V,G){!G.data||(V.data=G.data)}(G,V),function Sa(V,G){var he,it,Nt,Kt,wn;if(!G.fcmOptions&&!(null===(he=G.notification)||void 0===he?void 0:he.click_action))return;V.fcmOptions={};const Kn=null!==(Nt=null===(it=G.fcmOptions)||void 0===it?void 0:it.link)&&void 0!==Nt?Nt:null===(Kt=G.notification)||void 0===Kt?void 0:Kt.click_action;Kn&&(V.fcmOptions.link=Kn);const ti=null===(wn=G.fcmOptions)||void 0===wn?void 0:wn.analytics_label;ti&&(V.fcmOptions.analyticsLabel=ti)}(G,V),G}function $s(V){return"object"==typeof V&&!!V&&ns in V}function aa(V,G){const he=[];for(let it=0;it<V.length;it++)he.push(V.charAt(it)),it<G.length&&he.push(G.charAt(it));return he.join("")}function lo(V){return ci.create("missing-app-config-values",{valueName:V})}aa("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),aa("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Yr{constructor(G,he,it){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Nt=function Ua(V){if(!V||!V.options)throw lo("App Configuration Object");if(!V.name)throw lo("App Name");const G=["projectId","apiKey","appId","messagingSenderId"],{options:he}=V;for(const it of G)if(!he[it])throw lo(it);return{appName:V.name,projectId:he.projectId,apiKey:he.apiKey,appId:he.appId,senderId:he.messagingSenderId}}(G);this.firebaseDependencies={app:G,appConfig:Nt,installations:he,analyticsProvider:it}}_delete(){return Promise.resolve()}}function xs(V){return le.apply(this,arguments)}function le(){return(le=(0,b.Z)(function*(V){try{V.swRegistration=yield navigator.serviceWorker.register(Qo,{scope:Or}),V.swRegistration.update().catch(()=>{})}catch(G){throw ci.create("failed-service-worker-registration",{browserErrorMessage:null==G?void 0:G.message})}})).apply(this,arguments)}function C(V,G){return M.apply(this,arguments)}function M(){return(M=(0,b.Z)(function*(V,G){if(!G&&!V.swRegistration&&(yield xs(V)),G||!V.swRegistration){if(!(G instanceof ServiceWorkerRegistration))throw ci.create("invalid-sw-registration");V.swRegistration=G}})).apply(this,arguments)}function H(V,G){return pe.apply(this,arguments)}function pe(){return(pe=(0,b.Z)(function*(V,G){G?V.vapidKey=G:V.vapidKey||(V.vapidKey=Gs)})).apply(this,arguments)}function ft(){return(ft=(0,b.Z)(function*(V,G){if(!navigator)throw ci.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ci.create("permission-blocked");return yield H(V,null==G?void 0:G.vapidKey),yield C(V,null==G?void 0:G.serviceWorkerRegistration),Ln(V)})).apply(this,arguments)}function gt(V,G,he){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,b.Z)(function*(V,G,he){const it=ln(G);(yield V.firebaseDependencies.analyticsProvider.get()).logEvent(it,{message_id:he[ns],message_name:he[zs],message_time:he[Br],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ln(V){switch(V){case Ts.NOTIFICATION_CLICKED:return"notification_open";case Ts.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Zn(){return(Zn=(0,b.Z)(function*(V,G){const he=G.data;if(!he.isFirebaseMessaging)return;V.onMessageHandler&&he.messageType===Ts.PUSH_RECEIVED&&("function"==typeof V.onMessageHandler?V.onMessageHandler(Qs(he)):V.onMessageHandler.next(Qs(he)));const it=he.data;$s(it)&&"1"===it[Ps]&&(yield gt(V,he.messageType,it))})).apply(this,arguments)}const _i="@firebase/messaging",ai=V=>{const G=new Yr(V.getProvider("app").getImmediate(),V.getProvider("installations-internal").getImmediate(),V.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",he=>function Nn(V,G){return Zn.apply(this,arguments)}(G,he)),G},li=V=>{const G=V.getProvider("messaging").getImmediate();return{getToken:it=>function Ue(V,G){return ft.apply(this,arguments)}(G,it)}};function rr(){return ur.apply(this,arguments)}function ur(){return(ur=(0,b.Z)(function*(){try{yield(0,v.eu)()}catch(V){return!1}return"undefined"!=typeof window&&(0,v.hl)()&&(0,v.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Qi(){(0,te._registerComponent)(new ce.wA("messaging",ai,"PUBLIC")),(0,te._registerComponent)(new ce.wA("messaging-internal",li,"PRIVATE")),(0,te.registerVersion)(_i,"0.12.3"),(0,te.registerVersion)(_i,"0.12.3","esm2017")}();const Jo="analytics",la="firebase_id",vr="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",jn="https://www.googletagmanager.com/gtag/js",Un=new ye.Yd("@firebase/analytics");function ui(V){return Promise.all(V.map(G=>G.catch(he=>he)))}function di(V,G){const he=document.createElement("script");he.src=`${jn}?l=${V}&id=${G}`,he.async=!0,document.head.appendChild(he)}function br(V,G,he,it,Nt,Kt){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,b.Z)(function*(V,G,he,it,Nt,Kt){const wn=it[Nt];try{if(wn)yield G[wn];else{const ti=(yield ui(he)).find(hi=>hi.measurementId===Nt);ti&&(yield G[ti.appId])}}catch(Kn){Un.error(Kn)}V("config",Nt,Kt)})).apply(this,arguments)}function vo(V,G,he,it,Nt){return cn.apply(this,arguments)}function cn(){return(cn=(0,b.Z)(function*(V,G,he,it,Nt){try{let Kt=[];if(Nt&&Nt.send_to){let wn=Nt.send_to;Array.isArray(wn)||(wn=[wn]);const Kn=yield ui(he);for(const ti of wn){const hi=Kn.find(ki=>ki.measurementId===ti),Gi=hi&&G[hi.appId];if(!Gi){Kt=[];break}Kt.push(Gi)}}0===Kt.length&&(Kt=Object.values(G)),yield Promise.all(Kt),V("event",it,Nt||{})}catch(Kt){Un.error(Kt)}})).apply(this,arguments)}function Zr(V){const G=window.document.getElementsByTagName("script");for(const he of Object.values(G))if(he.src&&he.src.includes(jn)&&he.src.includes(V))return he;return null}const On=new v.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),yn=new class Zt{constructor(G={},he=1e3){this.throttleMetadata=G,this.intervalMillis=he}getThrottleMetadata(G){return this.throttleMetadata[G]}setThrottleMetadata(G,he){this.throttleMetadata[G]=he}deleteThrottleMetadata(G){delete this.throttleMetadata[G]}};function qr(V){return new Headers({Accept:"application/json","x-goog-api-key":V})}function ca(V){return jo.apply(this,arguments)}function jo(){return(jo=(0,b.Z)(function*(V){var G;const{appId:he,apiKey:it}=V,Nt={method:"GET",headers:qr(it)},Kt=vr.replace("{app-id}",he),wn=yield fetch(Kt,Nt);if(200!==wn.status&&304!==wn.status){let Kn="";try{const ti=yield wn.json();(null===(G=ti.error)||void 0===G?void 0:G.message)&&(Kn=ti.error.message)}catch(ti){}throw On.create("config-fetch-failed",{httpStatus:wn.status,responseMessage:Kn})}return wn.json()})).apply(this,arguments)}function rs(V){return ko.apply(this,arguments)}function ko(){return(ko=(0,b.Z)(function*(V,G=yn,he){const{appId:it,apiKey:Nt,measurementId:Kt}=V.options;if(!it)throw On.create("no-app-id");if(!Nt){if(Kt)return{measurementId:Kt,appId:it};throw On.create("no-api-key")}const wn=G.getThrottleMetadata(it)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Kn=new Gl;return setTimeout((0,b.Z)(function*(){Kn.abort()}),void 0!==he?he:6e4),ua({appId:it,apiKey:Nt,measurementId:Kt},wn,Kn,G)})).apply(this,arguments)}function ua(V,G,he){return da.apply(this,arguments)}function da(){return(da=(0,b.Z)(function*(V,{throttleEndTimeMillis:G,backoffCount:he},it,Nt=yn){var Kt;const{appId:wn,measurementId:Kn}=V;try{yield Ha(it,G)}catch(ti){if(Kn)return Un.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Kn} provided in the "measurementId" field in the local Firebase config. [${null==ti?void 0:ti.message}]`),{appId:wn,measurementId:Kn};throw ti}try{const ti=yield ca(V);return Nt.deleteThrottleMetadata(wn),ti}catch(ti){const hi=ti;if(!wl(hi)){if(Nt.deleteThrottleMetadata(wn),Kn)return Un.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Kn} provided in the "measurementId" field in the local Firebase config. [${null==hi?void 0:hi.message}]`),{appId:wn,measurementId:Kn};throw ti}const Gi=503===Number(null===(Kt=null==hi?void 0:hi.customData)||void 0===Kt?void 0:Kt.httpStatus)?(0,v.$s)(he,Nt.intervalMillis,30):(0,v.$s)(he,Nt.intervalMillis),ki={throttleEndTimeMillis:Date.now()+Gi,backoffCount:he+1};return Nt.setThrottleMetadata(wn,ki),Un.debug(`Calling attemptFetch again in ${Gi} millis`),ua(V,ki,it,Nt)}})).apply(this,arguments)}function Ha(V,G){return new Promise((he,it)=>{const Nt=Math.max(G-Date.now(),0),Kt=setTimeout(he,Nt);V.addEventListener(()=>{clearTimeout(Kt),it(On.create("fetch-throttle",{throttleEndTimeMillis:G}))})})}function wl(V){if(!(V instanceof v.ZR&&V.customData))return!1;const G=Number(V.customData.httpStatus);return 429===G||500===G||503===G||504===G}class Gl{constructor(){this.listeners=[]}addEventListener(G){this.listeners.push(G)}abort(){this.listeners.forEach(G=>G())}}let Go,Ct;function vi(){return(vi=(0,b.Z)(function*(V,G,he,it,Nt){if(Nt&&Nt.global)V("event",he,it);else{const Kt=yield G;V("event",he,Object.assign(Object.assign({},it),{send_to:Kt}))}})).apply(this,arguments)}function Gn(V){Ct=V}function Ni(V){Go=V}function Wn(){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,b.Z)(function*(){if(!(0,v.hl)())return Un.warn(On.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,v.eu)()}catch(V){return Un.warn(On.create("indexeddb-unavailable",{errorInfo:null==V?void 0:V.toString()}).message),!1}return!0})).apply(this,arguments)}function Xs(){return(Xs=(0,b.Z)(function*(V,G,he,it,Nt,Kt,wn){var Kn;const ti=rs(V);ti.then(Bs=>{he[Bs.measurementId]=Bs.appId,V.options.measurementId&&Bs.measurementId!==V.options.measurementId&&Un.warn(`The measurement ID in the local Firebase config (${V.options.measurementId}) does not match the measurement ID fetched from the server (${Bs.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Bs=>Un.error(Bs)),G.push(ti);const hi=Wn().then(Bs=>{if(Bs)return it.getId()}),[Gi,ki]=yield Promise.all([ti,hi]);Zr(Kt)||di(Kt,Gi.measurementId),Ct&&(Nt("consent","default",Ct),Gn(void 0)),Nt("js",new Date);const no=null!==(Kn=null==wn?void 0:wn.config)&&void 0!==Kn?Kn:{};return no.origin="firebase",no.update=!0,null!=ki&&(no[la]=ki),Nt("config",Gi.measurementId,no),Go&&(Nt("set",Go),Ni(void 0)),Gi.measurementId})).apply(this,arguments)}class co{constructor(G){this.app=G}_delete(){return delete Cs[this.app.options.appId],Promise.resolve()}}let Cs={},ha=[];const Ir={};let fa,ss,Oo="dataLayer",zo=!1;function na(V,G,he){!function pa(){const V=[];if((0,v.ru)()&&V.push("This is a browser extension environment."),(0,v.zI)()||V.push("Cookies are not available."),V.length>0){const G=V.map((it,Nt)=>`(${Nt+1}) ${it}`).join(" "),he=On.create("invalid-analytics-context",{errorInfo:G});Un.warn(he.message)}}();const it=V.options.appId;if(!it)throw On.create("no-app-id");if(!V.options.apiKey){if(!V.options.measurementId)throw On.create("no-api-key");Un.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${V.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Cs[it])throw On.create("already-exists",{id:it});if(!zo){!function Zi(V){let G=[];Array.isArray(window[V])?G=window[V]:window[V]=G}(Oo);const{wrappedGtag:Kt,gtagCore:wn}=function Ao(V,G,he,it,Nt){let Kt=function(...wn){window[it].push(arguments)};return window[Nt]&&"function"==typeof window[Nt]&&(Kt=window[Nt]),window[Nt]=function dr(V,G,he,it){function Kt(){return(Kt=(0,b.Z)(function*(wn,Kn,ti){try{"event"===wn?yield vo(V,G,he,Kn,ti):"config"===wn?yield br(V,G,he,it,Kn,ti):"consent"===wn?V("consent","update",ti):V("set",Kn)}catch(hi){Un.error(hi)}})).apply(this,arguments)}return function Nt(wn,Kn,ti){return Kt.apply(this,arguments)}}(Kt,V,G,he),{gtagCore:Kt,wrappedGtag:window[Nt]}}(Cs,ha,Ir,Oo,"gtag");ss=Kt,fa=wn,zo=!0}return Cs[it]=function ji(V,G,he,it,Nt,Kt,wn){return Xs.apply(this,arguments)}(V,ha,Ir,G,fa,Oo,he),new co(V)}function xa(){return xc.apply(this,arguments)}function xc(){return(xc=(0,b.Z)(function*(){if((0,v.ru)()||!(0,v.zI)()||!(0,v.hl)())return!1;try{return yield(0,v.eu)()}catch(V){return!1}})).apply(this,arguments)}const yr="@firebase/analytics";!function Ro(){(0,te._registerComponent)(new ce.wA(Jo,(G,{options:he})=>na(G.getProvider("app").getImmediate(),G.getProvider("installations-internal").getImmediate(),he),"PUBLIC")),(0,te._registerComponent)(new ce.wA("analytics-internal",function V(G){try{const he=G.getProvider(Jo).getImmediate();return{logEvent:(it,Nt,Kt)=>function Ls(V,G,he,it){V=(0,v.m9)(V),function Dl(V,G,he,it,Nt){return vi.apply(this,arguments)}(ss,Cs[V.app.options.appId],G,he,it).catch(Nt=>Un.error(Nt))}(he,it,Nt,Kt)}}catch(he){throw On.create("interop-component-reg-failed",{reason:he})}},"PRIVATE")),(0,te.registerVersion)(yr,"0.9.3"),(0,te.registerVersion)(yr,"0.9.3","esm2017")}();var El=D(4408),ws=D(7565);const dl=new class Js extends ws.v{}(class Qa extends El.o{constructor(G,he){super(G,he),this.scheduler=G,this.work=he}schedule(G,he=0){return he>0?super.schedule(G,he):(this.delay=he,this.state=G,this.scheduler.flush(this),this)}execute(G,he){return he>0||this.closed?super.execute(G,he):this._execute(G,he)}requestAsyncId(G,he,it=0){return null!=it&&it>0||null==it&&this.delay>0?super.requestAsyncId(G,he,it):(G.flush(this),0)}});var ka=D(4986),eo=D(8306),gr=D(8505),$o=D(9468),Ml=D(5363);const fu=new a.GfV("7.5.0"),ma="__angularfire_symbol__analyticsIsSupportedValue",Ur="__angularfire_symbol__analyticsIsSupported",ga="__angularfire_symbol__remoteConfigIsSupportedValue",to="__angularfire_symbol__remoteConfigIsSupported",Po="__angularfire_symbol__messagingIsSupportedValue",Yo="__angularfire_symbol__messagingIsSupported";function _a(V,G,he){if(G){if(1===G.length)return G[0];const Kt=G.filter(wn=>wn.app===he);if(1===Kt.length)return Kt[0]}return he.container.getProvider(V).getImmediate({optional:!0})}globalThis[Ur]||(globalThis[Ur]=xa().then(V=>globalThis[ma]=V).catch(()=>globalThis[ma]=!1)),globalThis[Yo]||(globalThis[Yo]=rr().then(V=>globalThis[Po]=V).catch(()=>globalThis[Po]=!1)),globalThis[to]||(globalThis[to]=ps().then(V=>globalThis[ga]=V).catch(()=>globalThis[ga]=!1));const hl=(V,G)=>{const he=G?[G]:(0,R.C6)(),it=[];return he.forEach(Nt=>{Nt.container.getProvider(V).instances.forEach(wn=>{it.includes(wn)||it.push(wn)})}),it};function Vs(){}class J{constructor(G,he=dl){this.zone=G,this.delegate=he}now(){return this.delegate.now()}schedule(G,he,it){const Nt=this.zone;return this.delegate.schedule(function(wn){Nt.runGuarded(()=>{G.apply(this,[wn])})},he,it)}}class ie{constructor(G){this.zone=G,this.task=null}call(G,he){const it=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Vs,{},Vs,Vs)),he.pipe((0,gr.b)({next:it,complete:it,error:it})).subscribe(G).add(it)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let g=(()=>{class V{constructor(he){this.ngZone=he,this.outsideAngular=he.runOutsideAngular(()=>new J(Zone.current)),this.insideAngular=he.run(()=>new J(Zone.current,ka.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return V.\u0275fac=function(he){return new(he||V)(a.LFG(a.R0b))},V.\u0275prov=a.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})();function Y(){const V=globalThis.\u0275AngularFireScheduler;if(!V)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return V}function ve(V){return Y().ngZone.runOutsideAngular(()=>V())}function at(V){return Y().ngZone.run(()=>V())}function sr(V){return Y(),function Nr(V){return function(he){return(he=he.lift(new ie(V.ngZone))).pipe((0,$o.R)(V.outsideAngular),(0,Ml.Q)(V.insideAngular))}}(Y())(V)}const Hr=(V,G)=>function(){const it=arguments;return G&&setTimeout(()=>{"scheduled"===G.state&&G.invoke()},10),at(()=>V.apply(void 0,it))},Ys=(V,G)=>function(){let he;const it=arguments;for(let Kt=0;Kt<arguments.length;Kt++)"function"==typeof it[Kt]&&(G&&(he||(he=at(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Vs,{},Vs,Vs)))),it[Kt]=Hr(it[Kt],he));const Nt=ve(()=>V.apply(this,it));if(!G){if(Nt instanceof eo.y){const Kt=Y();return Nt.pipe((0,$o.R)(Kt.outsideAngular),(0,Ml.Q)(Kt.insideAngular))}return at(()=>Nt)}return Nt instanceof eo.y?Nt.pipe(sr):Nt instanceof Promise?at(()=>new Promise((Kt,wn)=>Nt.then(Kn=>at(()=>Kt(Kn)),Kn=>at(()=>wn(Kn))))):"function"==typeof Nt&&he?function(){return setTimeout(()=>{he&&"scheduled"===he.state&&he.invoke()},10),Nt.apply(this,arguments)}:at(()=>Nt)}},2090:(on,st,D)=>{D.d(st,{$s:()=>m,BH:()=>me,G6:()=>xt,L:()=>be,LL:()=>Ut,Pz:()=>ue,Sg:()=>Ce,UG:()=>de,US:()=>ce,ZB:()=>re,ZR:()=>Wt,aH:()=>lt,b$:()=>jt,eu:()=>Rt,hl:()=>Vt,jU:()=>ut,m9:()=>Se,ne:()=>_e,pd:()=>X,r3:()=>Qn,ru:()=>Qe,tV:()=>z,uI:()=>Ge,vZ:()=>$e,w1:()=>zt,xO:()=>Ye,xb:()=>Qt,z$:()=>Be,zI:()=>Lt,zd:()=>ct});const te=function(Me){const Ie=[];let je=0;for(let It=0;It<Me.length;It++){let Et=Me.charCodeAt(It);Et<128?Ie[je++]=Et:Et<2048?(Ie[je++]=Et>>6|192,Ie[je++]=63&Et|128):55296==(64512&Et)&&It+1<Me.length&&56320==(64512&Me.charCodeAt(It+1))?(Et=65536+((1023&Et)<<10)+(1023&Me.charCodeAt(++It)),Ie[je++]=Et>>18|240,Ie[je++]=Et>>12&63|128,Ie[je++]=Et>>6&63|128,Ie[je++]=63&Et|128):(Ie[je++]=Et>>12|224,Ie[je++]=Et>>6&63|128,Ie[je++]=63&Et|128)}return Ie},ce={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Me,Ie){if(!Array.isArray(Me))throw Error("encodeByteArray takes an array as a parameter");this.init_();const je=Ie?this.byteToCharMapWebSafe_:this.byteToCharMap_,It=[];for(let Et=0;Et<Me.length;Et+=3){const He=Me[Et],ze=Et+1<Me.length,Ve=ze?Me[Et+1]:0,pt=Et+2<Me.length,Gt=pt?Me[Et+2]:0;let gi=(15&Ve)<<2|Gt>>6,Di=63&Gt;pt||(Di=64,ze||(gi=64)),It.push(je[He>>2],je[(3&He)<<4|Ve>>4],je[gi],je[Di])}return It.join("")},encodeString(Me,Ie){return this.HAS_NATIVE_SUPPORT&&!Ie?btoa(Me):this.encodeByteArray(te(Me),Ie)},decodeString(Me,Ie){return this.HAS_NATIVE_SUPPORT&&!Ie?atob(Me):function(Me){const Ie=[];let je=0,It=0;for(;je<Me.length;){const Et=Me[je++];if(Et<128)Ie[It++]=String.fromCharCode(Et);else if(Et>191&&Et<224){const He=Me[je++];Ie[It++]=String.fromCharCode((31&Et)<<6|63&He)}else if(Et>239&&Et<365){const pt=((7&Et)<<18|(63&Me[je++])<<12|(63&Me[je++])<<6|63&Me[je++])-65536;Ie[It++]=String.fromCharCode(55296+(pt>>10)),Ie[It++]=String.fromCharCode(56320+(1023&pt))}else{const He=Me[je++],ze=Me[je++];Ie[It++]=String.fromCharCode((15&Et)<<12|(63&He)<<6|63&ze)}}return Ie.join("")}(this.decodeStringToByteArray(Me,Ie))},decodeStringToByteArray(Me,Ie){this.init_();const je=Ie?this.charToByteMapWebSafe_:this.charToByteMap_,It=[];for(let Et=0;Et<Me.length;){const He=je[Me.charAt(Et++)],Ve=Et<Me.length?je[Me.charAt(Et)]:0;++Et;const Gt=Et<Me.length?je[Me.charAt(Et)]:64;++Et;const En=Et<Me.length?je[Me.charAt(Et)]:64;if(++Et,null==He||null==Ve||null==Gt||null==En)throw Error();It.push(He<<2|Ve>>4),64!==Gt&&(It.push(Ve<<4&240|Gt>>2),64!==En&&It.push(Gt<<6&192|En))}return It},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Me=0;Me<this.ENCODED_VALS.length;Me++)this.byteToCharMap_[Me]=this.ENCODED_VALS.charAt(Me),this.charToByteMap_[this.byteToCharMap_[Me]]=Me,this.byteToCharMapWebSafe_[Me]=this.ENCODED_VALS_WEBSAFE.charAt(Me),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Me]]=Me,Me>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Me)]=Me,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Me)]=Me)}}},be=function(Me){return function(Me){const Ie=te(Me);return ce.encodeByteArray(Ie,!0)}(Me).replace(/\./g,"")},z=function(Me){try{return ce.decodeString(Me,!0)}catch(Ie){console.error("base64Decode failed: ",Ie)}return null};function re(Me,Ie){if(!(Ie instanceof Object))return Ie;switch(Ie.constructor){case Date:return new Date(Ie.getTime());case Object:void 0===Me&&(Me={});break;case Array:Me=[];break;default:return Ie}for(const je in Ie)!Ie.hasOwnProperty(je)||!xe(je)||(Me[je]=re(Me[je],Ie[je]));return Me}function xe(Me){return"__proto__"!==Me}const Re=()=>{try{return function We(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const Me=process.env.__FIREBASE_DEFAULTS__;return Me?JSON.parse(Me):void 0})()||(()=>{if("undefined"==typeof document)return;let Me;try{Me=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(je){return}const Ie=Me&&z(Me[1]);return Ie&&JSON.parse(Ie)})()}catch(Me){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Me}`)}},lt=()=>{var Me;return null===(Me=Re())||void 0===Me?void 0:Me.config},ue=Me=>{var Ie;return null===(Ie=Re())||void 0===Ie?void 0:Ie[`_${Me}`]};class me{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Ie,je)=>{this.resolve=Ie,this.reject=je})}wrapCallback(Ie){return(je,It)=>{je?this.reject(je):this.resolve(It),"function"==typeof Ie&&(this.promise.catch(()=>{}),1===Ie.length?Ie(je):Ie(je,It))}}}function Ce(Me,Ie){if(Me.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const It=Ie||"demo-project",Et=Me.iat||0,He=Me.sub||Me.user_id;if(!He)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ze=Object.assign({iss:`https://securetoken.google.com/${It}`,aud:It,iat:Et,exp:Et+3600,auth_time:Et,sub:He,user_id:He,firebase:{sign_in_provider:"custom",identities:{}}},Me);return[be(JSON.stringify({alg:"none",type:"JWT"})),be(JSON.stringify(ze)),""].join(".")}function Be(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ge(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Be())}function de(){var Me;const Ie=null===(Me=Re())||void 0===Me?void 0:Me.forceEnvironment;if("node"===Ie)return!0;if("browser"===Ie)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(je){return!1}}function ut(){return"object"==typeof self&&self.self===self}function Qe(){const Me="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Me&&void 0!==Me.id}function jt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function zt(){const Me=Be();return Me.indexOf("MSIE ")>=0||Me.indexOf("Trident/")>=0}function xt(){return!de()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Vt(){try{return"object"==typeof indexedDB}catch(Me){return!1}}function Rt(){return new Promise((Me,Ie)=>{try{let je=!0;const It="validate-browser-context-for-indexeddb-analytics-module",Et=self.indexedDB.open(It);Et.onsuccess=()=>{Et.result.close(),je||self.indexedDB.deleteDatabase(It),Me(!0)},Et.onupgradeneeded=()=>{je=!1},Et.onerror=()=>{var He;Ie((null===(He=Et.error)||void 0===He?void 0:He.message)||"")}}catch(je){Ie(je)}})}function Lt(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Wt extends Error{constructor(Ie,je,It){super(je),this.code=Ie,this.customData=It,this.name="FirebaseError",Object.setPrototypeOf(this,Wt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ut.prototype.create)}}class Ut{constructor(Ie,je,It){this.service=Ie,this.serviceName=je,this.errors=It}create(Ie,...je){const It=je[0]||{},Et=`${this.service}/${Ie}`,He=this.errors[Ie],ze=He?function Ze(Me,Ie){return Me.replace(Pe,(je,It)=>{const Et=Ie[It];return null!=Et?String(Et):`<${It}?>`})}(He,It):"Error";return new Wt(Et,`${this.serviceName}: ${ze} (${Et}).`,It)}}const Pe=/\{\$([^}]+)}/g;function Qn(Me,Ie){return Object.prototype.hasOwnProperty.call(Me,Ie)}function Qt(Me){for(const Ie in Me)if(Object.prototype.hasOwnProperty.call(Me,Ie))return!1;return!0}function $e(Me,Ie){if(Me===Ie)return!0;const je=Object.keys(Me),It=Object.keys(Ie);for(const Et of je){if(!It.includes(Et))return!1;const He=Me[Et],ze=Ie[Et];if(vt(He)&&vt(ze)){if(!$e(He,ze))return!1}else if(He!==ze)return!1}for(const Et of It)if(!je.includes(Et))return!1;return!0}function vt(Me){return null!==Me&&"object"==typeof Me}function Ye(Me){const Ie=[];for(const[je,It]of Object.entries(Me))Array.isArray(It)?It.forEach(Et=>{Ie.push(encodeURIComponent(je)+"="+encodeURIComponent(Et))}):Ie.push(encodeURIComponent(je)+"="+encodeURIComponent(It));return Ie.length?"&"+Ie.join("&"):""}function ct(Me){const Ie={};return Me.replace(/^\?/,"").split("&").forEach(It=>{if(It){const[Et,He]=It.split("=");Ie[decodeURIComponent(Et)]=decodeURIComponent(He)}}),Ie}function X(Me){const Ie=Me.indexOf("?");if(!Ie)return"";const je=Me.indexOf("#",Ie);return Me.substring(Ie,je>0?je:void 0)}function _e(Me,Ie){const je=new dt(Me,Ie);return je.subscribe.bind(je)}class dt{constructor(Ie,je){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=je,this.task.then(()=>{Ie(this)}).catch(It=>{this.error(It)})}next(Ie){this.forEachObserver(je=>{je.next(Ie)})}error(Ie){this.forEachObserver(je=>{je.error(Ie)}),this.close(Ie)}complete(){this.forEachObserver(Ie=>{Ie.complete()}),this.close()}subscribe(Ie,je,It){let Et;if(void 0===Ie&&void 0===je&&void 0===It)throw new Error("Missing Observer.");Et=function qt(Me,Ie){if("object"!=typeof Me||null===Me)return!1;for(const je of Ie)if(je in Me&&"function"==typeof Me[je])return!0;return!1}(Ie,["next","error","complete"])?Ie:{next:Ie,error:je,complete:It},void 0===Et.next&&(Et.next=nn),void 0===Et.error&&(Et.error=nn),void 0===Et.complete&&(Et.complete=nn);const He=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Et.error(this.finalError):Et.complete()}catch(ze){}}),this.observers.push(Et),He}unsubscribeOne(Ie){void 0===this.observers||void 0===this.observers[Ie]||(delete this.observers[Ie],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Ie){if(!this.finalized)for(let je=0;je<this.observers.length;je++)this.sendOne(je,Ie)}sendOne(Ie,je){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Ie])try{je(this.observers[Ie])}catch(It){"undefined"!=typeof console&&console.error&&console.error(It)}})}close(Ie){this.finalized||(this.finalized=!0,void 0!==Ie&&(this.finalError=Ie),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nn(){}function m(Me,Ie=1e3,je=2){const It=Ie*Math.pow(je,Me),Et=Math.round(.5*It*(Math.random()-.5)*2);return Math.min(144e5,It+Et)}function Se(Me){return Me&&Me._delegate?Me._delegate:Me}},198:(on,st,D)=>{D.d(st,{q:()=>Vs});var a=D(9808),R=D(7322),b=D(7531),te=D(7423),v=D(9224),ce=D(5245),ye=D(4594),be=D(8962),z=D(5e3),B=D(508);D(1777);let xt=(()=>{class J{}return J.\u0275fac=function(g){return new(g||J)},J.\u0275mod=z.oAB({type:J}),J.\u0275inj=z.cJS({imports:[[a.ez,B.BQ,be.ZD],be.ZD,B.BQ]}),J})();var Vt=D(4449);let Ye=(()=>{class J{}return J.\u0275fac=function(g){return new(g||J)},J.\u0275mod=z.oAB({type:J}),J.\u0275inj=z.cJS({imports:[[B.uc,B.BQ],B.uc,B.BQ]}),J})();var X=D(1314),oe=D(925);const It={provide:new z.OlP("mat-menu-scroll-strategy"),deps:[X.aV],useFactory:function je(J){return()=>J.scrollStrategies.reposition()}};let pt=(()=>{class J{}return J.\u0275fac=function(g){return new(g||J)},J.\u0275mod=z.oAB({type:J}),J.\u0275inj=z.cJS({providers:[It],imports:[[a.ez,B.BQ,B.si,X.U8],be.ZD,B.BQ]}),J})();var Gt=D(4999);const jr={provide:new z.OlP("mat-select-scroll-strategy"),deps:[X.aV],useFactory:function Si(J){return()=>J.scrollStrategies.reposition()}};let an=(()=>{class J{}return J.\u0275fac=function(g){return new(g||J)},J.\u0275mod=z.oAB({type:J}),J.\u0275inj=z.cJS({providers:[jr],imports:[[a.ez,X.U8,B.Ng,B.BQ],be.ZD,R.lN,B.Ng,B.BQ]}),J})();var _n=D(8255);const mr={provide:new z.OlP("mat-tooltip-scroll-strategy"),deps:[X.aV],useFactory:function Io(J){return()=>J.scrollStrategies.reposition({scrollThrottle:20})}};let Hs=(()=>{class J{}return J.\u0275fac=function(g){return new(g||J)},J.\u0275mod=z.oAB({type:J}),J.\u0275inj=z.cJS({providers:[mr],imports:[[_n.rt,a.ez,X.U8,B.BQ],B.BQ,be.ZD]}),J})();var vs=D(7579);let zr=(()=>{class J{constructor(){this.changes=new vs.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(g,Y,ve)=>{if(0==ve||0==Y)return`0 of ${ve}`;const at=g*Y;return`${at+1} \u2013 ${at<(ve=Math.max(ve,0))?Math.min(at+Y,ve):at+Y} of ${ve}`}}}return J.\u0275fac=function(g){return new(g||J)},J.\u0275prov=z.Yz7({token:J,factory:J.\u0275fac,providedIn:"root"}),J})();const Zs={provide:zr,deps:[[new z.FiY,new z.tp0,zr]],useFactory:function ps(J){return J||new zr}};let Br=(()=>{class J{}return J.\u0275fac=function(g){return new(g||J)},J.\u0275mod=z.oAB({type:J}),J.\u0275inj=z.cJS({providers:[Zs],imports:[[a.ez,te.ot,an,Hs,B.BQ]]}),J})();var Ps=D(4847),$r=D(8966),Ts=D(7144),bi=D(3191),Ki=(D(3075),D(6360));let Ae=(()=>{class J{}return J.\u0275fac=function(g){return new(g||J)},J.\u0275mod=z.oAB({type:J}),J.\u0275inj=z.cJS({}),J})(),yt=(()=>{class J{}return J.\u0275fac=function(g){return new(g||J)},J.\u0275mod=z.oAB({type:J}),J.\u0275inj=z.cJS({imports:[[Ae,B.si,B.BQ,Ts.Q8],Ae,B.BQ]}),J})();var Xt=D(727),Ei=(D(9770),D(6451),D(9646),D(4968),D(1159),D(7429));D(8675),D(3900),D(5698),D(9300),D(4004),D(8505),D(4986),D(7272),D(4482),D(5403),D(5032),D(5577),D(5963),D(226);const C={provide:new z.OlP("mat-autocomplete-scroll-strategy"),deps:[X.aV],useFactory:function le(J){return()=>J.scrollStrategies.reposition()}};let Bt=(()=>{class J{}return J.\u0275fac=function(g){return new(g||J)},J.\u0275mod=z.oAB({type:J}),J.\u0275inj=z.cJS({providers:[C],imports:[[X.U8,B.Ng,B.BQ,a.ez],be.ZD,B.Ng,B.BQ]}),J})();function ln(J,ie){if(1&J&&(z.O4$(),z._UZ(0,"circle",4)),2&J){const g=z.oxw(),Y=z.MAs(1);z.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+g._spinnerAnimationLabel)("stroke-dashoffset",g._getStrokeDashOffset(),"px")("stroke-dasharray",g._getStrokeCircumference(),"px")("stroke-width",g._getCircleStrokeWidth(),"%")("transform-origin",g._getCircleTransformOrigin(Y)),z.uIk("r",g._getCircleRadius())}}function Nn(J,ie){if(1&J&&(z.O4$(),z._UZ(0,"circle",4)),2&J){const g=z.oxw(),Y=z.MAs(1);z.Udp("stroke-dashoffset",g._getStrokeDashOffset(),"px")("stroke-dasharray",g._getStrokeCircumference(),"px")("stroke-width",g._getCircleStrokeWidth(),"%")("transform-origin",g._getCircleTransformOrigin(Y)),z.uIk("r",g._getCircleRadius())}}const Ii=(0,B.pj)(class{constructor(J){this._elementRef=J}},"primary"),ai=new z.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function li(){return{diameter:100}}});class rr extends Ii{constructor(ie,g,Y,ve,at,In,yi,sr){super(ie),this._document=Y,this._diameter=100,this._value=0,this._resizeSubscription=Xt.w0.EMPTY,this.mode="determinate";const Nr=rr._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),Nr.has(Y.head)||Nr.set(Y.head,new Set([100])),this._noopAnimations="NoopAnimations"===ve&&!!at&&!at._forceAnimations,"mat-spinner"===ie.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),at&&(at.diameter&&(this.diameter=at.diameter),at.strokeWidth&&(this.strokeWidth=at.strokeWidth)),g.isBrowser&&g.SAFARI&&yi&&In&&sr&&(this._resizeSubscription=yi.change(150).subscribe(()=>{"indeterminate"===this.mode&&sr.run(()=>In.markForCheck())}))}get diameter(){return this._diameter}set diameter(ie){this._diameter=(0,bi.su)(ie),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(ie){this._strokeWidth=(0,bi.su)(ie)}get value(){return"determinate"===this.mode?this._value:0}set value(ie){this._value=Math.max(0,Math.min(100,(0,bi.su)(ie)))}ngOnInit(){const ie=this._elementRef.nativeElement;this._styleRoot=(0,oe.kV)(ie)||this._document.head,this._attachStyleNode(),ie.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const ie=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${ie} ${ie}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(ie){var g;const Y=50*(null!==(g=ie.currentScale)&&void 0!==g?g:1);return`${Y}% ${Y}%`}_attachStyleNode(){const ie=this._styleRoot,g=this._diameter,Y=rr._diameters;let ve=Y.get(ie);if(!ve||!ve.has(g)){const at=this._document.createElement("style");at.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),at.textContent=this._getAnimationText(),ie.appendChild(at),ve||(ve=new Set,Y.set(ie,ve)),ve.add(g)}}_getAnimationText(){const ie=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*ie).replace(/END_VALUE/g,""+.2*ie).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}rr._diameters=new WeakMap,rr.\u0275fac=function(ie){return new(ie||rr)(z.Y36(z.SBq),z.Y36(oe.t4),z.Y36(a.K0,8),z.Y36(Ki.Qb,8),z.Y36(ai),z.Y36(z.sBO),z.Y36(be.rL),z.Y36(z.R0b))},rr.\u0275cmp=z.Xpm({type:rr,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(ie,g){2&ie&&(z.uIk("aria-valuemin","determinate"===g.mode?0:null)("aria-valuemax","determinate"===g.mode?100:null)("aria-valuenow","determinate"===g.mode?g.value:null)("mode",g.mode),z.Udp("width",g.diameter,"px")("height",g.diameter,"px"),z.ekj("_mat-animation-noopable",g._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[z.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(ie,g){1&ie&&(z.O4$(),z.TgZ(0,"svg",0,1),z.YNc(2,ln,1,11,"circle",2),z.YNc(3,Nn,1,9,"circle",3),z.qZA()),2&ie&&(z.Udp("width",g.diameter,"px")("height",g.diameter,"px"),z.Q6J("ngSwitch","indeterminate"===g.mode),z.uIk("viewBox",g._getViewBox()),z.xp6(2),z.Q6J("ngSwitchCase",!0),z.xp6(1),z.Q6J("ngSwitchCase",!1))},directives:[a.RF,a.n9],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0});let ur=(()=>{class J{}return J.\u0275fac=function(g){return new(g||J)},J.\u0275mod=z.oAB({type:J}),J.\u0275inj=z.cJS({imports:[[B.BQ,a.ez],B.BQ]}),J})(),ge=(()=>{class J{constructor(){this.changes=new vs.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(g,Y){return`${g} \u2013 ${Y}`}}return J.\u0275fac=function(g){return new(g||J)},J.\u0275prov=z.Yz7({token:J,factory:J.\u0275fac,providedIn:"root"}),J})();const ji={provide:new z.OlP("mat-datepicker-scroll-strategy"),deps:[X.aV],useFactory:function Xi(J){return()=>J.scrollStrategies.reposition()}};let zl=(()=>{class J{}return J.\u0275fac=function(g){return new(g||J)},J.\u0275mod=z.oAB({type:J}),J.\u0275inj=z.cJS({providers:[ge,ji],imports:[[a.ez,te.ot,X.U8,_n.rt,Ei.eL,B.BQ],be.ZD]}),J})();var yr=D(9832),Aa=D(5488),Ro=D(5787);let to=(()=>{class J{}return J.\u0275fac=function(g){return new(g||J)},J.\u0275mod=z.oAB({type:J}),J.\u0275inj=z.cJS({imports:[[a.ez,Ro.T]]}),J})(),hl=(()=>{class J{}return J.\u0275fac=function(g){return new(g||J)},J.\u0275mod=z.oAB({type:J}),J.\u0275inj=z.cJS({imports:[[a.ez]]}),J})(),Vs=(()=>{class J{}return J.\u0275fac=function(g){return new(g||J)},J.\u0275mod=z.oAB({type:J}),J.\u0275inj=z.cJS({imports:[[a.ez,R.lN,b.c,te.ot,v.QW,ce.Ps,Ps.JX,$r.Is],R.lN,b.c,te.ot,ce.Ps,ye.g0,te.ot,xt,ce.Ps,Vt.ie,Ye,v.QW,pt,Gt.p0,Br,Ps.JX,$r.Is,an,yt,Bt,ur,zl,B.XK,$r.Is,yr.vV,zl,Aa._8,to,hl]}),J})()},9963:(on,st,D)=>{D.r(st),D.d(st,{AuthModule:()=>ut});var a=D(9808),R=D(3287),b=D(3075),te=D(727),v=D(5e3),ce=D(2542),ye=D(9224),be=D(5245),z=D(4449),B=D(7322),re=D(7531),xe=D(7423);let We=(()=>{class Qe{constructor(bt,zt){this.authService=bt,this.fb=zt,this.hidePassword=!0,this.errorMessage="",this.isLoggedIn=!1,this.form=this.fb.group({email:["",[b.kI.required]],password:["",[b.kI.required]]}),this.errorMessageSub=new te.w0,this.isLoggedInSub=new te.w0}ngOnInit(){}ngOnDestroy(){this.errorMessageSub.unsubscribe(),this.isLoggedInSub.unsubscribe()}get emailInput(){var bt;return null===(bt=this.form.get("email"))||void 0===bt?void 0:bt.value}get passwordInput(){var bt;return null===(bt=this.form.get("password"))||void 0===bt?void 0:bt.value}onSubmit(bt){bt.valid?this.authService.loginUser(this.emailInput,this.passwordInput):console.log("nie je spravny formular")}}return Qe.\u0275fac=function(bt){return new(bt||Qe)(v.Y36(ce.e),v.Y36(b.qu))},Qe.\u0275cmp=v.Xpm({type:Qe,selectors:[["app-login"]],decls:30,vars:3,consts:[[1,"background"],[3,"formGroup","submit"],["mat-list-icon",""],["type","email","matInput","","placeholder","example@email.com","formControlName","email"],["matInput","","placeholder","Password","formControlName","password","required","",3,"type"],["mat-list-icon","","matSuffix","",3,"click"],["mat-raised-button","","color","primary","type","submit"],[1,"centerFlex"],["routerLink","../register"],["routerLink","../forgot-password"]],template:function(bt,zt){1&bt&&(v.TgZ(0,"div",0)(1,"mat-card")(2,"mat-card-title"),v._uU(3,"Prihl\xe1si\u0165 sa"),v.qZA(),v.TgZ(4,"mat-card-content")(5,"form",1),v.NdJ("submit",function(){return zt.onSubmit(zt.form)}),v.TgZ(6,"p")(7,"mat-icon",2),v._uU(8,"mail_outline"),v.qZA(),v.TgZ(9,"mat-form-field"),v._UZ(10,"input",3),v.qZA()(),v.TgZ(11,"p")(12,"mat-icon",2),v._uU(13,"lock_outline"),v.qZA(),v.TgZ(14,"mat-form-field"),v._UZ(15,"input",4),v.TgZ(16,"mat-icon",5),v.NdJ("click",function(){return zt.hidePassword=!zt.hidePassword}),v._uU(17),v.qZA()()(),v.TgZ(18,"p")(19,"button",6),v._uU(20,"Prihl\xe1si\u0165 sa"),v.qZA()(),v.TgZ(21,"div",7)(22,"p")(23,"small")(24,"a",8),v._uU(25,"Registrova\u0165 sa"),v.qZA()()(),v.TgZ(26,"p")(27,"small")(28,"a",9),v._uU(29,"Obnovi\u0165 heslo"),v.qZA()()()()()()()()),2&bt&&(v.xp6(5),v.Q6J("formGroup",zt.form),v.xp6(10),v.Q6J("type",zt.hidePassword?"password":"text"),v.xp6(2),v.Oqu(zt.hidePassword?"visibility_off":"visibility"))},directives:[ye.a8,ye.n5,ye.dn,b._Y,b.JL,b.sg,be.Hw,z.Nh,B.KE,re.Nt,b.Fj,b.JJ,b.u,b.Q7,B.R9,xe.lW,R.yS],styles:[".background[_ngcontent-%COMP%]{height:100vh;display:flex;justify-content:center;align-items:center;background-color:#3f51b5}.mat-form-field[_ngcontent-%COMP%]{min-width:300px;margin:10px}.centerFlex[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}.small-text[_ngcontent-%COMP%]{text-align:right}mat-card-title[_ngcontent-%COMP%], mat-card-content[_ngcontent-%COMP%]{height:auto;display:flex;justify-content:center;align-items:center}button[_ngcontent-%COMP%]{display:block;margin:auto}mat-icon[_ngcontent-%COMP%]{float:left;opacity:.5;margin-top:14px}"]}),Qe})(),Fe=(()=>{class Qe{constructor(){}ngOnInit(){}}return Qe.\u0275fac=function(bt){return new(bt||Qe)},Qe.\u0275cmp=v.Xpm({type:Qe,selectors:[["app-auth"]],decls:1,vars:0,template:function(bt,zt){1&bt&&v._UZ(0,"router-outlet")},directives:[R.lC],styles:[""]}),Qe})();function ot(Qe,jt){1&Qe&&(v.TgZ(0,"mat-hint"),v._uU(1,"Enter your password"),v.qZA())}function et(Qe,jt){if(1&Qe&&(v.TgZ(0,"p",12)(1,"mat-error"),v._uU(2),v.qZA()()),2&Qe){const bt=v.oxw();v.xp6(2),v.hij(" ",bt.errorMessage," ")}}let Re=(()=>{class Qe{constructor(bt,zt){this.authService=bt,this.fb=zt,this.hidePassword=!0,this.errorMessage="",this.isLoggedIn=!1,this.form=this.fb.group({email:["",[b.kI.required]],password:["",[b.kI.required]]}),this.errorMessageSub=new te.w0,this.isLoggedInSub=new te.w0}ngOnInit(){}ngOnDestroy(){this.errorMessageSub.unsubscribe(),this.isLoggedInSub.unsubscribe()}get emailInput(){var bt;return null===(bt=this.form.get("email"))||void 0===bt?void 0:bt.value}get passwordInput(){var bt;return null===(bt=this.form.get("password"))||void 0===bt?void 0:bt.value}onSubmit(bt){bt.valid?this.authService.registerUser(this.emailInput,this.passwordInput):console.log("nie je spravny formular")}}return Qe.\u0275fac=function(bt){return new(bt||Qe)(v.Y36(ce.e),v.Y36(b.qu))},Qe.\u0275cmp=v.Xpm({type:Qe,selectors:[["app-register"]],decls:32,vars:5,consts:[[1,"background"],[3,"formGroup","submit"],["mat-list-icon",""],["type","email","matInput","","placeholder","example@email.com","formControlName","email"],["matInput","","placeholder","Password","formControlName","password","required","",3,"type"],["mat-list-icon","","matSuffix","",3,"click"],[4,"ngIf"],["style","text-align:center",4,"ngIf"],["mat-raised-button","","color","primary","type","submit"],[1,"centerFlex"],["routerLink","../login"],["routerLink","../forgot-password"],[2,"text-align","center"]],template:function(bt,zt){1&bt&&(v.TgZ(0,"div",0)(1,"mat-card")(2,"mat-card-title"),v._uU(3,"Registrova\u0165 sa"),v.qZA(),v.TgZ(4,"mat-card-content")(5,"form",1),v.NdJ("submit",function(){return zt.onSubmit(zt.form)}),v.TgZ(6,"p")(7,"mat-icon",2),v._uU(8,"mail_outline"),v.qZA(),v.TgZ(9,"mat-form-field"),v._UZ(10,"input",3),v.qZA()(),v.TgZ(11,"p")(12,"mat-icon",2),v._uU(13,"lock_outline"),v.qZA(),v.TgZ(14,"mat-form-field"),v._UZ(15,"input",4),v.TgZ(16,"mat-icon",5),v.NdJ("click",function(){return zt.hidePassword=!zt.hidePassword}),v._uU(17),v.qZA(),v.YNc(18,ot,2,0,"mat-hint",6),v.qZA()(),v.YNc(19,et,3,1,"p",7),v.TgZ(20,"p")(21,"button",8),v._uU(22,"Registrova\u0165 sa"),v.qZA()(),v.TgZ(23,"div",9)(24,"p")(25,"small")(26,"a",10),v._uU(27,"Prihl\xe1si\u0165 sa"),v.qZA()()(),v.TgZ(28,"p")(29,"small")(30,"a",11),v._uU(31,"Obnovi\u0165 heslo"),v.qZA()()()()()()()()),2&bt&&(v.xp6(5),v.Q6J("formGroup",zt.form),v.xp6(10),v.Q6J("type",zt.hidePassword?"password":"text"),v.xp6(2),v.Oqu(zt.hidePassword?"visibility_off":"visibility"),v.xp6(1),v.Q6J("ngIf",null==zt.passwordInput?null:zt.passwordInput.value),v.xp6(1),v.Q6J("ngIf",zt.errorMessage))},directives:[ye.a8,ye.n5,ye.dn,b._Y,b.JL,b.sg,be.Hw,z.Nh,B.KE,re.Nt,b.Fj,b.JJ,b.u,b.Q7,B.R9,a.O5,B.bx,B.TO,xe.lW,R.yS],styles:[".background[_ngcontent-%COMP%]{height:100vh;display:flex;justify-content:center;align-items:center;background-color:#3f51b5}.mat-form-field[_ngcontent-%COMP%]{min-width:300px;margin:10px}.centerFlex[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}.small-text[_ngcontent-%COMP%]{text-align:right}mat-card-title[_ngcontent-%COMP%], mat-card-content[_ngcontent-%COMP%]{height:auto;display:flex;justify-content:center;align-items:center}button[_ngcontent-%COMP%]{display:block;margin:auto}mat-icon[_ngcontent-%COMP%]{float:left;opacity:.5;margin-top:14px}"]}),Qe})();function Ke(Qe,jt){if(1&Qe&&(v.TgZ(0,"p",8)(1,"mat-error"),v._uU(2),v.qZA()()),2&Qe){const bt=v.oxw();v.xp6(2),v.hij(" ",bt.errorMessage," ")}}let _t=(()=>{class Qe{constructor(bt,zt){this.authService=bt,this.fb=zt,this.hidePassword=!0,this.errorMessage="",this.form=this.fb.group({email:["",[b.kI.required]]}),this.errorMessageSub=new te.w0,this.isLoggedInSub=new te.w0}ngOnInit(){}ngOnDestroy(){this.errorMessageSub.unsubscribe(),this.isLoggedInSub.unsubscribe()}get emailInput(){var bt;return null===(bt=this.form.get("email"))||void 0===bt?void 0:bt.value}onSubmit(bt){bt.valid&&this.authService.resetPassword(this.emailInput)}}return Qe.\u0275fac=function(bt){return new(bt||Qe)(v.Y36(ce.e),v.Y36(b.qu))},Qe.\u0275cmp=v.Xpm({type:Qe,selectors:[["app-forgot-password"]],decls:20,vars:2,consts:[[1,"background"],[3,"formGroup","submit"],["mat-list-icon",""],["type","email","matInput","","placeholder","priklad@email.com","formControlName","email"],["style","text-align:center",4,"ngIf"],["mat-raised-button","","color","primary","type","submit"],[1,"centerFlex"],["routerLink","../login"],[2,"text-align","center"]],template:function(bt,zt){1&bt&&(v.TgZ(0,"div",0)(1,"mat-card")(2,"mat-card-title"),v._uU(3,"Obnovi\u0165 heslo"),v.qZA(),v.TgZ(4,"mat-card-content")(5,"form",1),v.NdJ("submit",function(){return zt.onSubmit(zt.form)}),v.TgZ(6,"p")(7,"mat-icon",2),v._uU(8,"mail_outline"),v.qZA(),v.TgZ(9,"mat-form-field"),v._UZ(10,"input",3),v.qZA()(),v.YNc(11,Ke,3,1,"p",4),v.TgZ(12,"p")(13,"button",5),v._uU(14,"Obnovi\u0165 heslo"),v.qZA()(),v.TgZ(15,"div",6)(16,"p")(17,"small")(18,"a",7),v._uU(19,"Prihl\xe1si\u0165 sa"),v.qZA()()()()()()()()),2&bt&&(v.xp6(5),v.Q6J("formGroup",zt.form),v.xp6(6),v.Q6J("ngIf",zt.errorMessage))},directives:[ye.a8,ye.n5,ye.dn,b._Y,b.JL,b.sg,be.Hw,z.Nh,B.KE,re.Nt,b.Fj,b.JJ,b.u,a.O5,B.TO,xe.lW,R.yS],styles:[".background[_ngcontent-%COMP%]{height:100vh;display:flex;justify-content:center;align-items:center;background-color:#3f51b5}.mat-form-field[_ngcontent-%COMP%]{min-width:300px;margin:10px}.centerFlex[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}.small-text[_ngcontent-%COMP%]{text-align:right}mat-card-title[_ngcontent-%COMP%], mat-card-content[_ngcontent-%COMP%]{height:auto;display:flex;justify-content:center;align-items:center}button[_ngcontent-%COMP%]{display:block;margin:auto}mat-icon[_ngcontent-%COMP%]{float:left;opacity:.5;margin-top:14px}"]}),Qe})();var lt=D(4004);const me=[{path:"",component:Fe,canActivate:[(()=>{class Qe{constructor(bt,zt){this.authService=bt,this.router=zt}canActivate(bt,zt){return this.authService.isUserLogged().pipe((0,lt.U)(rt=>"/auth/login"!==zt.url&&"/auth/register"!==zt.url&&"/auth/forgot-password"!==zt.url||!rt?!("/auth/login"!==zt.url&&!rt&&(this.router.navigate(["/auth/login"]),1)):(this.router.navigate(["/dashboard"]),!1)))}}return Qe.\u0275fac=function(bt){return new(bt||Qe)(v.LFG(ce.e),v.LFG(R.F0))},Qe.\u0275prov=v.Yz7({token:Qe,factory:Qe.\u0275fac,providedIn:"root"}),Qe})()],children:[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:We},{path:"register",component:Re},{path:"forgot-password",component:_t}]}];let Ce=(()=>{class Qe{}return Qe.\u0275fac=function(bt){return new(bt||Qe)},Qe.\u0275mod=v.oAB({type:Qe}),Qe.\u0275inj=v.cJS({imports:[[R.Bz.forChild(me)],R.Bz]}),Qe})();var Be=D(198),Ge=D(3692),de=D(2340);let ut=(()=>{class Qe{}return Qe.\u0275fac=function(bt){return new(bt||Qe)},Qe.\u0275mod=v.oAB({type:Qe}),Qe.\u0275inj=v.cJS({imports:[[a.ez,Ce,Be.q,b.UX,(0,Ge.hX)(()=>(0,Ge.ZF)(de.N.firebase))]]}),Qe})()},2542:(on,st,D)=>{D.d(st,{e:()=>v});var a=D(4004),R=D(5e3),b=D(1205),te=D(3287);let v=(()=>{class ce{constructor(be,z){this.fireAuth=be,this.router=z}loginUser(be,z){this.fireAuth.signInWithEmailAndPassword(be,z).then(()=>{localStorage.setItem("currentUserToken","true"),this.router.navigate(["dashboard"])},B=>{alert("Something went wrong: "+B.message),this.router.navigate(["auth/login"])})}registerUser(be,z){this.fireAuth.createUserWithEmailAndPassword(be,z).then(()=>{alert("user created successfully"),this.router.navigate(["auth/login"])},B=>{alert("Something went wrong: "+B.message),this.router.navigate(["auth/register"])})}signOut(){this.fireAuth.signOut().then(()=>{localStorage.removeItem("currentUserToken"),this.router.navigate(["auth/login"])},be=>{alert(be.message)})}resetPassword(be){this.fireAuth.sendPasswordResetEmail(be).then(()=>{alert("Email for resetting password sent to email: "+be),this.router.navigate(["auth/login"])},z=>{alert(z.message)})}isUserLogged(){return this.fireAuth.authState.pipe((0,a.U)(be=>!!be))}}return ce.\u0275fac=function(be){return new(be||ce)(R.LFG(b.zQ),R.LFG(te.F0))},ce.\u0275prov=R.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})()},2255:(on,st,D)=>{D.r(st),D.d(st,{DashboardModule:()=>vg});var Re,a=D(9808),R=D(3287),b=D(4004),te=D(3075),v=D(5e3),ce=D(2542),ye=D(2122),B=(D(3692),D(259),D(5861)),re=D(9681),xe=D(4859),We=D(1877),Fe=D(2090),ot="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},et={},Ke=Ke||{},_t=ot||self;function lt(){}function ue(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function me(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Be="closure_uid_"+(1e9*Math.random()>>>0),Ge=0;function de(i,e,t){return i.call.apply(i.bind,arguments)}function ut(i,e,t){if(!i)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,s),i.apply(e,l)}}return function(){return i.apply(e,arguments)}}function Qe(i,e,t){return(Qe=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?de:ut).apply(null,arguments)}function jt(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),i.apply(this,s)}}function bt(i,e){function t(){}t.prototype=e.prototype,i.X=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Wb=function(s,l,d){for(var _=Array(arguments.length-2),S=2;S<arguments.length;S++)_[S-2]=arguments[S];return e.prototype[l].apply(s,_)}}function zt(){this.s=this.s,this.o=this.o}zt.prototype.s=!1,zt.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function Ce(i){Object.prototype.hasOwnProperty.call(i,Be)&&i[Be]||(i[Be]=++Ge)}(this)},zt.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ft=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1};function xt(i){const e=i.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=i[s];return t}return[]}function Vt(i,e){for(let t=1;t<arguments.length;t++){const s=arguments[t];if(ue(s)){const l=i.length||0,d=s.length||0;i.length=l+d;for(let _=0;_<d;_++)i[l+_]=s[_]}else i.push(s)}}function Rt(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}Rt.prototype.h=function(){this.defaultPrevented=!0};var Lt=function(){if(!_t.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{_t.addEventListener("test",lt,e),_t.removeEventListener("test",lt,e)}catch(t){}return i}();function dn(i){return/^[\s\xa0]*$/.test(i)}var Wt=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function Ut(i,e){return i<e?-1:i>e?1:0}function Ze(){var i=_t.navigator;return i&&(i=i.userAgent)?i:""}function Pe(i){return-1!=Ze().indexOf(i)}function Le(i){return Le[" "](i),i}Le[" "]=lt;var Qt,i,Je=Pe("Opera"),Mt=Pe("Trident")||Pe("MSIE"),rn=Pe("Edge"),fn=rn||Mt,vn=Pe("Gecko")&&!(-1!=Ze().toLowerCase().indexOf("webkit")&&!Pe("Edge"))&&!(Pe("Trident")||Pe("MSIE"))&&!Pe("Edge"),Qn=-1!=Ze().toLowerCase().indexOf("webkit")&&!Pe("Edge");function ni(){var i=_t.document;return i?i.documentMode:void 0}e:{var fe="",$e=(i=Ze(),vn?/rv:([^\);]+)(\)|;)/.exec(i):rn?/Edge\/([\d\.]+)/.exec(i):Mt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Qn?/WebKit\/(\S+)/.exec(i):Je?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if($e&&(fe=$e?$e[1]:""),Mt){var vt=ni();if(null!=vt&&vt>parseFloat(fe)){Qt=String(vt);break e}}Qt=fe}var Ht={};var oe=_t.document&&Mt&&(ni()||parseInt(Qt,10))||void 0;function _e(i,e){if(Rt.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,s=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(vn){e:{try{Le(e.nodeName);var l=!0;break e}catch(d){}l=!1}l||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:dt[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&_e.X.h.call(this)}}bt(_e,Rt);var dt={2:"touch",3:"pen",4:"mouse"};_e.prototype.h=function(){_e.X.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Tt="closure_listenable_"+(1e6*Math.random()|0),qt=0;function nn(i,e,t,s,l){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.ha=l,this.key=++qt,this.ba=this.ea=!1}function Tn(i){i.ba=!0,i.listener=null,i.proxy=null,i.src=null,i.ha=null}function kn(i,e,t){for(const s in i)e.call(t,i[s],s,i)}function Fn(i){const e={};for(const t in i)e[t]=i[t];return e}const ii="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function wi(i,e){let t,s;for(let l=1;l<arguments.length;l++){for(t in s=arguments[l],s)i[t]=s[t];for(let d=0;d<ii.length;d++)t=ii[d],Object.prototype.hasOwnProperty.call(s,t)&&(i[t]=s[t])}}function ri(i){this.src=i,this.g={},this.h=0}function mn(i,e){var t=e.type;if(t in i.g){var d,s=i.g[t],l=Ft(s,e);(d=0<=l)&&Array.prototype.splice.call(s,l,1),d&&(Tn(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function mi(i,e,t,s){for(var l=0;l<i.length;++l){var d=i[l];if(!d.ba&&d.listener==e&&d.capture==!!t&&d.ha==s)return l}return-1}ri.prototype.add=function(i,e,t,s,l){var d=i.toString();(i=this.g[d])||(i=this.g[d]=[],this.h++);var _=mi(i,e,s,l);return-1<_?(e=i[_],t||(e.ea=!1)):((e=new nn(e,this.src,d,!!s,l)).ea=t,i.push(e)),e};var Sn="closure_lm_"+(1e6*Math.random()|0),At={};function W(i,e,t,s,l){if(s&&s.once)return x(i,e,t,s,l);if(Array.isArray(e)){for(var d=0;d<e.length;d++)W(i,e[d],t,s,l);return null}return t=Et(t),i&&i[Tt]?i.N(e,t,me(s)?!!s.capture:!!s,l):O(i,e,t,!1,s,l)}function O(i,e,t,s,l,d){if(!e)throw Error("Invalid event type");var _=me(l)?!!l.capture:!!l,S=je(i);if(S||(i[Sn]=S=new ri(i)),(t=S.add(e,t,s,_,d)).proxy)return t;if(s=function m(){const e=Ie;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=s,s.src=i,s.listener=t,i.addEventListener)Lt||(l=_),void 0===l&&(l=!1),i.addEventListener(e.toString(),s,l);else if(i.attachEvent)i.attachEvent(Me(e.toString()),s);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(s)}return t}function x(i,e,t,s,l){if(Array.isArray(e)){for(var d=0;d<e.length;d++)x(i,e[d],t,s,l);return null}return t=Et(t),i&&i[Tt]?i.O(e,t,me(s)?!!s.capture:!!s,l):O(i,e,t,!0,s,l)}function U(i,e,t,s,l){if(Array.isArray(e))for(var d=0;d<e.length;d++)U(i,e[d],t,s,l);else s=me(s)?!!s.capture:!!s,t=Et(t),i&&i[Tt]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=mi(d=i.g[e],t,s,l))&&(Tn(d[t]),Array.prototype.splice.call(d,t,1),0==d.length&&(delete i.g[e],i.h--))):i&&(i=je(i))&&(e=i.g[e.toString()],i=-1,e&&(i=mi(e,t,s,l)),(t=-1<i?e[i]:null)&&Se(t))}function Se(i){if("number"!=typeof i&&i&&!i.ba){var e=i.src;if(e&&e[Tt])mn(e.i,i);else{var t=i.type,s=i.proxy;e.removeEventListener?e.removeEventListener(t,s,i.capture):e.detachEvent?e.detachEvent(Me(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=je(e))?(mn(t,i),0==t.h&&(t.src=null,e[Sn]=null)):Tn(i)}}}function Me(i){return i in At?At[i]:At[i]="on"+i}function Ie(i,e){if(i.ba)i=!0;else{e=new _e(e,this);var t=i.listener,s=i.ha||i.src;i.ea&&Se(i),i=t.call(s,e)}return i}function je(i){return(i=i[Sn])instanceof ri?i:null}var It="__closure_events_fn_"+(1e9*Math.random()>>>0);function Et(i){return"function"==typeof i?i:(i[It]||(i[It]=function(e){return i.handleEvent(e)}),i[It])}function He(){zt.call(this),this.i=new ri(this),this.P=this,this.I=null}function ze(i,e){var t,s=i.I;if(s)for(t=[];s;s=s.I)t.push(s);if(i=i.P,s=e.type||e,"string"==typeof e)e=new Rt(e,i);else if(e instanceof Rt)e.target=e.target||i;else{var l=e;wi(e=new Rt(s,i),l)}if(l=!0,t)for(var d=t.length-1;0<=d;d--){var _=e.g=t[d];l=Ve(_,s,!0,e)&&l}if(l=Ve(_=e.g=i,s,!0,e)&&l,l=Ve(_,s,!1,e)&&l,t)for(d=0;d<t.length;d++)l=Ve(_=e.g=t[d],s,!1,e)&&l}function Ve(i,e,t,s){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,d=0;d<e.length;++d){var _=e[d];if(_&&!_.ba&&_.capture==t){var S=_.listener,q=_.ha||_.src;_.ea&&mn(i.i,_),l=!1!==S.call(q,s)&&l}}return l&&!s.defaultPrevented}bt(He,zt),He.prototype[Tt]=!0,He.prototype.removeEventListener=function(i,e,t,s){U(this,i,e,t,s)},He.prototype.M=function(){if(He.X.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],s=0;s<t.length;s++)Tn(t[s]);delete i.g[e],i.h--}}this.I=null},He.prototype.N=function(i,e,t,s){return this.i.add(String(i),e,!1,t,s)},He.prototype.O=function(i,e,t,s){return this.i.add(String(i),e,!0,t,s)};var pt=_t.JSON.stringify;function Gt(){var i=Ji;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Bi,En=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new gi,i=>i.reset());class gi{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Di(i){_t.setTimeout(()=>{throw i},0)}function Vi(i,e){Bi||function nr(){var i=_t.Promise.resolve(void 0);Bi=function(){i.then(Te)}}(),Yi||(Bi(),Yi=!0),Ji.add(i,e)}var Yi=!1,Ji=new class Mn{constructor(){this.h=this.g=null}add(e,t){const s=En.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}};function Te(){for(var i;i=Gt();){try{i.h.call(i.g)}catch(t){Di(t)}var e=En;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Yi=!1}function Ne(i,e){He.call(this),this.h=i||1,this.g=e||_t,this.j=Qe(this.lb,this),this.l=Date.now()}function ae(i){i.ca=!1,i.R&&(i.g.clearTimeout(i.R),i.R=null)}function qe(i,e,t){if("function"==typeof i)t&&(i=Qe(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Qe(i.handleEvent,i)}return 2147483647<Number(e)?-1:_t.setTimeout(i,e||0)}function kt(i){i.g=qe(()=>{i.g=null,i.i&&(i.i=!1,kt(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}bt(Ne,He),(Re=Ne.prototype).ca=!1,Re.R=null,Re.lb=function(){if(this.ca){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-i):(this.R&&(this.g.clearTimeout(this.R),this.R=null),ze(this,"tick"),this.ca&&(ae(this),this.start()))}},Re.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Re.M=function(){Ne.X.M.call(this),ae(this),delete this.g};class tn extends zt{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:kt(this)}M(){super.M(),this.g&&(_t.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bn(i){zt.call(this),this.h=i,this.g={}}bt(bn,zt);var ei=[];function Bn(i,e,t,s){Array.isArray(t)||(t&&(ei[0]=t.toString()),t=ei);for(var l=0;l<t.length;l++){var d=W(e,t[l],s||i.handleEvent,!1,i.h||i);if(!d)break;i.g[d.key]=d}}function Pi(i){kn(i.g,function(e,t){this.g.hasOwnProperty(t)&&Se(e)},i),i.g={}}function si(){this.g=!0}function er(i,e,t,s){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Wi(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var s=t[i];if(!(2>s.length)){var l=s[1];if(Array.isArray(l)&&!(1>l.length)){var d=l[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var _=1;_<l.length;_++)l[_]=""}}}return pt(t)}catch(S){return e}}(i,t)+(s?" "+s:"")})}bn.prototype.M=function(){bn.X.M.call(this),Pi(this)},bn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},si.prototype.Aa=function(){this.g=!1},si.prototype.info=function(){};var fi={},Gr=null;function Pt(){return Gr=Gr||new He}function Dt(i){Rt.call(this,fi.Pa,i)}function St(i){const e=Pt();ze(e,new Dt(e))}function an(i,e){Rt.call(this,fi.STAT_EVENT,i),this.stat=e}function _n(i){const e=Pt();ze(e,new an(e,i))}function Rn(i,e){Rt.call(this,fi.Qa,i),this.size=e}function Xn(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return _t.setTimeout(function(){i()},e)}fi.Pa="serverreachability",bt(Dt,Rt),fi.STAT_EVENT="statevent",bt(an,Rt),fi.Qa="timingevent",bt(Rn,Rt);var $i={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Fi={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function pr(){}function kr(){}pr.prototype.h=null;var Ms,Es={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Io(){Rt.call(this,"d")}function mr(){Rt.call(this,"c")}function us(){}function Is(i,e,t,s){this.l=i,this.j=e,this.m=t,this.U=s||1,this.S=new bn(this),this.O=To,this.T=new Ne(i=fn?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Vr}function Vr(){this.i=null,this.g="",this.h=!1}bt(Io,Rt),bt(mr,Rt),bt(us,pr),us.prototype.g=function(){return new XMLHttpRequest},us.prototype.i=function(){return{}},Ms=new us;var To=45e3,so={},Hs={};function _s(i,e,t){i.K=1,i.v=Rr(Br(e)),i.s=t,i.P=!0,vs(i,null)}function vs(i,e){i.F=Date.now(),ys(i),i.A=Br(i.v);var t=i.A,s=i.U;Array.isArray(s)||(s=[String(s)]),Ee(t.i,"t",s),i.C=0,t=i.l.H,i.h=new Vr,i.g=ur(i.l,t?e:null,!i.s),0<i.N&&(i.L=new tn(Qe(i.La,i,i.g),i.N)),Bn(i.S,i.g,"readystatechange",i.ib),e=i.H?Fn(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.da(i.A,i.u,i.s,e)):(i.u="GET",i.g.da(i.A,i.u,null,e)),St(),function zn(i,e,t,s,l,d){i.info(function(){if(i.g)if(d)for(var _="",S=d.split("&"),q=0;q<S.length;q++){var se=S[q].split("=");if(1<se.length){var Oe=se[0];se=se[1];var mt=Oe.split("_");_=2<=mt.length&&"type"==mt[1]?_+(Oe+"=")+se+"&":_+(Oe+"=redacted&")}}else _=null;else _=d;return"XMLHTTP REQ ("+s+") [attempt "+l+"]: "+e+"\n"+t+"\n"+_})}(i.j,i.u,i.A,i.m,i.U,i.s)}function Uo(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Da}function go(i,e,t){let l,s=!0;for(;!i.I&&i.C<t.length;){if(l=qo(i,t),l==Hs){4==e&&(i.o=4,_n(14),s=!1),er(i.j,i.m,null,"[Incomplete Response]");break}if(l==so){i.o=4,_n(15),er(i.j,i.m,t,"[Invalid Chunk]"),s=!1;break}er(i.j,i.m,l,null),Zs(i,l)}Uo(i)&&l!=Hs&&l!=so&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,_n(16),s=!1),i.i=i.i&&s,s?0<t.length&&!i.$&&(i.$=!0,(e=i.l).g==i&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Nn(e),e.K=!0,_n(11))):(er(i.j,i.m,t,"[Invalid Chunked Response]"),ps(i),zr(i))}function qo(i,e){var t=i.C,s=e.indexOf("\n",t);return-1==s?Hs:(t=Number(e.substring(t,s)),isNaN(t)?so:(s+=1)+t>e.length?Hs:(e=e.substr(s,t),i.C=s+t,e))}function ys(i){i.V=Date.now()+i.O,Rs(i,i.O)}function Rs(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Xn(Qe(i.gb,i),e)}function js(i){i.B&&(_t.clearTimeout(i.B),i.B=null)}function zr(i){0==i.l.G||i.I||Ii(i.l,i)}function ps(i){js(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,ae(i.T),Pi(i.S),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function Zs(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||Oi(t.h,i)))if(!i.J&&Oi(t.h,i)&&3==t.G){try{var s=t.Fa.g.parse(e)}catch(se){s=null}if(Array.isArray(s)&&3==s.length){var l=s;if(0==l[0])e:if(t.u)t.Ba=l[1],0<t.Ba-t.T&&37500>l[2]&&t.L&&0==t.A&&!t.v&&(t.v=Xn(Qe(t.cb,t),6e3));else{if(t.g){if(!(t.g.F+3e3<i.F))break e;_i(t),C(t)}ln(t),_n(18)}if(1>=ci(t.h)&&t.ja){try{t.ja()}catch(se){}t.ja=void 0}}else li(t,11)}else if((i.J||t.g==i)&&_i(t),!dn(e))for(l=t.Fa.g.parse(e),e=0;e<l.length;e++){let se=l[e];if(t.T=se[0],se=se[1],2==t.G)if("c"==se[0]){t.I=se[1],t.ka=se[2];const Oe=se[3];null!=Oe&&(t.ma=Oe,t.j.info("VER="+t.ma));const mt=se[4];null!=mt&&(t.Ca=mt,t.j.info("SVER="+t.Ca));const Yt=se[5];null!=Yt&&"number"==typeof Yt&&0<Yt&&(t.J=s=1.5*Yt,t.j.info("backChannelRequestTimeoutMs_="+s)),s=t;const gn=i.g;if(gn){const Dn=gn.g?gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Dn){var d=s.h;d.g||-1==Dn.indexOf("spdy")&&-1==Dn.indexOf("quic")&&-1==Dn.indexOf("h2")||(d.j=d.l,d.g=new Set,d.h&&(Jn(d,d.h),d.h=null))}if(s.D){const Yn=gn.g?gn.g.getResponseHeader("X-HTTP-Session-Id"):null;Yn&&(s.za=Yn,bi(s.F,s.D,Yn))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-i.F,t.j.info("Handshake RTT: "+t.P+"ms"));var _=i;if((s=t).sa=rr(s,s.H?s.ka:null,s.V),_.J){Ei(s.h,_);var S=_,q=s.J;q&&S.setTimeout(q),S.B&&(js(S),ys(S)),s.g=_}else Bt(s);0<t.i.length&&H(t)}else"stop"!=se[0]&&"close"!=se[0]||li(t,7);else 3==t.G&&("stop"==se[0]||"close"==se[0]?"stop"==se[0]?li(t,7):le(t):"noop"!=se[0]&&t.l&&t.l.wa(se),t.A=0)}St()}catch(se){}}function Gs(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(ue(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var t=function Or(i){if(i.oa&&"function"==typeof i.oa)return i.oa();if(!i.W||"function"!=typeof i.W){if("undefined"!=typeof Map&&i instanceof Map)return Array.from(i.keys());if(!("undefined"!=typeof Set&&i instanceof Set)){if(ue(i)||"string"==typeof i){var e=[];i=i.length;for(var t=0;t<i;t++)e.push(t);return e}e=[],t=0;for(const s in i)e[t++]=s;return e}}}(i),s=function Qo(i){if(i.W&&"function"==typeof i.W)return i.W();if("undefined"!=typeof Map&&i instanceof Map||"undefined"!=typeof Set&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(ue(i)){for(var e=[],t=i.length,s=0;s<t;s++)e.push(i[s]);return e}for(s in e=[],t=0,i)e[t++]=i[s];return e}(i),l=s.length,d=0;d<l;d++)e.call(void 0,s[d],t&&t[d],i)}(Re=Is.prototype).setTimeout=function(i){this.O=i},Re.ib=function(i){i=i.target;const e=this.L;e&&3==$s(i)?e.l():this.La(i)},Re.La=function(i){try{if(i==this.g)e:{const Oe=$s(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>Oe)&&(3!=Oe||fn||this.g&&(this.h.h||this.g.fa()||aa(this.g)))){this.I||4!=Oe||7==e||St(),js(this);var t=this.g.aa();this.Y=t;t:if(Uo(this)){var s=aa(this.g);i="";var l=s.length,d=4==$s(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ps(this),zr(this);var _="";break t}this.h.i=new _t.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,i+=this.h.i.decode(s[e],{stream:d&&e==l-1});s.splice(0,l),this.h.g+=i,this.C=0,_=this.h.g}else _=this.g.fa();if(this.i=200==t,function Si(i,e,t,s,l,d,_){i.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+l+"]: "+e+"\n"+t+"\n"+d+" "+_})}(this.j,this.u,this.A,this.m,this.U,Oe,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var S,q=this.g;if((S=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dn(S)){var se=S;break t}}se=null}if(!(t=se)){this.i=!1,this.o=3,_n(12),ps(this),zr(this);break e}er(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Zs(this,t)}this.P?(go(this,Oe,_),fn&&this.i&&3==Oe&&(Bn(this.S,this.T,"tick",this.hb),this.T.start())):(er(this.j,this.m,_,null),Zs(this,_)),4==Oe&&ps(this),this.i&&!this.I&&(4==Oe?Ii(this.l,this):(this.i=!1,ys(this)))}else 400==t&&0<_.indexOf("Unknown SID")?(this.o=3,_n(12)):(this.o=0,_n(13)),ps(this),zr(this)}}}catch(Oe){}},Re.hb=function(){if(this.g){var i=$s(this.g),e=this.g.fa();this.C<e.length&&(js(this),go(this,i,e),this.i&&4!=i&&ys(this))}},Re.cancel=function(){this.I=!0,ps(this)},Re.gb=function(){this.B=null;const i=Date.now();0<=i-this.V?(function jr(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(St(),_n(17)),ps(this),this.o=2,zr(this)):Rs(this,this.V-i)};var ts=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zs(i,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof zs){this.h=void 0!==e?e:i.h,Ps(this,i.j),this.s=i.s,this.g=i.g,$r(this,i.m),this.l=i.l,e=i.i;var t=new Pr;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Ts(this,t),this.o=i.o}else i&&(t=String(i).match(ts))?(this.h=!!e,Ps(this,t[1]||"",!0),this.s=Ki(t[2]||""),this.g=Ki(t[3]||"",!0),$r(this,t[4]),this.l=Ki(t[5]||"",!0),Ts(this,t[6]||"",!0),this.o=Ki(t[7]||"")):(this.h=!!e,this.i=new Pr(null,this.h))}function Br(i){return new zs(i)}function Ps(i,e,t){i.j=t?Ki(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function $r(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Ts(i,e,t){e instanceof Pr?(i.i=e,function Ae(i,e){e&&!i.j&&(ds(i),i.i=null,i.g.forEach(function(t,s){var l=s.toLowerCase();s!=l&&(xi(this,s),Ee(this,l,t))},i)),i.j=e}(i.i,i.h)):(t||(e=bs(e,Ss)),i.i=new Pr(e,i.h))}function bi(i,e,t){i.i.set(e,t)}function Rr(i){return bi(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Ki(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function bs(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,wr),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function wr(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}zs.prototype.toString=function(){var i=[],e=this.j;e&&i.push(bs(e,Dr,!0),":");var t=this.g;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(bs(e,Dr,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&i.push("/"),i.push(bs(t,"/"==t.charAt(0)?Fs:oo,!0))),(t=this.i.toString())&&i.push("?",t),(t=this.o)&&i.push("#",bs(t,qs)),i.join("")};var Dr=/[#\/\?@]/g,oo=/[#\?:]/g,Fs=/[#\?]/g,Ss=/[#\?@]/g,qs=/#/g;function Pr(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function ds(i){i.g||(i.g=new Map,i.h=0,i.i&&function ns(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var s=i[t].indexOf("="),l=null;if(0<=s){var d=i[t].substring(0,s);l=i[t].substring(s+1)}else d=i[t];e(d,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function xi(i,e){ds(i),e=$(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function K(i,e){return ds(i),e=$(i,e),i.g.has(e)}function Ee(i,e,t){xi(i,e),0<t.length&&(i.i=null,i.g.set($(i,e),xt(t)),i.h+=t.length)}function $(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Xt(i){this.l=i||un,i=_t.PerformanceNavigationTiming?0<(i=_t.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(_t.g&&_t.g.Ga&&_t.g.Ga()&&_t.g.Ga().$b),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Re=Pr.prototype).add=function(i,e){ds(this),this.i=null,i=$(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},Re.forEach=function(i,e){ds(this),this.g.forEach(function(t,s){t.forEach(function(l){i.call(e,l,s,this)},this)},this)},Re.oa=function(){ds(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let s=0;s<e.length;s++){const l=i[s];for(let d=0;d<l.length;d++)t.push(e[s])}return t},Re.W=function(i){ds(this);let e=[];if("string"==typeof i)K(this,i)&&(e=e.concat(this.g.get($(this,i))));else{i=Array.from(this.g.values());for(let t=0;t<i.length;t++)e=e.concat(i[t])}return e},Re.set=function(i,e){return ds(this),this.i=null,K(this,i=$(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},Re.get=function(i,e){return i&&0<(i=this.W(i)).length?String(i[0]):e},Re.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var s=e[t];const d=encodeURIComponent(String(s)),_=this.W(s);for(s=0;s<_.length;s++){var l=d;""!==_[s]&&(l+="="+encodeURIComponent(String(_[s]))),i.push(l)}}return this.i=i.join("&")};var un=10;function Vn(i){return!!i.h||!!i.g&&i.g.size>=i.j}function ci(i){return i.h?1:i.g?i.g.size:0}function Oi(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Jn(i,e){i.g?i.g.add(e):i.h=e}function Ei(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function or(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return xt(i.i)}function Ri(){}function qi(){this.g=new Ri}function Z(i,e,t){const s=t||"";try{Gs(i,function(l,d){let _=l;me(l)&&(_=pt(l)),e.push(s+d+"="+encodeURIComponent(_))})}catch(l){throw e.push(s+"type="+encodeURIComponent("_badmap")),l}}function F(i,e,t,s,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(s)}catch(d){}}function De(i){this.l=i.ac||null,this.j=i.jb||!1}function en(i,e){He.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=Ln,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Xt.prototype.cancel=function(){if(this.i=or(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},Ri.prototype.stringify=function(i){return _t.JSON.stringify(i,void 0)},Ri.prototype.parse=function(i){return _t.JSON.parse(i,void 0)},bt(De,pr),De.prototype.g=function(){return new en(this.l,this.j)},De.prototype.i=function(i){return function(){return i}}({}),bt(en,He);var Ln=0;function ir(i){i.j.read().then(i.Ta.bind(i)).catch(i.ga.bind(i))}function Fr(i){i.readyState=4,i.l=null,i.j=null,i.A=null,hs(i)}function hs(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Re=en.prototype).open=function(i,e){if(this.readyState!=Ln)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,hs(this)},Re.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||_t).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},Re.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Fr(this)),this.readyState=Ln},Re.Wa=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,hs(this)),this.g&&(this.readyState=3,hs(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(void 0!==_t.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ir(this)}else i.text().then(this.Va.bind(this),this.ga.bind(this))},Re.Ta=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Fr(this):hs(this),3==this.readyState&&ir(this)}},Re.Va=function(i){this.g&&(this.response=this.responseText=i,Fr(this))},Re.Ua=function(i){this.g&&(this.response=i,Fr(this))},Re.ga=function(){this.g&&Fr(this)},Re.setRequestHeader=function(i,e){this.v.append(i,e)},Re.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Re.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(en.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var _o=_t.JSON.parse;function lr(i){He.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=pn,this.K=this.L=!1}bt(lr,He);var pn="",Ui=/^https?$/i,ao=["POST","PUT"];function oa(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Qs(i),Xo(i)}function Qs(i){i.D||(i.D=!0,ze(i,"complete"),ze(i,"error"))}function Ns(i){if(i.h&&void 0!==Ke&&(!i.C[1]||4!=$s(i)||2!=i.aa()))if(i.v&&4==$s(i))qe(i.Ha,0,i);else if(ze(i,"readystatechange"),4==$s(i)){i.h=!1;try{const S=i.aa();e:switch(S){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===S){var l=String(i.H).match(ts)[1]||null;if(!l&&_t.self&&_t.self.location){var d=_t.self.location.protocol;l=d.substr(0,d.length-1)}s=!Ui.test(l?l.toLowerCase():"")}t=s}if(t)ze(i,"complete"),ze(i,"success");else{i.m=6;try{var _=2<$s(i)?i.g.statusText:""}catch(q){_=""}i.j=_+" ["+i.aa()+"]",Qs(i)}}finally{Xo(i)}}}function Xo(i,e){if(i.g){Sa(i);const t=i.g,s=i.C[0]?lt:null;i.g=null,i.C=null,e||ze(i,"ready");try{t.onreadystatechange=s}catch(l){}}}function Sa(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(_t.clearTimeout(i.A),i.A=null)}function $s(i){return i.g?i.g.readyState:0}function aa(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case pn:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Ua(i){let e="";return kn(i,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}function lo(i,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=Ua(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):bi(i,e,t))}function Yr(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function xs(i){this.Ca=0,this.i=[],this.j=new si,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Yr("failFast",!1,i),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Yr("baseRetryDelayMs",5e3,i),this.bb=Yr("retryDelaySeedMs",1e4,i),this.$a=Yr("forwardChannelMaxRetries",2,i),this.ta=Yr("forwardChannelRequestTimeoutMs",2e4,i),this.ra=i&&i.xmlHttpFactory||void 0,this.Da=i&&i.Zb||!1,this.J=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.I="",this.h=new Xt(i&&i.concurrentRequestLimit),this.Fa=new qi,this.O=i&&i.fastHandshake||!1,this.N=i&&i.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=i&&i.Xb||!1,i&&i.Aa&&this.j.Aa(),i&&i.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&i&&i.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function le(i){if(M(i),3==i.G){var e=i.U++,t=Br(i.F);bi(t,"SID",i.I),bi(t,"RID",e),bi(t,"TYPE","terminate"),ft(i,t),(e=new Is(i,i.j,e,void 0)).K=2,e.v=Rr(Br(t)),t=!1,_t.navigator&&_t.navigator.sendBeacon&&(t=_t.navigator.sendBeacon(e.v.toString(),"")),!t&&_t.Image&&((new Image).src=e.v,t=!0),t||(e.g=ur(e.l,null),e.g.da(e.v)),e.F=Date.now(),ys(e)}Qi(i)}function C(i){i.g&&(Nn(i),i.g.cancel(),i.g=null)}function M(i){C(i),i.u&&(_t.clearTimeout(i.u),i.u=null),_i(i),i.h.cancel(),i.m&&("number"==typeof i.m&&_t.clearTimeout(i.m),i.m=null)}function H(i){Vn(i.h)||i.m||(i.m=!0,Vi(i.Ja,i),i.C=0)}function Ue(i,e){var t;t=e?e.m:i.U++;const s=Br(i.F);bi(s,"SID",i.I),bi(s,"RID",t),bi(s,"AID",i.T),ft(i,s),i.o&&i.s&&lo(s,i.o,i.s),t=new Is(i,i.j,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.i=e.D.concat(i.i)),e=gt(i,t,1e3),t.setTimeout(Math.round(.5*i.ta)+Math.round(.5*i.ta*Math.random())),Jn(i.h,t),_s(t,s,e)}function ft(i,e){i.ia&&kn(i.ia,function(t,s){bi(e,s,t)}),i.l&&Gs({},function(t,s){bi(e,s,t)})}function gt(i,e,t){t=Math.min(i.i.length,t);var s=i.l?Qe(i.l.Ra,i.l,i):null;e:{var l=i.i;let d=-1;for(;;){const _=["count="+t];-1==d?0<t?(d=l[0].h,_.push("ofs="+d)):d=0:_.push("ofs="+d);let S=!0;for(let q=0;q<t;q++){let se=l[q].h;const Oe=l[q].g;if(se-=d,0>se)d=Math.max(0,l[q].h-100),S=!1;else try{Z(Oe,_,"req"+se+"_")}catch(mt){s&&s(Oe)}}if(S){s=_.join("&");break e}}}return i=i.i.splice(0,t),e.D=i,s}function Bt(i){i.g||i.u||(i.Z=1,Vi(i.Ia,i),i.A=0)}function ln(i){return!(i.g||i.u||3<=i.A||(i.Z++,i.u=Xn(Qe(i.Ia,i),ai(i,i.A)),i.A++,0))}function Nn(i){null!=i.B&&(_t.clearTimeout(i.B),i.B=null)}function Zn(i){i.g=new Is(i,i.j,"rpc",i.Z),null===i.o&&(i.g.H=i.s),i.g.N=0;var e=Br(i.sa);bi(e,"RID","rpc"),bi(e,"SID",i.I),bi(e,"CI",i.L?"0":"1"),bi(e,"AID",i.T),bi(e,"TYPE","xmlhttp"),ft(i,e),i.o&&i.s&&lo(e,i.o,i.s),i.J&&i.g.setTimeout(i.J);var t=i.g;i=i.ka,t.K=1,t.v=Rr(Br(e)),t.s=null,t.P=!0,vs(t,i)}function _i(i){null!=i.v&&(_t.clearTimeout(i.v),i.v=null)}function Ii(i,e){var t=null;if(i.g==e){_i(i),Nn(i),i.g=null;var s=2}else{if(!Oi(i.h,e))return;t=e.D,Ei(i.h,e),s=1}if(0!=i.G)if(i.pa=e.Y,e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.F;var l=i.C;ze(s=Pt(),new Rn(s,t)),H(i)}else Bt(i);else if(3==(l=e.o)||0==l&&0<i.pa||!(1==s&&function pe(i,e){return!(ci(i.h)>=i.h.j-(i.m?1:0)||(i.m?(i.i=e.D.concat(i.i),0):1==i.G||2==i.G||i.C>=(i.Za?0:i.$a)||(i.m=Xn(Qe(i.Ja,i,e),ai(i,i.C)),i.C++,0)))}(i,e)||2==s&&ln(i)))switch(t&&0<t.length&&(e=i.h,e.i=e.i.concat(t)),l){case 1:li(i,5);break;case 4:li(i,10);break;case 3:li(i,6);break;default:li(i,2)}}function ai(i,e){let t=i.Xa+Math.floor(Math.random()*i.bb);return i.l||(t*=2),t*e}function li(i,e){if(i.j.info("Error code "+e),2==e){var t=null;i.l&&(t=null);var s=Qe(i.kb,i);t||(t=new zs("//www.google.com/images/cleardot.gif"),_t.location&&"http"==_t.location.protocol||Ps(t,"https"),Rr(t)),function j(i,e){const t=new si;if(_t.Image){const s=new Image;s.onload=jt(F,t,s,"TestLoadImage: loaded",!0,e),s.onerror=jt(F,t,s,"TestLoadImage: error",!1,e),s.onabort=jt(F,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=jt(F,t,s,"TestLoadImage: timeout",!1,e),_t.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=i}else e(!1)}(t.toString(),s)}else _n(2);i.G=0,i.l&&i.l.va(e),Qi(i),M(i)}function Qi(i){if(i.G=0,i.la=[],i.l){const e=or(i.h);(0!=e.length||0!=i.i.length)&&(Vt(i.la,e),Vt(i.la,i.i),i.h.i.length=0,xt(i.i),i.i.length=0),i.l.ua()}}function rr(i,e,t){var s=t instanceof zs?Br(t):new zs(t,void 0);if(""!=s.g)e&&(s.g=e+"."+s.g),$r(s,s.m);else{var l=_t.location;s=l.protocol,e=e?e+"."+l.hostname:l.hostname,l=+l.port;var d=new zs(null,void 0);s&&Ps(d,s),e&&(d.g=e),l&&$r(d,l),t&&(d.l=t),s=d}return e=i.za,(t=i.D)&&e&&bi(s,t,e),bi(s,"VER",i.ma),ft(i,s),s}function ur(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new lr(t&&i.Da&&!i.ra?new De({jb:!0}):i.ra)).Ka(i.H),e}function ms(){}function Mr(){if(Mt&&!(10<=Number(oe)))throw Error("Environmental error: no available transport.")}function tr(i,e){He.call(this),this.g=new xs(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.S=i,(i=e&&e.Yb)&&!dn(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!dn(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new fs(this)}function Wr(i){Io.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function Li(){mr.call(this),this.status=1}function fs(i){this.g=i}(Re=lr.prototype).Ka=function(i){this.L=i},Re.da=function(i,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ms.g(),this.C=function Lr(i){return i.h||(i.h=i.i())}(this.u?this.u:Ms),this.g.onreadystatechange=Qe(this.Ha,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(d){return void oa(this,d)}if(i=t||"",t=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var l in s)t.set(l,s[l]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const d of s.keys())t.set(d,s.get(d))}s=Array.from(t.keys()).find(d=>"content-type"==d.toLowerCase()),l=_t.FormData&&i instanceof _t.FormData,!(0<=Ft(ao,e))||s||l||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[d,_]of t)this.g.setRequestHeader(d,_);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Sa(this),0<this.B&&((this.K=function Er(i){return Mt&&function Ye(){return function tt(i){var e=Ht;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=Wt(String(Qt)).split("."),t=Wt("9").split("."),s=Math.max(e.length,t.length);for(let _=0;0==i&&_<s;_++){var l=e[_]||"",d=t[_]||"";do{if(l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],0==l[0].length&&0==d[0].length)break;i=Ut(0==l[1].length?0:parseInt(l[1],10),0==d[1].length?0:parseInt(d[1],10))||Ut(0==l[2].length,0==d[2].length)||Ut(l[2],d[2]),l=l[3],d=d[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Qe(this.qa,this)):this.A=qe(this.qa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(d){oa(this,d)}},Re.qa=function(){void 0!==Ke&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ze(this,"timeout"),this.abort(8))},Re.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,ze(this,"complete"),ze(this,"abort"),Xo(this))},Re.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Xo(this,!0)),lr.X.M.call(this)},Re.Ha=function(){this.s||(this.F||this.v||this.l?Ns(this):this.fb())},Re.fb=function(){Ns(this)},Re.aa=function(){try{return 2<$s(this)?this.g.status:-1}catch(i){return-1}},Re.fa=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},Re.Sa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),_o(e)}},Re.Ea=function(){return this.m},Re.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Re=xs.prototype).ma=8,Re.G=1,Re.Ja=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.U=Math.floor(1e5*Math.random()),i=this.U++;const l=new Is(this,this.j,i,void 0);let d=this.s;if(this.S&&(d?(d=Fn(d),wi(d,this.S)):d=this.S),null!==this.o||this.N||(l.H=d,d=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var s=this.i[t];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=gt(this,l,e),bi(t=Br(this.F),"RID",i),bi(t,"CVER",22),this.D&&bi(t,"X-HTTP-Session-Id",this.D),ft(this,t),d&&(this.N?e="headers="+encodeURIComponent(String(Ua(d)))+"&"+e:this.o&&lo(t,this.o,d)),Jn(this.h,l),this.Ya&&bi(t,"TYPE","init"),this.O?(bi(t,"$req",e),bi(t,"SID","null"),l.Z=!0,_s(l,t,null)):_s(l,t,e),this.G=2}}else 3==this.G&&(i?Ue(this,i):0==this.i.length||Vn(this.h)||Ue(this))},Re.Ia=function(){if(this.u=null,Zn(this),this.$&&!(this.K||null==this.g||0>=this.P)){var i=2*this.P;this.j.info("BP detection timer enabled: "+i),this.B=Xn(Qe(this.eb,this),i)}},Re.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,_n(10),C(this),Zn(this))},Re.cb=function(){null!=this.v&&(this.v=null,C(this),ln(this),_n(19))},Re.kb=function(i){i?(this.j.info("Successfully pinged google.com"),_n(2)):(this.j.info("Failed to ping google.com"),_n(1))},(Re=ms.prototype).xa=function(){},Re.wa=function(){},Re.va=function(){},Re.ua=function(){},Re.Ra=function(){},Mr.prototype.g=function(i,e){return new tr(i,e)},bt(tr,He),tr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;_n(0),i.V=e,i.ia=t||{},i.L=i.Y,i.F=rr(i,null,i.V),H(i)},tr.prototype.close=function(){le(this.g)},tr.prototype.u=function(i){var e=this.g;if("string"==typeof i){var t={};t.__data__=i,i=t}else this.v&&((t={}).__data__=pt(i),i=t);e.i.push(new class{constructor(i,e){this.h=i,this.g=e}}(e.ab++,i)),3==e.G&&H(e)},tr.prototype.M=function(){this.g.l=null,delete this.j,le(this.g),delete this.g,tr.X.M.call(this)},bt(Wr,Io),bt(Li,mr),bt(fs,ms),fs.prototype.xa=function(){ze(this.g,"a")},fs.prototype.wa=function(i){ze(this.g,new Wr(i))},fs.prototype.va=function(i){ze(this.g,new Li)},fs.prototype.ua=function(){ze(this.g,"b")},Mr.prototype.createWebChannel=Mr.prototype.g,tr.prototype.send=tr.prototype.u,tr.prototype.open=tr.prototype.m,tr.prototype.close=tr.prototype.close,$i.NO_ERROR=0,$i.TIMEOUT=8,$i.HTTP_ERROR=6,Fi.COMPLETE="complete",kr.EventType=Es,Es.OPEN="a",Es.CLOSE="b",Es.ERROR="c",Es.MESSAGE="d",He.prototype.listen=He.prototype.N,lr.prototype.listenOnce=lr.prototype.O,lr.prototype.getLastError=lr.prototype.Oa,lr.prototype.getLastErrorCode=lr.prototype.Ea,lr.prototype.getStatus=lr.prototype.aa,lr.prototype.getResponseJson=lr.prototype.Sa,lr.prototype.getResponseText=lr.prototype.fa,lr.prototype.send=lr.prototype.da,lr.prototype.setWithCredentials=lr.prototype.Ka;var Ho=et.createWebChannelTransport=function(){return new Mr},So=et.getStatEventTarget=function(){return Pt()},Jo=et.ErrorCode=$i,la=et.EventType=Fi,ea=et.Event=fi,xo=et.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},vr=et.FetchXmlHttpFactory=De,jn=et.WebChannel=kr,Un=et.XhrIo=lr;const ui="@firebase/firestore";class di{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}di.UNAUTHENTICATED=new di(null),di.GOOGLE_CREDENTIALS=new di("google-credentials-uid"),di.FIRST_PARTY=new di("first-party-uid"),di.MOCK_USER=new di("mock-user");let Zi="9.17.1";const br=new We.Yd("@firebase/firestore");function Kr(){return br.logLevel}function cn(i,...e){if(br.logLevel<=We.in.DEBUG){const t=e.map(Zr);br.debug(`Firestore (${Zi}): ${i}`,...t)}}function dr(i,...e){if(br.logLevel<=We.in.ERROR){const t=e.map(Zr);br.error(`Firestore (${Zi}): ${i}`,...t)}}function Ao(i,...e){if(br.logLevel<=We.in.WARN){const t=e.map(Zr);br.warn(`Firestore (${Zi}): ${i}`,...t)}}function Zr(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(t){return i}}function Hn(i="Unexpected state"){const e=`FIRESTORE (${Zi}) INTERNAL ASSERTION FAILED: `+i;throw dr(e),new Error(e)}function On(i,e){i||Hn()}function An(i,e){return i}const Zt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yn extends Fe.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class qr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class ca{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jo{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(di.UNAUTHENTICATED))}shutdown(){}}class rs{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ko{constructor(e){this.t=e,this.currentUser=di.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let l=this.i;const d=se=>this.i!==l?(l=this.i,t(se)):Promise.resolve();let _=new qr;this.o=()=>{this.i++,this.currentUser=this.u(),_.resolve(),_=new qr,e.enqueueRetryable(()=>d(this.currentUser))};const S=()=>{const se=_;e.enqueueRetryable((0,B.Z)(function*(){yield se.promise,yield d(s.currentUser)}))},q=se=>{cn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=se,this.auth.addAuthTokenListener(this.o),S()};this.t.onInit(se=>q(se)),setTimeout(()=>{if(!this.auth){const se=this.t.getImmediate({optional:!0});se?q(se):(cn("FirebaseAuthCredentialsProvider","Auth not yet detected"),_.resolve(),_=new qr)}},0),S()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(cn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(On("string"==typeof s.accessToken),new ca(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return On(null===e||"string"==typeof e),new di(e)}}class ua{constructor(e,t,s,l){this.h=e,this.l=t,this.m=s,this.g=l,this.type="FirstParty",this.user=di.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(On(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class da{constructor(e,t,s,l){this.h=e,this.l=t,this.m=s,this.g=l}getToken(){return Promise.resolve(new ua(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(di.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ha{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wl{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const s=d=>{null!=d.error&&cn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const _=d.token!==this.A;return this.A=d.token,cn("FirebaseAppCheckTokenProvider",`Received ${_?"new":"existing"} token.`),_?t(d.token):Promise.resolve()};this.o=d=>{e.enqueueRetryable(()=>s(d))};const l=d=>{cn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.appCheck.addTokenListener(this.o)};this.T.onInit(d=>l(d)),setTimeout(()=>{if(!this.appCheck){const d=this.T.getImmediate({optional:!0});d?l(d):cn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(On("string"==typeof t.token),this.A=t.token,new Ha(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Go(i){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}class Dl{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const l=Go(40);for(let d=0;d<l.length;++d)s.length<20&&l[d]<t&&(s+=e.charAt(l[d]%e.length))}return s}}function vi(i,e){return i<e?-1:i>e?1:0}function P(i,e,t){return i.length===e.length&&i.every((s,l)=>t(s,e[l]))}function T(i){return i+"\0"}class E{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new yn(Zt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new yn(Zt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new yn(Zt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new yn(Zt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return E.fromMillis(Date.now())}static fromDate(e){return E.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new E(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?vi(this.nanoseconds,e.nanoseconds):vi(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class L{constructor(e){this.timestamp=e}static fromTimestamp(e){return new L(e)}static min(){return new L(new E(0,0))}static max(){return new L(new E(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Q{constructor(e,t,s){void 0===t?t=0:t>e.length&&Hn(),void 0===s?s=e.length-t:s>e.length-t&&Hn(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===Q.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Q?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let l=0;l<s;l++){const d=e.get(l),_=t.get(l);if(d<_)return-1;if(d>_)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ge extends Q{construct(e,t,s){return new ge(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new yn(Zt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(l=>l.length>0))}return new ge(t)}static emptyPath(){return new ge([])}}const nt=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ht extends Q{construct(e,t,s){return new ht(e,t,s)}static isValidIdentifier(e){return nt.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ht(["__name__"])}static fromServerFormat(e){const t=[];let s="",l=0;const d=()=>{if(0===s.length)throw new yn(Zt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let _=!1;for(;l<e.length;){const S=e[l];if("\\"===S){if(l+1===e.length)throw new yn(Zt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const q=e[l+1];if("\\"!==q&&"."!==q&&"`"!==q)throw new yn(Zt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=q,l+=2}else"`"===S?(_=!_,l++):"."!==S||_?(s+=S,l++):(d(),l++)}if(d(),_)throw new yn(Zt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ht(t)}static emptyPath(){return new ht([])}}class Ct{constructor(e){this.path=e}static fromPath(e){return new Ct(ge.fromString(e))}static fromName(e){return new Ct(ge.fromString(e).popFirst(5))}static empty(){return new Ct(ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ge.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ge.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ct(new ge(e.slice()))}}class Gn{constructor(e,t,s,l){this.indexId=e,this.collectionGroup=t,this.fields=s,this.indexState=l}}function Ni(i){return i.fields.find(e=>2===e.kind)}function Wn(i){return i.fields.filter(e=>2!==e.kind)}Gn.UNKNOWN_ID=-1;class ji{constructor(e,t){this.fieldPath=e,this.kind=t}}class co{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new co(0,Ir.min())}}function Cs(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,l=L.fromTimestamp(1e9===s?new E(t+1,0):new E(t,s));return new Ir(l,Ct.empty(),e)}function ha(i){return new Ir(i.readTime,i.key,-1)}class Ir{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Ir(L.min(),Ct.empty(),-1)}static max(){return new Ir(L.max(),Ct.empty(),-1)}}function Oo(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ct.comparator(i.documentKey,e.documentKey),0!==t?t:vi(i.largestBatchId,e.largestBatchId))}const ta="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fa{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ss(i){return zo.apply(this,arguments)}function zo(){return zo=(0,B.Z)(function*(i){if(i.code!==Zt.FAILED_PRECONDITION||i.message!==ta)throw i;cn("LocalStore","Unexpectedly lost primary lease")}),zo.apply(this,arguments)}class Jt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Hn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Jt((s,l)=>{this.nextCallback=d=>{this.wrapSuccess(e,d).next(s,l)},this.catchCallback=d=>{this.wrapFailure(t,d).next(s,l)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Jt?t:Jt.resolve(t)}catch(t){return Jt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Jt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Jt.reject(t)}static resolve(e){return new Jt((t,s)=>{t(e)})}static reject(e){return new Jt((t,s)=>{s(e)})}static waitFor(e){return new Jt((t,s)=>{let l=0,d=0,_=!1;e.forEach(S=>{++l,S.next(()=>{++d,_&&d===l&&t()},q=>s(q))}),_=!0,d===l&&t()})}static or(e){let t=Jt.resolve(!1);for(const s of e)t=t.next(l=>l?Jt.resolve(l):s());return t}static forEach(e,t){const s=[];return e.forEach((l,d)=>{s.push(t.call(this,l,d))}),this.waitFor(s)}static mapArray(e,t){return new Jt((s,l)=>{const d=e.length,_=new Array(d);let S=0;for(let q=0;q<d;q++){const se=q;t(e[se]).next(Oe=>{_[se]=Oe,++S,S===d&&s(_)},Oe=>l(Oe))}})}static doWhile(e,t){return new Jt((s,l)=>{const d=()=>{!0===e()?t().next(()=>{d()},l):s()};d()})}}class pa{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new qr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Tr(e,t.error)):this.P.resolve()},this.transaction.onerror=s=>{const l=Ac(s.target.error);this.P.reject(new Tr(e,l))}}static open(e,t,s,l){try{return new pa(t,e.transaction(l,s))}catch(d){throw new Tr(t,d)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(cn("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new xc(t)}}class na{constructor(e,t,s){this.name=e,this.version=t,this.S=s,12.2===na.D((0,Fe.z$)())&&dr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return cn("SimpleDb","Removing database:",e),ul(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,Fe.hl)())return!1;if(na.N())return!0;const e=(0,Fe.z$)(),t=na.D(e),s=0<t&&t<10,l=na.k(e),d=0<l&&l<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||d)}static N(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static k(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}F(e){var t=this;return(0,B.Z)(function*(){return t.db||(cn("SimpleDb","Opening database:",t.name),t.db=yield new Promise((s,l)=>{const d=indexedDB.open(t.name,t.version);d.onsuccess=_=>{s(_.target.result)},d.onblocked=()=>{l(new Tr(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=_=>{const S=_.target.error;l("VersionError"===S.name?new yn(Zt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===S.name?new yn(Zt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+S):new Tr(e,S))},d.onupgradeneeded=_=>{cn("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',_.oldVersion),t.S.$(_.target.result,d.transaction,_.oldVersion,t.version).next(()=>{cn("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=s=>t.B(s)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,s,l){var d=this;return(0,B.Z)(function*(){const _="readonly"===t;let S=0;for(;;){++S;try{d.db=yield d.F(e);const q=pa.open(d.db,e,_?"readonly":"readwrite",s),se=l(q).next(Oe=>(q.V(),Oe)).catch(Oe=>(q.abort(Oe),Jt.reject(Oe))).toPromise();return se.catch(()=>{}),yield q.v,se}catch(q){const se=q,Oe="FirebaseError"!==se.name&&S<3;if(cn("SimpleDb","Transaction failed with error:",se.message,"Retrying:",Oe),d.close(),!Oe)return Promise.reject(se)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Sc{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return ul(this.q.delete())}}class Tr extends yn{constructor(e,t){super(Zt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function xa(i){return"IndexedDbTransactionError"===i.name}class xc{constructor(e){this.store=e}put(e,t){let s;return void 0!==t?(cn("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):(cn("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),ul(s)}add(e){return cn("SimpleDb","ADD",this.store.name,e,e),ul(this.store.add(e))}get(e){return ul(this.store.get(e)).next(t=>(void 0===t&&(t=null),cn("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return cn("SimpleDb","DELETE",this.store.name,e),ul(this.store.delete(e))}count(){return cn("SimpleDb","COUNT",this.store.name),ul(this.store.count())}W(e,t){const s=this.options(e,t);if(s.index||"function"!=typeof this.store.getAll){const l=this.cursor(s),d=[];return this.H(l,(_,S)=>{d.push(S)}).next(()=>d)}{const l=this.store.getAll(s.range);return new Jt((d,_)=>{l.onerror=S=>{_(S.target.error)},l.onsuccess=S=>{d(S.target.result)}})}}J(e,t){const s=this.store.getAll(e,null===t?void 0:t);return new Jt((l,d)=>{s.onerror=_=>{d(_.target.error)},s.onsuccess=_=>{l(_.target.result)}})}Y(e,t){cn("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.X=!1;const l=this.cursor(s);return this.H(l,(d,_,S)=>S.delete())}Z(e,t){let s;t?s=e:(s={},t=e);const l=this.cursor(s);return this.H(l,t)}tt(e){const t=this.cursor({});return new Jt((s,l)=>{t.onerror=d=>{const _=Ac(d.target.error);l(_)},t.onsuccess=d=>{const _=d.target.result;_?e(_.primaryKey,_.value).next(S=>{S?_.continue():s()}):s()}})}H(e,t){const s=[];return new Jt((l,d)=>{e.onerror=_=>{d(_.target.error)},e.onsuccess=_=>{const S=_.target.result;if(!S)return void l();const q=new Sc(S),se=t(S.primaryKey,S.value,q);if(se instanceof Jt){const Oe=se.catch(mt=>(q.done(),Jt.reject(mt)));s.push(Oe)}q.isDone?l():null===q.G?S.continue():S.continue(q.G)}}).next(()=>Jt.waitFor(s))}options(e,t){let s;return void 0!==e&&("string"==typeof e?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.X?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ul(i){return new Jt((e,t)=>{i.onsuccess=s=>{e(s.target.result)},i.onerror=s=>{const l=Ac(s.target.error);t(l)}})}let sd=!1;function Ac(i){const e=na.D((0,Fe.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const s=new yn("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return sd||(sd=!0,setTimeout(()=>{throw s},0)),s}}return i}class Ih{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;cn("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,B.Z)(function*(){t.task=null;try{cn("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(s){xa(s)?cn("IndexBackiller","Ignoring IndexedDB error during index backfill: ",s):yield ss(s)}yield t.nt(6e4)}))}}class Th{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,B.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>t.it(s,e))})()}it(e,t){const s=new Set;let l=t,d=!0;return Jt.doWhile(()=>!0===d&&l>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(_=>{if(null!==_&&!s.has(_))return cn("IndexBackiller",`Processing collection: ${_}`),this.rt(e,_,l).next(S=>{l-=S,s.add(_)});d=!1})).next(()=>t-l)}rt(e,t,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(l=>this.localStore.localDocuments.getNextDocuments(e,t,l,s).next(d=>{const _=d.changes;return this.localStore.indexManager.updateIndexEntries(e,_).next(()=>this.ot(l,d)).next(S=>(cn("IndexBackiller",`Updating offset: ${S}`),this.localStore.indexManager.updateCollectionGroup(e,t,S))).next(()=>_.size)}))}ot(e,t){let s=e;return t.changes.forEach((l,d)=>{const _=ha(d);Oo(_,s)>0&&(s=_)}),new Ir(s.readTime,s.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Ls=(()=>{class i{constructor(t,s){this.previousValue=t,s&&(s.sequenceNumberHandler=l=>this.ut(l),this.ct=l=>s.writeSequenceNumber(l))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return i.at=-1,i})();class zl{constructor(e,t,s,l,d,_,S,q){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=l,this.ssl=d,this.forceLongPolling=_,this.autoDetectLongPolling=S,this.useFetchStreams=q}}class yr{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new yr("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof yr&&e.projectId===this.projectId&&e.database===this.database}}function Aa(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Ro(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function El(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Qa(i){return null==i}function ws(i){return 0===i&&1/i==-1/0}function Js(i){return"number"==typeof i&&Number.isInteger(i)&&!ws(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}class os{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new os(t)}static fromUint8Array(e){const t=function(s){let l="";for(let d=0;d<s.length;++d)l+=String.fromCharCode(s[d]);return l}(e);return new os(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return vi(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}os.EMPTY_BYTE_STRING=new os("");const ka=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function eo(i){if(On(!!i),"string"==typeof i){let e=0;const t=ka.exec(i);if(On(!!t),t[1]){let l=t[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:gr(i.seconds),nanos:gr(i.nanos)}}function gr(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function $o(i){return"string"==typeof i?os.fromBase64String(i):os.fromUint8Array(i)}function Ml(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function fu(i){const e=i.mapValue.fields.__previous_value__;return Ml(e)?fu(e):e}function ma(i){const e=eo(i.mapValue.fields.__local_write_time__.timestampValue);return new E(e.seconds,e.nanos)}const Ur={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ga={nullValue:"NULL_VALUE"};function to(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Ml(i)?4:ve(i)?9007199254740991:10:Hn()}function Po(i,e){if(i===e)return!0;const t=to(i);if(t!==to(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ma(i).isEqual(ma(e));case 3:return function(s,l){if("string"==typeof s.timestampValue&&"string"==typeof l.timestampValue&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const d=eo(s.timestampValue),_=eo(l.timestampValue);return d.seconds===_.seconds&&d.nanos===_.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return l=e,$o(i.bytesValue).isEqual($o(l.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(s,l){return gr(s.geoPointValue.latitude)===gr(l.geoPointValue.latitude)&&gr(s.geoPointValue.longitude)===gr(l.geoPointValue.longitude)}(i,e);case 2:return function(s,l){if("integerValue"in s&&"integerValue"in l)return gr(s.integerValue)===gr(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const d=gr(s.doubleValue),_=gr(l.doubleValue);return d===_?ws(d)===ws(_):isNaN(d)&&isNaN(_)}return!1}(i,e);case 9:return P(i.arrayValue.values||[],e.arrayValue.values||[],Po);case 10:return function(s,l){const d=s.mapValue.fields||{},_=l.mapValue.fields||{};if(Aa(d)!==Aa(_))return!1;for(const S in d)if(d.hasOwnProperty(S)&&(void 0===_[S]||!Po(d[S],_[S])))return!1;return!0}(i,e);default:return Hn()}var l}function Yo(i,e){return void 0!==(i.values||[]).find(t=>Po(t,e))}function Wo(i,e){if(i===e)return 0;const t=to(i),s=to(e);if(t!==s)return vi(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return vi(i.booleanValue,e.booleanValue);case 2:return function(l,d){const _=gr(l.integerValue||l.doubleValue),S=gr(d.integerValue||d.doubleValue);return _<S?-1:_>S?1:_===S?0:isNaN(_)?isNaN(S)?0:-1:1}(i,e);case 3:return Il(i.timestampValue,e.timestampValue);case 4:return Il(ma(i),ma(e));case 5:return vi(i.stringValue,e.stringValue);case 6:return function(l,d){const _=$o(l),S=$o(d);return _.compareTo(S)}(i.bytesValue,e.bytesValue);case 7:return function(l,d){const _=l.split("/"),S=d.split("/");for(let q=0;q<_.length&&q<S.length;q++){const se=vi(_[q],S[q]);if(0!==se)return se}return vi(_.length,S.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,d){const _=vi(gr(l.latitude),gr(d.latitude));return 0!==_?_:vi(gr(l.longitude),gr(d.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(l,d){const _=l.values||[],S=d.values||[];for(let q=0;q<_.length&&q<S.length;++q){const se=Wo(_[q],S[q]);if(se)return se}return vi(_.length,S.length)}(i.arrayValue,e.arrayValue);case 10:return function(l,d){if(l===Ur.mapValue&&d===Ur.mapValue)return 0;if(l===Ur.mapValue)return 1;if(d===Ur.mapValue)return-1;const _=l.fields||{},S=Object.keys(_),q=d.fields||{},se=Object.keys(q);S.sort(),se.sort();for(let Oe=0;Oe<S.length&&Oe<se.length;++Oe){const mt=vi(S[Oe],se[Oe]);if(0!==mt)return mt;const Yt=Wo(_[S[Oe]],q[se[Oe]]);if(0!==Yt)return Yt}return vi(S.length,se.length)}(i.mapValue,e.mapValue);default:throw Hn()}}function Il(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return vi(i,e);const t=eo(i),s=eo(e),l=vi(t.seconds,s.seconds);return 0!==l?l:vi(t.nanos,s.nanos)}function Xa(i){return Tl(i)}function Tl(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(s){const l=eo(s);return`time(${l.seconds},${l.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?$o(i.bytesValue).toBase64():"referenceValue"in i?Ct.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(s){let l="[",d=!0;for(const _ of s.values||[])d?d=!1:l+=",",l+=Tl(_);return l+"]"}(i.arrayValue):"mapValue"in i?function(s){const l=Object.keys(s.fields||{}).sort();let d="{",_=!0;for(const S of l)_?_=!1:d+=",",d+=`${S}:${Tl(s.fields[S])}`;return d+"}"}(i.mapValue):Hn();var e}function _a(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function hl(i){return!!i&&"integerValue"in i}function Vs(i){return!!i&&"arrayValue"in i}function J(i){return!!i&&"nullValue"in i}function ie(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function g(i){return!!i&&"mapValue"in i}function Y(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Ro(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Y(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Y(i.arrayValue.values[t]);return e}return Object.assign({},i)}function ve(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function at(i){return"nullValue"in i?ga:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?_a(yr.empty(),Ct.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:Hn()}function In(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?_a(yr.empty(),Ct.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?Ur:Hn()}function yi(i,e){const t=Wo(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function sr(i,e){const t=Wo(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class Nr{constructor(e,t){this.position=e,this.inclusive=t}}function Hr(i,e,t){let s=0;for(let l=0;l<i.position.length;l++){const d=e[l],_=i.position[l];if(s=d.field.isKeyField()?Ct.comparator(Ct.fromName(_.referenceValue),t.key):Wo(_,t.data.field(d.field)),"desc"===d.dir&&(s*=-1),0!==s)break}return s}function Ys(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Po(i.position[t],e.position[t]))return!1;return!0}class V{}class G extends V{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,s):new ki(e,t,s):"array-contains"===t?new fl(e,s):"in"===t?new Oa(e,s):"not-in"===t?new Fo(e,s):"array-contains-any"===t?new va(e,s):new G(e,t,s)}static createKeyFieldInFilter(e,t,s){return"in"===t?new no(e,s):new Bs(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Wo(t,this.value)):null!==t&&to(this.value)===to(t)&&this.matchesComparison(Wo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Hn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class he extends V{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new he(e,t)}matches(e){return it(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function it(i){return"and"===i.op}function Nt(i){return"or"===i.op}function Kt(i){return wn(i)&&it(i)}function wn(i){for(const e of i.filters)if(e instanceof he)return!1;return!0}function Kn(i){if(i instanceof G)return i.field.canonicalString()+i.op.toString()+Xa(i.value);if(Kt(i))return i.filters.map(e=>Kn(e)).join(",");{const e=i.filters.map(t=>Kn(t)).join(",");return`${i.op}(${e})`}}function ti(i,e){return i instanceof G?(t=i,(s=e)instanceof G&&t.op===s.op&&t.field.isEqual(s.field)&&Po(t.value,s.value)):i instanceof he?function(t,s){return s instanceof he&&t.op===s.op&&t.filters.length===s.filters.length&&t.filters.reduce((l,d,_)=>l&&ti(d,s.filters[_]),!0)}(i,e):void Hn();var t,s}function hi(i,e){const t=i.filters.concat(e);return he.create(t,i.op)}function Gi(i){return i instanceof G?`${(e=i).field.canonicalString()} ${e.op} ${Xa(e.value)}`:i instanceof he?function(e){return e.op.toString()+" {"+e.getFilters().map(Gi).join(" ,")+"}"}(i):"Filter";var e}class ki extends G{constructor(e,t,s){super(e,t,s),this.key=Ct.fromName(s.referenceValue)}matches(e){const t=Ct.comparator(e.key,this.key);return this.matchesComparison(t)}}class no extends G{constructor(e,t){super(e,"in",t),this.keys=Ja(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Bs extends G{constructor(e,t){super(e,"not-in",t),this.keys=Ja(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Ja(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>Ct.fromName(s.referenceValue))}class fl extends G{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Vs(t)&&Yo(t.arrayValue,this.value)}}class Oa extends G{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Yo(this.value.arrayValue,t)}}class Fo extends G{constructor(e,t){super(e,"not-in",t)}matches(e){if(Yo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Yo(this.value.arrayValue,t)}}class va extends G{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Vs(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Yo(this.value.arrayValue,s))}}class el{constructor(e,t="asc"){this.field=e,this.dir=t}}function $l(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class Qr{constructor(e,t){this.comparator=e,this.root=t||yo.EMPTY}insert(e,t){return new Qr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,yo.BLACK,null,null))}remove(e){return new Qr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yo.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(0===l)return t+s.left.size;l<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yl(this.root,e,this.comparator,!0)}}class Yl{constructor(e,t,s,l){this.isReverse=l,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=t?s(e.key,t):1,t&&l&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(0===d){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yo{constructor(e,t,s,l,d){this.key=e,this.value=t,this.color=null!=s?s:yo.RED,this.left=null!=l?l:yo.EMPTY,this.right=null!=d?d:yo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,l,d){return new yo(null!=e?e:this.key,null!=t?t:this.value,null!=s?s:this.color,null!=l?l:this.left,null!=d?d:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let l=this;const d=s(e,l.key);return l=d<0?l.copy(null,null,null,l.left.insert(e,t,s),null):0===d?l.copy(null,t,null,null,null):l.copy(null,null,null,null,l.right.insert(e,t,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return yo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,l=this;if(t(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,t),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===t(e,l.key)){if(l.right.isEmpty())return yo.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,t))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Hn();const e=this.left.check();if(e!==this.right.check())throw Hn();return e+(this.isRed()?0:1)}}yo.EMPTY=null,yo.RED=!0,yo.BLACK=!1,yo.EMPTY=new class{constructor(){this.size=0}get key(){throw Hn()}get value(){throw Hn()}get color(){throw Hn()}get left(){throw Hn()}get right(){throw Hn()}copy(i,e,t,s,l){return this}insert(i,e,t){return new yo(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Sr{constructor(e){this.comparator=e,this.data=new Qr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;t(l.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new od(this.data.getIterator())}getIteratorFrom(e){return new od(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Sr)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const l=t.getNext().key,d=s.getNext().key;if(0!==this.comparator(l,d))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Sr(this.comparator);return t.data=e,t}}class od{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function kc(i){return i.hasNext()?i.getNext():void 0}class uo{constructor(e){this.fields=e,e.sort(ht.comparator)}static empty(){return new uo([])}unionWith(e){let t=new Sr(ht.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new uo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return P(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class ho{constructor(e){this.value=e}static empty(){return new ho({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!g(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Y(t)}setAll(e){let t=ht.emptyPath(),s={},l=[];e.forEach((_,S)=>{if(!t.isImmediateParentOf(S)){const q=this.getFieldsMap(t);this.applyChanges(q,s,l),s={},l=[],t=S.popLast()}_?s[S.lastSegment()]=Y(_):l.push(S.lastSegment())});const d=this.getFieldsMap(t);this.applyChanges(d,s,l)}delete(e){const t=this.field(e.popLast());g(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Po(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=t.mapValue.fields[e.get(s)];g(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=l),t=l}return t.mapValue.fields}applyChanges(e,t,s){Ro(t,(l,d)=>e[l]=d);for(const l of s)delete e[l]}clone(){return new ho(Y(this.value))}}function Sh(i){const e=[];return Ro(i.fields,(t,s)=>{const l=new ht([t]);if(g(s)){const d=Sh(s.mapValue).fields;if(0===d.length)e.push(l);else for(const _ of d)e.push(l.child(_))}else e.push(l)}),new uo(e)}class as{constructor(e,t,s,l,d,_,S){this.key=e,this.documentType=t,this.version=s,this.readTime=l,this.createTime=d,this.data=_,this.documentState=S}static newInvalidDocument(e){return new as(e,0,L.min(),L.min(),L.min(),ho.empty(),0)}static newFoundDocument(e,t,s,l){return new as(e,1,t,L.min(),s,l,0)}static newNoDocument(e,t){return new as(e,2,t,L.min(),L.min(),ho.empty(),0)}static newUnknownDocument(e,t){return new as(e,3,t,L.min(),L.min(),ho.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(L.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ho.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ho.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=L.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof as&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new as(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class yg{constructor(e,t=null,s=[],l=[],d=null,_=null,S=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=l,this.limit=d,this.startAt=_,this.endAt=S,this.ft=null}}function ya(i,e=null,t=[],s=[],l=null,d=null,_=null){return new yg(i,e,t,s,l,d,_)}function Sl(i){const e=An(i);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Kn(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(l=s).field.canonicalString()+l.dir;var l}).join(","),Qa(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Xa(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Xa(s)).join(",")),e.ft=t}return e.ft}function Oc(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!$l(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!ti(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Ys(i.startAt,e.startAt)&&Ys(i.endAt,e.endAt)}function pu(i){return Ct.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function xl(i,e){return i.filters.filter(t=>t instanceof G&&t.field.isEqual(e))}function bo(i,e,t){let s=ga,l=!0;for(const d of xl(i,e)){let _=ga,S=!0;switch(d.op){case"<":case"<=":_=at(d.value);break;case"==":case"in":case">=":_=d.value;break;case">":_=d.value,S=!1;break;case"!=":case"not-in":_=ga}yi({value:s,inclusive:l},{value:_,inclusive:S})<0&&(s=_,l=S)}if(null!==t)for(let d=0;d<i.orderBy.length;++d)if(i.orderBy[d].field.isEqual(e)){const _=t.position[d];yi({value:s,inclusive:l},{value:_,inclusive:t.inclusive})<0&&(s=_,l=t.inclusive);break}return{value:s,inclusive:l}}function mu(i,e,t){let s=Ur,l=!0;for(const d of xl(i,e)){let _=Ur,S=!0;switch(d.op){case">=":case">":_=In(d.value),S=!1;break;case"==":case"in":case"<=":_=d.value;break;case"<":_=d.value,S=!1;break;case"!=":case"not-in":_=Ur}sr({value:s,inclusive:l},{value:_,inclusive:S})>0&&(s=_,l=S)}if(null!==t)for(let d=0;d<i.orderBy.length;++d)if(i.orderBy[d].field.isEqual(e)){const _=t.position[d];sr({value:s,inclusive:l},{value:_,inclusive:t.inclusive})>0&&(s=_,l=t.inclusive);break}return{value:s,inclusive:l}}class ja{constructor(e,t=null,s=[],l=[],d=null,_="F",S=null,q=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=l,this.limit=d,this.limitType=_,this.startAt=S,this.endAt=q,this.dt=null,this._t=null}}function ad(i,e,t,s,l,d,_,S){return new ja(i,e,t,s,l,d,_,S)}function As(i){return new ja(i)}function Al(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function Rc(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function gu(i){for(const e of i.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function ld(i){return null!==i.collectionGroup}function pl(i){const e=An(i);if(null===e.dt){e.dt=[];const t=gu(e),s=Rc(e);if(null!==t&&null===s)t.isKeyField()||e.dt.push(new el(t)),e.dt.push(new el(ht.keyField(),"asc"));else{let l=!1;for(const d of e.explicitOrderBy)e.dt.push(d),d.field.isKeyField()&&(l=!0);if(!l){const d=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new el(ht.keyField(),d))}}}return e.dt}function fo(i){const e=An(i);if(!e._t)if("F"===e.limitType)e._t=ya(e.path,e.collectionGroup,pl(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const d of pl(e))t.push(new el(d.field,"desc"===d.dir?"asc":"desc"));const s=e.endAt?new Nr(e.endAt.position,e.endAt.inclusive):null,l=e.startAt?new Nr(e.startAt.position,e.startAt.inclusive):null;e._t=ya(e.path,e.collectionGroup,t,e.filters,e.limit,s,l)}return e._t}function _u(i,e){e.getFirstInequalityField(),gu(i);const t=i.filters.concat([e]);return new ja(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function Wl(i,e,t){return new ja(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Kl(i,e){return Oc(fo(i),fo(e))&&i.limitType===e.limitType}function cd(i){return`${Sl(fo(i))}|lt:${i.limitType}`}function ud(i){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(s=>Gi(s)).join(", ")}]`),Qa(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(s=>{return`${(l=s).field.canonicalString()} (${l.dir})`;var l}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Xa(s)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Xa(s)).join(",")),`Target(${t})`}(fo(i))}; limitType=${i.limitType})`}function tl(i,e){return e.isFoundDocument()&&function(t,s){const l=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(l):Ct.isDocumentKey(t.path)?t.path.isEqual(l):t.path.isImmediateParentOf(l)}(i,e)&&function(t,s){for(const l of pl(t))if(!l.field.isKeyField()&&null===s.data.field(l.field))return!1;return!0}(i,e)&&function(t,s){for(const l of t.filters)if(!l.matches(s))return!1;return!0}(i,e)&&(s=e,!((t=i).startAt&&!function(l,d,_){const S=Hr(l,d,_);return l.inclusive?S<=0:S<0}(t.startAt,pl(t),s)||t.endAt&&!function(l,d,_){const S=Hr(l,d,_);return l.inclusive?S>=0:S>0}(t.endAt,pl(t),s)));var t,s}function vu(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function dd(i){return(e,t)=>{let s=!1;for(const l of pl(i)){const d=hd(l,e,t);if(0!==d)return d;s=s||l.field.isKeyField()}return 0}}function hd(i,e,t){const s=i.field.isKeyField()?Ct.comparator(e.key,t.key):function(l,d,_){const S=d.data.field(l),q=_.data.field(l);return null!==S&&null!==q?Wo(S,q):Hn()}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Hn()}}function Zl(i,e){if(i.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ws(e)?"-0":e}}function fd(i){return{integerValue:""+i}}function pd(i,e){return Js(e)?fd(e):Zl(i,e)}class ql{constructor(){this._=void 0}}function md(i,e,t){return i instanceof Ga?function(s,l){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&(d.fields.__previous_value__=l),{mapValue:d}}(t,e):i instanceof No?_d(i,e):i instanceof kl?Ql(i,e):function(s,l){const d=cp(s,l),_=yu(d)+yu(s.gt);return hl(d)&&hl(s.gt)?fd(_):Zl(s.yt,_)}(i,e)}function gd(i,e,t){return i instanceof No?_d(i,e):i instanceof kl?Ql(i,e):t}function cp(i,e){return i instanceof Xl?hl(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class Ga extends ql{}class No extends ql{constructor(e){super(),this.elements=e}}function _d(i,e){const t=xh(e);for(const s of i.elements)t.some(l=>Po(l,s))||t.push(s);return{arrayValue:{values:t}}}class kl extends ql{constructor(e){super(),this.elements=e}}function Ql(i,e){let t=xh(e);for(const s of i.elements)t=t.filter(l=>!Po(l,s));return{arrayValue:{values:t}}}class Xl extends ql{constructor(e,t){super(),this.yt=e,this.gt=t}}function yu(i){return gr(i.integerValue||i.doubleValue)}function xh(i){return Vs(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Pc{constructor(e,t){this.field=e,this.transform=t}}class up{constructor(e,t){this.version=e,this.transformResults=t}}class ls{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ls}static exists(e){return new ls(void 0,e)}static updateTime(e){return new ls(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ml(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Fc{}function bu(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new Jl(i.key,ls.none()):new Ko(i.key,i.data,ls.none());{const t=i.data,s=ho.empty();let l=new Sr(ht.comparator);for(let d of e.fields)if(!l.has(d)){let _=t.field(d);null===_&&d.length>1&&(d=d.popLast(),_=t.field(d)),null===_?s.delete(d):s.set(d,_),l=l.add(d)}return new za(i.key,s,new uo(l.toArray()),ls.none())}}function dp(i,e,t){i instanceof Ko?function(s,l,d){const _=s.value.clone(),S=wu(s.fieldTransforms,l,d.transformResults);_.setAll(S),l.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(i,e,t):i instanceof za?function(s,l,d){if(!ml(s.precondition,l))return void l.convertToUnknownDocument(d.version);const _=wu(s.fieldTransforms,l,d.transformResults),S=l.data;S.setAll(yd(s)),S.setAll(_),l.convertToFoundDocument(d.version,S).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Nc(i,e,t,s){return i instanceof Ko?function(l,d,_,S){if(!ml(l.precondition,d))return _;const q=l.value.clone(),se=Ol(l.fieldTransforms,S,d);return q.setAll(se),d.convertToFoundDocument(d.version,q).setHasLocalMutations(),null}(i,e,t,s):i instanceof za?function(l,d,_,S){if(!ml(l.precondition,d))return _;const q=Ol(l.fieldTransforms,S,d),se=d.data;return se.setAll(yd(l)),se.setAll(q),d.convertToFoundDocument(d.version,se).setHasLocalMutations(),null===_?null:_.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(Oe=>Oe.field))}(i,e,t,s):(_=t,ml(i.precondition,d=e)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):_);var d,_}function Ah(i,e){let t=null;for(const s of i.fieldTransforms){const l=e.data.field(s.field),d=cp(s.transform,l||null);null!=d&&(null===t&&(t=ho.empty()),t.set(s.field,d))}return t||null}function Cu(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===s||t&&s&&P(t,s,(l,d)=>function vd(i,e){return i.field.isEqual(e.field)&&(s=e.transform,(t=i.transform)instanceof No&&s instanceof No||t instanceof kl&&s instanceof kl?P(t.elements,s.elements,Po):t instanceof Xl&&s instanceof Xl?Po(t.gt,s.gt):t instanceof Ga&&s instanceof Ga);var t,s}(l,d))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,s}class Ko extends Fc{constructor(e,t,s,l=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class za extends Fc{constructor(e,t,s,l,d=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=l,this.fieldTransforms=d,this.type=1}getFieldMask(){return this.fieldMask}}function yd(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function wu(i,e,t){const s=new Map;On(i.length===t.length);for(let l=0;l<t.length;l++){const d=i[l],_=d.transform,S=e.data.field(d.field);s.set(d.field,gd(_,S,t[l]))}return s}function Ol(i,e,t){const s=new Map;for(const l of i){const d=l.transform,_=t.data.field(l.field);s.set(l.field,md(d,_,e))}return s}class Jl extends Fc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Du extends Fc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Lc{constructor(e){this.count=e}}var ks,ar;function bd(i){switch(i){default:return Hn();case Zt.CANCELLED:case Zt.UNKNOWN:case Zt.DEADLINE_EXCEEDED:case Zt.RESOURCE_EXHAUSTED:case Zt.INTERNAL:case Zt.UNAVAILABLE:case Zt.UNAUTHENTICATED:return!1;case Zt.INVALID_ARGUMENT:case Zt.NOT_FOUND:case Zt.ALREADY_EXISTS:case Zt.PERMISSION_DENIED:case Zt.FAILED_PRECONDITION:case Zt.ABORTED:case Zt.OUT_OF_RANGE:case Zt.UNIMPLEMENTED:case Zt.DATA_LOSS:return!0}}function ec(i){if(void 0===i)return dr("GRPC error has no .code"),Zt.UNKNOWN;switch(i){case ks.OK:return Zt.OK;case ks.CANCELLED:return Zt.CANCELLED;case ks.UNKNOWN:return Zt.UNKNOWN;case ks.DEADLINE_EXCEEDED:return Zt.DEADLINE_EXCEEDED;case ks.RESOURCE_EXHAUSTED:return Zt.RESOURCE_EXHAUSTED;case ks.INTERNAL:return Zt.INTERNAL;case ks.UNAVAILABLE:return Zt.UNAVAILABLE;case ks.UNAUTHENTICATED:return Zt.UNAUTHENTICATED;case ks.INVALID_ARGUMENT:return Zt.INVALID_ARGUMENT;case ks.NOT_FOUND:return Zt.NOT_FOUND;case ks.ALREADY_EXISTS:return Zt.ALREADY_EXISTS;case ks.PERMISSION_DENIED:return Zt.PERMISSION_DENIED;case ks.FAILED_PRECONDITION:return Zt.FAILED_PRECONDITION;case ks.ABORTED:return Zt.ABORTED;case ks.OUT_OF_RANGE:return Zt.OUT_OF_RANGE;case ks.UNIMPLEMENTED:return Zt.UNIMPLEMENTED;case ks.DATA_LOSS:return Zt.DATA_LOSS;default:return Hn()}}(ar=ks||(ks={}))[ar.OK=0]="OK",ar[ar.CANCELLED=1]="CANCELLED",ar[ar.UNKNOWN=2]="UNKNOWN",ar[ar.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ar[ar.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ar[ar.NOT_FOUND=5]="NOT_FOUND",ar[ar.ALREADY_EXISTS=6]="ALREADY_EXISTS",ar[ar.PERMISSION_DENIED=7]="PERMISSION_DENIED",ar[ar.UNAUTHENTICATED=16]="UNAUTHENTICATED",ar[ar.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ar[ar.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ar[ar.ABORTED=10]="ABORTED",ar[ar.OUT_OF_RANGE=11]="OUT_OF_RANGE",ar[ar.UNIMPLEMENTED=12]="UNIMPLEMENTED",ar[ar.INTERNAL=13]="INTERNAL",ar[ar.UNAVAILABLE=14]="UNAVAILABLE",ar[ar.DATA_LOSS=15]="DATA_LOSS";class Ra{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[l,d]of s)if(this.equalsFn(l,e))return d}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),l=this.inner[s];if(void 0===l)return this.inner[s]=[[e,t]],void this.innerSize++;for(let d=0;d<l.length;d++)if(this.equalsFn(l[d][0],e))return void(l[d]=[e,t]);l.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return 1===s.length?delete this.inner[t]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Ro(this.inner,(t,s)=>{for(const[l,d]of s)e(l,d)})}isEmpty(){return El(this.inner)}size(){return this.innerSize}}const kh=new Qr(Ct.comparator);function Co(){return kh}const Eu=new Qr(Ct.comparator);function Pa(...i){let e=Eu;for(const t of i)e=e.insert(t.key,t);return e}function tc(i){let e=Eu;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Fa(){return Vc()}function Cd(){return Vc()}function Vc(){return new Ra(i=>i.toString(),(i,e)=>i.isEqual(e))}const hp=new Qr(Ct.comparator),Oh=new Sr(Ct.comparator);function Hi(...i){let e=Oh;for(const t of i)e=e.add(t);return e}const nc=new Sr(vi);function gl(){return nc}class ba{constructor(e,t,s,l,d){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const l=new Map;return l.set(e,Bc.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new ba(L.min(),l,gl(),Co(),Hi())}}class Bc{constructor(e,t,s,l,d){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Bc(s,t,Hi(),Hi(),Hi())}}class ic{constructor(e,t,s,l){this.It=e,this.removedTargetIds=t,this.key=s,this.Tt=l}}class fp{constructor(e,t){this.targetId=e,this.Et=t}}class Zo{constructor(e,t,s=os.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=l}}class nl{constructor(){this.At=0,this.Rt=Uc(),this.bt=os.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=Hi(),t=Hi(),s=Hi();return this.Rt.forEach((l,d)=>{switch(d){case 0:e=e.add(l);break;case 2:t=t.add(l);break;case 1:s=s.add(l);break;default:Hn()}}),new Bc(this.bt,this.Pt,e,t,s)}xt(){this.vt=!1,this.Rt=Uc()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class Mu{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=Co(),this.qt=wd(),this.Ut=new Sr(vi)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const s=this.Wt(t);switch(e.state){case 0:this.zt(t)&&s.Dt(e.resumeToken);break;case 1:s.Mt(),s.Vt||s.xt(),s.Dt(e.resumeToken);break;case 2:s.Mt(),s.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(s.Ft(),s.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),s.Dt(e.resumeToken));break;default:Hn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((s,l)=>{this.zt(l)&&t(l)})}Jt(e){const t=e.targetId,s=e.Et.count,l=this.Yt(t);if(l){const d=l.target;if(pu(d))if(0===s){const _=new Ct(d.path);this.Qt(t,_,as.newNoDocument(_,L.min()))}else On(1===s);else this.Xt(t)!==s&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((d,_)=>{const S=this.Yt(_);if(S){if(d.current&&pu(S.target)){const q=new Ct(S.target.path);null!==this.Lt.get(q)||this.te(_,q)||this.Qt(_,q,as.newNoDocument(q,e))}d.St&&(t.set(_,d.Ct()),d.xt())}});let s=Hi();this.qt.forEach((d,_)=>{let S=!0;_.forEachWhile(q=>{const se=this.Yt(q);return!se||2===se.purpose||(S=!1,!1)}),S&&(s=s.add(d))}),this.Lt.forEach((d,_)=>_.setReadTime(e));const l=new ba(e,t,this.Ut,this.Lt,s);return this.Lt=Co(),this.qt=wd(),this.Ut=new Sr(vi),l}Gt(e,t){if(!this.zt(e))return;const s=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,s),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,s){if(!this.zt(e))return;const l=this.Wt(e);this.te(e,t)?l.Nt(t,1):l.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),s&&(this.Lt=this.Lt.insert(t,s))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new nl,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new Sr(vi),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||cn("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new nl),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function wd(){return new Qr(Ct.comparator)}function Uc(){return new Qr(Ct.comparator)}const Iu={asc:"ASCENDING",desc:"DESCENDING"},Rl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Rh={and:"AND",or:"OR"};class pp{constructor(e,t){this.databaseId=e,this.wt=t}}function ia(i,e){return i.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Dd(i,e){return i.wt?e.toBase64():e.toUint8Array()}function mp(i,e){return ia(i,e.toTimestamp())}function xr(i){return On(!!i),L.fromTimestamp(function(e){const t=eo(e);return new E(t.seconds,t.nanos)}(i))}function _l(i,e){return(t=i,new ge(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Tu(i){const e=ge.fromString(i);return On(Ci(e)),e}function io(i,e){return _l(i.databaseId,e.path)}function Ca(i,e){const t=Tu(e);if(t.get(1)!==i.databaseId.projectId)throw new yn(Zt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new yn(Zt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Ct(Pl(t))}function Hc(i,e){return _l(i.databaseId,e)}function Ph(i){const e=Tu(i);return 4===e.length?ge.emptyPath():Pl(e)}function ra(i){return new ge(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Pl(i){return On(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Ed(i,e,t){return{name:io(i,e),fields:t.value.mapValue.fields}}function Md(i,e,t){const s=Ca(i,e.name),l=xr(e.updateTime),d=e.createTime?xr(e.createTime):L.min(),_=new ho({mapValue:{fields:e.fields}}),S=as.newFoundDocument(s,l,d,_);return t&&S.setHasCommittedMutations(),t?S.setHasCommittedMutations():S}function Su(i,e){let t;if(e instanceof Ko)t={update:Ed(i,e.key,e.value)};else if(e instanceof Jl)t={delete:io(i,e.key)};else if(e instanceof za)t={update:Ed(i,e.key,e.data),updateMask:Mi(e.fieldMask)};else{if(!(e instanceof Du))return Hn();t={verify:io(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(l,d){const _=d.transform;if(_ instanceof Ga)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(_ instanceof No)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:_.elements}};if(_ instanceof kl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:_.elements}};if(_ instanceof Xl)return{fieldPath:d.field.canonicalString(),increment:_.gt};throw Hn()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(l=e.precondition).updateTime?{updateTime:mp(i,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:Hn()),t;var l}function Td(i,e){const t=e.currentDocument?void 0!==(l=e.currentDocument).updateTime?ls.updateTime(xr(l.updateTime)):void 0!==l.exists?ls.exists(l.exists):ls.none():ls.none(),s=e.updateTransforms?e.updateTransforms.map(l=>function(d,_){let S=null;"setToServerValue"in _?(On("REQUEST_TIME"===_.setToServerValue),S=new Ga):"appendMissingElements"in _?S=new No(_.appendMissingElements.values||[]):"removeAllFromArray"in _?S=new kl(_.removeAllFromArray.values||[]):"increment"in _?S=new Xl(d,_.increment):Hn();const q=ht.fromServerFormat(_.fieldPath);return new Pc(q,S)}(i,l)):[];var l;if(e.update){const l=Ca(i,e.update.name),d=new ho({mapValue:{fields:e.update.fields}});if(e.updateMask){const _=new uo((e.updateMask.fieldPaths||[]).map(se=>ht.fromServerFormat(se)));return new za(l,d,_,t,s)}return new Ko(l,d,t,s)}if(e.delete){const l=Ca(i,e.delete);return new Jl(l,t)}if(e.verify){const l=Ca(i,e.verify);return new Du(l,t)}return Hn()}function Sd(i,e){return{documents:[Hc(i,e.path)]}}function y(i,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=Hc(i,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Hc(i,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const l=function(q){if(0!==q.length)return qn(he.create(q,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const d=function(q){if(0!==q.length)return q.map(se=>{return{field:sn((Oe=se).field),direction:ee(Oe.dir)};var Oe})}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const _=(se=e.limit,i.wt||Qa(se)?se:{value:se});var se,S,q;return null!==_&&(t.structuredQuery.limit=_),e.startAt&&(t.structuredQuery.startAt={before:(S=e.startAt).inclusive,values:S.position}),e.endAt&&(t.structuredQuery.endAt={before:!(q=e.endAt).inclusive,values:q.position}),t}function h(i){let e=Ph(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let l=null;if(s>0){On(1===s);const Oe=t.from[0];Oe.allDescendants?l=Oe.collectionId:e=e.child(Oe.collectionId)}let d=[];t.where&&(d=function(Oe){const mt=I(Oe);return mt instanceof he&&Kt(mt)?mt.getFilters():[mt]}(t.where));let _=[];t.orderBy&&(_=t.orderBy.map(Oe=>{return new el(xn((mt=Oe).field),function(Yt){switch(Yt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(mt.direction));var mt}));let S=null;t.limit&&(S=function(Oe){let mt;return mt="object"==typeof Oe?Oe.value:Oe,Qa(mt)?null:mt}(t.limit));let q=null;var Oe;t.startAt&&(q=new Nr((Oe=t.startAt).values||[],!!Oe.before));let se=null;return t.endAt&&(se=function(Oe){return new Nr(Oe.values||[],!Oe.before)}(t.endAt)),ad(e,l,_,d,S,"F",q,se)}function I(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=xn(e.unaryFilter.field);return G.create(t,"==",{doubleValue:NaN});case"IS_NULL":const s=xn(e.unaryFilter.field);return G.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=xn(e.unaryFilter.field);return G.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=xn(e.unaryFilter.field);return G.create(d,"!=",{nullValue:"NULL_VALUE"});default:return Hn()}}(i):void 0!==i.fieldFilter?G.create(xn((e=i).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Hn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return he.create(e.compositeFilter.filters.map(t=>I(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Hn()}}(e.compositeFilter.op))}(i):Hn();var e}function ee(i){return Iu[i]}function ke(i){return Rl[i]}function Ot(i){return Rh[i]}function sn(i){return{fieldPath:i.canonicalString()}}function xn(i){return ht.fromServerFormat(i.fieldPath)}function qn(i){return i instanceof G?function(e){if("=="===e.op){if(ie(e.value))return{unaryFilter:{field:sn(e.field),op:"IS_NAN"}};if(J(e.value))return{unaryFilter:{field:sn(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ie(e.value))return{unaryFilter:{field:sn(e.field),op:"IS_NOT_NAN"}};if(J(e.value))return{unaryFilter:{field:sn(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sn(e.field),op:ke(e.op),value:e.value}}}(i):i instanceof he?function(e){const t=e.getFilters().map(s=>qn(s));return 1===t.length?t[0]:{compositeFilter:{op:Ot(e.op),filters:t}}}(i):Hn()}function Mi(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Ci(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function _r(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=Gc(e)),e=wa(i.get(t),e);return Gc(e)}function wa(i,e){let t=e;const s=i.length;for(let l=0;l<s;l++){const d=i.charAt(l);switch(d){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=d}}return t}function Gc(i){return i+"\x01\x01"}function Na(i){const e=i.length;if(On(e>=2),2===e)return On("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),ge.emptyPath();const t=e-2,s=[];let l="";for(let d=0;d<e;){const _=i.indexOf("\x01",d);switch((_<0||_>t)&&Hn(),i.charAt(_+1)){case"\x01":const S=i.substring(d,_);let q;0===l.length?q=S:(l+=S,q=l,l=""),s.push(q);break;case"\x10":l+=i.substring(d,_),l+="\0";break;case"\x11":l+=i.substring(d,_+1);break;default:Hn()}d=_+2}return new ge(s)}const xu=["userId","batchId"];function zc(i,e){return[i,_r(e)]}function Au(i,e,t){return[i,_r(e),t]}const rc={},xd=["prefixPath","collectionGroup","readTime","documentId"],ku=["prefixPath","collectionGroup","documentId"],Ad=["collectionGroup","readTime","prefixPath","documentId"],Ds=["canonicalId","targetId"],_p=["targetId","path"],kd=["path","targetId"],Od=["collectionId","parent"],bg=["indexId","uid"],Wv=["uid","sequenceNumber"],Kv=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Zv=["indexId","uid","orderedDocumentKey"],qv=["userId","collectionPath","documentId"],Qv=["userId","collectionPath","largestBatchId"],Xb=["userId","collectionGroup","largestBatchId"],Xv=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Rd=[...Xv,"documentOverlays"],Fh=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Cg=Fh,Jv=[...Cg,"indexConfiguration","indexState","indexEntries"];class Pd extends fa{constructor(e,t){super(),this.se=e,this.currentSequenceNumber=t}}function wo(i,e){const t=An(i);return na.M(t.se,e)}class vp{constructor(e,t,s,l){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let l=0;l<this.mutations.length;l++){const d=this.mutations[l];d.key.isEqual(e.key)&&dp(d,e,s[l])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Nc(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Nc(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Cd();return this.mutations.forEach(l=>{const d=e.get(l.key),_=d.overlayedDocument;let S=this.applyToLocalView(_,d.mutatedFields);S=t.has(l.key)?null:S;const q=bu(_,S);null!==q&&s.set(l.key,q),_.isValidDocument()||_.convertToNoDocument(L.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Hi())}isEqual(e){return this.batchId===e.batchId&&P(this.mutations,e.mutations,(t,s)=>Cu(t,s))&&P(this.baseMutations,e.baseMutations,(t,s)=>Cu(t,s))}}class Ou{constructor(e,t,s,l){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=l}static from(e,t,s){On(e.mutations.length===s.length);let l=hp;const d=e.mutations;for(let _=0;_<d.length;_++)l=l.insert(d[_].key,s[_].version);return new Ou(e,t,s,l)}}class yp{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class sc{constructor(e,t,s,l,d=L.min(),_=L.min(),S=os.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=_,this.resumeToken=S}withSequenceNumber(e){return new sc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new sc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new sc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class wg{constructor(e){this.ie=e}}function Dg(i,e){const t=e.key,s={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Nh(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:io(l=i.ie,(d=e).key),fields:d.data.value.mapValue.fields,updateTime:ia(l,d.version.toTimestamp()),createTime:ia(l,d.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:t.path.toArray(),readTime:$c(e.version)};else{if(!e.isUnknownDocument())return Hn();s.unknownDocument={path:t.path.toArray(),version:$c(e.version)}}var l,d;return s}function Nh(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function $c(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Yc(i){const e=new E(i.seconds,i.nanoseconds);return L.fromTimestamp(e)}function Wc(i,e){const t=(e.baseMutations||[]).map(d=>Td(i.ie,d));for(let d=0;d<e.mutations.length-1;++d){const _=e.mutations[d];d+1<e.mutations.length&&void 0!==e.mutations[d+1].transform&&(_.updateTransforms=e.mutations[d+1].transform.fieldTransforms,e.mutations.splice(d+1,1),++d)}const s=e.mutations.map(d=>Td(i.ie,d)),l=E.fromMillis(e.localWriteTimeMs);return new vp(e.batchId,l,t,s)}function Fd(i){const e=Yc(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?Yc(i.lastLimboFreeSnapshotVersion):L.min();let s;var l;return void 0!==i.query.documents?(On(1===(l=i.query).documents.length),s=fo(As(Ph(l.documents[0])))):s=fo(h(i.query)),new sc(s,i.targetId,0,i.lastListenSequenceNumber,e,t,os.fromBase64String(i.resumeToken))}function Kc(i,e){const t=$c(e.snapshotVersion),s=$c(e.lastLimboFreeSnapshotVersion);let l;l=pu(e.target)?Sd(i.ie,e.target):y(i.ie,e.target);const d=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Sl(e.target),readTime:t,resumeToken:d,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:l}}function $a(i){const e=h({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Wl(e,e.limit,"L"):e}function Eg(i,e){return new yp(e.largestBatchId,Td(i.ie,e.overlayMutation))}function ty(i,e){const t=e.path.lastSegment();return[i,_r(e.path.popLast()),t]}function bp(i,e,t,s){return{indexId:i,uid:e.uid||"",sequenceNumber:t,readTime:$c(s.readTime),documentKey:_r(s.documentKey.path),largestBatchId:s.largestBatchId}}class Jb{getBundleMetadata(e,t){return Cp(e).get(t).next(s=>{if(s)return{id:(l=s).bundleId,createTime:Yc(l.createTime),version:l.version};var l})}saveBundleMetadata(e,t){return Cp(e).put({bundleId:(s=t).id,createTime:$c(xr(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return ny(e).get(t).next(s=>{if(s)return{name:(l=s).name,query:$a(l.bundledQuery),readTime:Yc(l.readTime)};var l})}saveNamedQuery(e,t){return ny(e).put({name:(s=t).name,readTime:$c(xr(s.readTime)),bundledQuery:s.bundledQuery});var s}}function Cp(i){return wo(i,"bundles")}function ny(i){return wo(i,"namedQueries")}class Nd{constructor(e,t){this.yt=e,this.userId=t}static re(e,t){return new Nd(e,t.uid||"")}getOverlay(e,t){return Ld(e).get(ty(this.userId,t)).next(s=>s?Eg(this.yt,s):null)}getOverlays(e,t){const s=Fa();return Jt.forEach(t,l=>this.getOverlay(e,l).next(d=>{null!==d&&s.set(l,d)})).next(()=>s)}saveOverlays(e,t,s){const l=[];return s.forEach((d,_)=>{const S=new yp(t,_);l.push(this.oe(e,S))}),Jt.waitFor(l)}removeOverlaysForBatchId(e,t,s){const l=new Set;t.forEach(_=>l.add(_r(_.getCollectionPath())));const d=[];return l.forEach(_=>{const S=IDBKeyRange.bound([this.userId,_,s],[this.userId,_,s+1],!1,!0);d.push(Ld(e).Y("collectionPathOverlayIndex",S))}),Jt.waitFor(d)}getOverlaysForCollection(e,t,s){const l=Fa(),d=_r(t),_=IDBKeyRange.bound([this.userId,d,s],[this.userId,d,Number.POSITIVE_INFINITY],!0);return Ld(e).W("collectionPathOverlayIndex",_).next(S=>{for(const q of S){const se=Eg(this.yt,q);l.set(se.getKey(),se)}return l})}getOverlaysForCollectionGroup(e,t,s,l){const d=Fa();let _;const S=IDBKeyRange.bound([this.userId,t,s],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Ld(e).Z({index:"collectionGroupOverlayIndex",range:S},(q,se,Oe)=>{const mt=Eg(this.yt,se);d.size()<l||mt.largestBatchId===_?(d.set(mt.getKey(),mt),_=mt.largestBatchId):Oe.done()}).next(()=>d)}oe(e,t){return Ld(e).put(function(s,l,d){const[_,S,q]=ty(l,d.mutation.key);return{userId:l,collectionPath:S,documentId:q,collectionGroup:d.mutation.key.getCollectionGroup(),largestBatchId:d.largestBatchId,overlayMutation:Su(s.ie,d.mutation)}}(this.yt,this.userId,t))}}function Ld(i){return wo(i,"documentOverlays")}class oc{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(gr(e.integerValue));else if("doubleValue"in e){const s=gr(e.doubleValue);isNaN(s)?this.he(t,13):(this.he(t,15),ws(s)?t.le(0):t.le(s))}else if("timestampValue"in e){const s=e.timestampValue;this.he(t,20),"string"==typeof s?t.fe(s):(t.fe(`${s.seconds||""}`),t.le(s.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we($o(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.he(t,45),t.le(s.latitude||0),t.le(s.longitude||0)}else"mapValue"in e?ve(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):Hn()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const s=e.fields||{};this.he(t,55);for(const l of Object.keys(s))this.de(l,t),this.ce(s[l],t)}ye(e,t){const s=e.values||[];this.he(t,50);for(const l of s)this.ce(l,t)}me(e,t){this.he(t,37),Ct.fromName(e).path.forEach(s=>{this.he(t,60),this.pe(s,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}function iy(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function Mg(i){const e=64-function(t){let s=0;for(let l=0;l<8;++l){const d=iy(255&t[l]);if(s+=d,8!==d)break}return s}(i);return Math.ceil(e/8)}oc.Ie=new oc;class il{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Ee(s.value),s=t.next();this.Ae()}Re(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.be(s.value),s=t.next();this.Pe()}ve(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Ee(s);else if(s<2048)this.Ee(960|s>>>6),this.Ee(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.Ee(480|s>>>12),this.Ee(128|63&s>>>6),this.Ee(128|63&s);else{const l=t.codePointAt(0);this.Ee(240|l>>>18),this.Ee(128|63&l>>>12),this.Ee(128|63&l>>>6),this.Ee(128|63&l)}}this.Ae()}Ve(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.be(s);else if(s<2048)this.be(960|s>>>6),this.be(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.be(480|s>>>12),this.be(128|63&s>>>6),this.be(128|63&s);else{const l=t.codePointAt(0);this.be(240|l>>>18),this.be(128|63&l>>>12),this.be(128|63&l>>>6),this.be(128|63&l)}}this.Pe()}Se(e){const t=this.De(e),s=Mg(t);this.Ce(1+s),this.buffer[this.position++]=255&s;for(let l=t.length-s;l<t.length;++l)this.buffer[this.position++]=255&t[l]}xe(e){const t=this.De(e),s=Mg(t);this.Ce(1+s),this.buffer[this.position++]=~(255&s);for(let l=t.length-s;l<t.length;++l)this.buffer[this.position++]=~(255&t[l])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const t=function(l){const d=new DataView(new ArrayBuffer(8));return d.setFloat64(0,l,!1),new Uint8Array(d.buffer)}(e),s=0!=(128&t[0]);t[0]^=s?255:128;for(let l=1;l<t.length;++l)t[l]^=s?255:0;return t}Ee(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}be(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const t=e+this.position;if(t<=this.buffer.length)return;let s=2*this.buffer.length;s<t&&(s=t);const l=new Uint8Array(s);l.set(this.buffer),this.buffer=l}}class ry{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class Ig{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class Vd{constructor(){this.$e=new il,this.Be=new ry(this.$e),this.Le=new Ig(this.$e)}seed(e){this.$e.seed(e)}qe(e){return 0===e?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class Zc{constructor(e,t,s,l){this.indexId=e,this.documentKey=t,this.arrayValue=s,this.directionalValue=l}Ue(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(t);return s.set(this.directionalValue,0),t!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new Zc(this.indexId,this.documentKey,this.arrayValue,s)}}function ac(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=Tg(i.arrayValue,e.arrayValue),0!==t?t:(t=Tg(i.directionalValue,e.directionalValue),0!==t?t:Ct.comparator(i.documentKey,e.documentKey)))}function Tg(i,e){for(let t=0;t<i.length&&t<e.length;++t){const s=i[t]-e[t];if(0!==s)return s}return i.length-e.length}class Sg{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const t of e.filters){const s=t;s.isInequality()?this.Qe=s:this.Ge.push(s)}}je(e){On(e.collectionGroup===this.collectionId);const t=Ni(e);if(void 0!==t&&!this.We(t))return!1;const s=Wn(e);let l=0,d=0;for(;l<s.length&&this.We(s[l]);++l);if(l===s.length)return!0;if(void 0!==this.Qe){const _=s[l];if(!this.ze(this.Qe,_)||!this.He(this.Ke[d++],_))return!1;++l}for(;l<s.length;++l){const _=s[l];if(d>=this.Ke.length||!this.He(this.Ke[d++],_))return!1}return!0}We(e){for(const t of this.Ge)if(this.ze(t,e))return!0;return!1}ze(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}He(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function xg(i){var e,t;if(On(i instanceof G||i instanceof he),i instanceof G){if(i instanceof Oa){const l=(null===(t=null===(e=i.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(d=>G.create(i.field,"==",d)))||[];return he.create(l,"or")}return i}const s=i.filters.map(l=>xg(l));return he.create(s,i.op)}function sy(i){if(0===i.getFilters().length)return[];const e=Lh(xg(i));return On(Dp(e)),wp(e)||zi(e)?[e]:e.getFilters()}function wp(i){return i instanceof G}function zi(i){return i instanceof he&&Kt(i)}function Dp(i){return wp(i)||zi(i)||function(e){if(e instanceof he&&Nt(e)){for(const t of e.getFilters())if(!wp(t)&&!zi(t))return!1;return!0}return!1}(i)}function Lh(i){if(On(i instanceof G||i instanceof he),i instanceof G)return i;if(1===i.filters.length)return Lh(i.filters[0]);const e=i.filters.map(s=>Lh(s));let t=he.create(e,i.op);return t=Da(t),Dp(t)?t:(On(t instanceof he),On(it(t)),On(t.filters.length>1),t.filters.reduce((s,l)=>Vh(s,l)))}function Vh(i,e){let t;return On(i instanceof G||i instanceof he),On(e instanceof G||e instanceof he),t=i instanceof G?e instanceof G?he.create([i,e],"and"):Bd(i,e):e instanceof G?Bd(e,i):function(s,l){if(On(s.filters.length>0&&l.filters.length>0),it(s)&&it(l))return hi(s,l.getFilters());const d=Nt(s)?s:l,_=Nt(s)?l:s,S=d.filters.map(q=>Vh(q,_));return he.create(S,"or")}(i,e),Da(t)}function Bd(i,e){if(it(e))return hi(e,i.getFilters());{const t=e.filters.map(s=>Vh(i,s));return he.create(t,"or")}}function Da(i){if(On(i instanceof G||i instanceof he),i instanceof G)return i;const e=i.getFilters();if(1===e.length)return Da(e[0]);if(wn(i))return i;const t=e.map(l=>Da(l)),s=[];return t.forEach(l=>{l instanceof G?s.push(l):l instanceof he&&(l.op===i.op?s.push(...l.filters):s.push(l))}),1===s.length?s[0]:he.create(s,i.op)}class Ag{constructor(){this.Je=new Ep}addToCollectionParentIndex(e,t){return this.Je.add(t),Jt.resolve()}getCollectionParents(e,t){return Jt.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return Jt.resolve()}deleteFieldIndex(e,t){return Jt.resolve()}getDocumentsMatchingTarget(e,t){return Jt.resolve(null)}getIndexType(e,t){return Jt.resolve(0)}getFieldIndexes(e,t){return Jt.resolve([])}getNextCollectionGroupToUpdate(e){return Jt.resolve(null)}getMinOffset(e,t){return Jt.resolve(Ir.min())}getMinOffsetFromCollectionGroup(e,t){return Jt.resolve(Ir.min())}updateCollectionGroup(e,t,s){return Jt.resolve()}updateIndexEntries(e,t){return Jt.resolve()}}class Ep{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),l=this.index[t]||new Sr(ge.comparator),d=!l.has(s);return this.index[t]=l.add(s),d}has(e){const t=e.lastSegment(),s=e.popLast(),l=this.index[t];return l&&l.has(s)}getEntries(e){return(this.index[e]||new Sr(ge.comparator)).toArray()}}const Ru=new Uint8Array(0);class Fl{constructor(e,t){this.user=e,this.databaseId=t,this.Ye=new Ep,this.Xe=new Ra(s=>Sl(s),(s,l)=>Oc(s,l)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ye.has(t)){const s=t.lastSegment(),l=t.popLast();e.addOnCommittedListener(()=>{this.Ye.add(t)});const d={collectionId:s,parent:_r(l)};return Bh(e).put(d)}return Jt.resolve()}getCollectionParents(e,t){const s=[],l=IDBKeyRange.bound([t,""],[T(t),""],!1,!0);return Bh(e).W(l).next(d=>{for(const _ of d){if(_.collectionId!==t)break;s.push(Na(_.parent))}return s})}addFieldIndex(e,t){const s=Fu(e),l={indexId:(_=t).indexId,collectionGroup:_.collectionGroup,fields:_.fields.map(S=>[S.fieldPath.canonicalString(),S.kind])};var _;delete l.indexId;const d=s.add(l);if(t.indexState){const _=Uh(e);return d.next(S=>{_.put(bp(S,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return d.next()}deleteFieldIndex(e,t){const s=Fu(e),l=Uh(e),d=Pu(e);return s.delete(t.indexId).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>d.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const s=Pu(e);let l=!0;const d=new Map;return Jt.forEach(this.Ze(t),_=>this.tn(e,_).next(S=>{l&&(l=!!S),d.set(_,S)})).next(()=>{if(l){let _=Hi();const S=[];return Jt.forEach(d,(q,se)=>{var Oe;cn("IndexedDbIndexManager",`Using index ${Oe=q,`id=${Oe.indexId}|cg=${Oe.collectionGroup}|f=${Oe.fields.map(hr=>`${hr.fieldPath}:${hr.kind}`).join(",")}`} to execute ${Sl(t)}`);const mt=function(hr,Ks){const Cr=Ni(Ks);if(void 0===Cr)return null;for(const Ar of xl(hr,Cr.fieldPath))switch(Ar.op){case"array-contains-any":return Ar.value.arrayValue.values||[];case"array-contains":return[Ar.value]}return null}(se,q),Yt=function(hr,Ks){const Cr=new Map;for(const Ar of Wn(Ks))for(const Mo of xl(hr,Ar.fieldPath))switch(Mo.op){case"==":case"in":Cr.set(Ar.fieldPath.canonicalString(),Mo.value);break;case"not-in":case"!=":return Cr.set(Ar.fieldPath.canonicalString(),Mo.value),Array.from(Cr.values())}return null}(se,q),gn=function(hr,Ks){const Cr=[];let Ar=!0;for(const Mo of Wn(Ks)){const lp=0===Mo.kind?bo(hr,Mo.fieldPath,hr.startAt):mu(hr,Mo.fieldPath,hr.startAt);Cr.push(lp.value),Ar&&(Ar=lp.inclusive)}return new Nr(Cr,Ar)}(se,q),Dn=function(hr,Ks){const Cr=[];let Ar=!0;for(const Mo of Wn(Ks)){const lp=0===Mo.kind?mu(hr,Mo.fieldPath,hr.endAt):bo(hr,Mo.fieldPath,hr.endAt);Cr.push(lp.value),Ar&&(Ar=lp.inclusive)}return new Nr(Cr,Ar)}(se,q),Yn=this.en(q,se,gn),pi=this.en(q,se,Dn),Jr=this.nn(q,se,Yt),Os=this.sn(q.indexId,mt,Yn,gn.inclusive,pi,Dn.inclusive,Jr);return Jt.forEach(Os,hr=>s.J(hr,t.limit).next(Ks=>{Ks.forEach(Cr=>{const Ar=Ct.fromSegments(Cr.documentKey);_.has(Ar)||(_=_.add(Ar),S.push(Ar))})}))}).next(()=>S)}return Jt.resolve(null)})}Ze(e){let t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:sy(he.create(e.filters,"and")).map(s=>ya(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.Xe.set(e,t),t)}sn(e,t,s,l,d,_,S){const q=(null!=t?t.length:1)*Math.max(s.length,d.length),se=q/(null!=t?t.length:1),Oe=[];for(let mt=0;mt<q;++mt){const Yt=t?this.rn(t[mt/se]):Ru,gn=this.on(e,Yt,s[mt%se],l),Dn=this.un(e,Yt,d[mt%se],_),Yn=S.map(pi=>this.on(e,Yt,pi,!0));Oe.push(...this.createRange(gn,Dn,Yn))}return Oe}on(e,t,s,l){const d=new Zc(e,Ct.empty(),t,s);return l?d:d.Ue()}un(e,t,s,l){const d=new Zc(e,Ct.empty(),t,s);return l?d.Ue():d}tn(e,t){const s=new Sg(t),l=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,l).next(d=>{let _=null;for(const S of d)s.je(S)&&(!_||S.fields.length>_.fields.length)&&(_=S);return _})}getIndexType(e,t){let s=2;const l=this.Ze(t);return Jt.forEach(l,d=>this.tn(e,d).next(_=>{_?0!==s&&_.fields.length<function(S){let q=new Sr(ht.comparator),se=!1;for(const Oe of S.filters)for(const mt of Oe.getFlattenedFilters())mt.field.isKeyField()||("array-contains"===mt.op||"array-contains-any"===mt.op?se=!0:q=q.add(mt.field));for(const Oe of S.orderBy)Oe.field.isKeyField()||(q=q.add(Oe.field));return q.size+(se?1:0)}(d)&&(s=1):s=0})).next(()=>null!==t.limit&&l.length>1&&2===s?1:s)}cn(e,t){const s=new Vd;for(const l of Wn(e)){const d=t.data.field(l.fieldPath);if(null==d)return null;const _=s.qe(l.kind);oc.Ie.ue(d,_)}return s.Fe()}rn(e){const t=new Vd;return oc.Ie.ue(e,t.qe(0)),t.Fe()}an(e,t){const s=new Vd;return oc.Ie.ue(_a(this.databaseId,t),s.qe(function(l){const d=Wn(l);return 0===d.length?0:d[d.length-1].kind}(e))),s.Fe()}nn(e,t,s){if(null===s)return[];let l=[];l.push(new Vd);let d=0;for(const _ of Wn(e)){const S=s[d++];for(const q of l)if(this.hn(t,_.fieldPath)&&Vs(S))l=this.ln(l,_,S);else{const se=q.qe(_.kind);oc.Ie.ue(S,se)}}return this.fn(l)}en(e,t,s){return this.nn(e,t,s.position)}fn(e){const t=[];for(let s=0;s<e.length;++s)t[s]=e[s].Fe();return t}ln(e,t,s){const l=[...e],d=[];for(const _ of s.arrayValue.values||[])for(const S of l){const q=new Vd;q.seed(S.Fe()),oc.Ie.ue(_,q.qe(t.kind)),d.push(q)}return d}hn(e,t){return!!e.filters.find(s=>s instanceof G&&s.field.isEqual(t)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,t){const s=Fu(e),l=Uh(e);return(t?s.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):s.W()).next(d=>{const _=[];return Jt.forEach(d,S=>l.get([S.indexId,this.uid]).next(q=>{_.push(function(se,Oe){const mt=Oe?new co(Oe.sequenceNumber,new Ir(Yc(Oe.readTime),new Ct(Na(Oe.documentKey)),Oe.largestBatchId)):co.empty(),Yt=se.fields.map(([gn,Dn])=>new ji(ht.fromServerFormat(gn),Dn));return new Gn(se.indexId,se.collectionGroup,Yt,mt)}(S,q))})).next(()=>_)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((s,l)=>{const d=s.indexState.sequenceNumber-l.indexState.sequenceNumber;return 0!==d?d:vi(s.collectionGroup,l.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,s){const l=Fu(e),d=Uh(e);return this.dn(e).next(_=>l.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(S=>Jt.forEach(S,q=>d.put(bp(q.indexId,this.user,_,s)))))}updateIndexEntries(e,t){const s=new Map;return Jt.forEach(t,(l,d)=>{const _=s.get(l.collectionGroup);return(_?Jt.resolve(_):this.getFieldIndexes(e,l.collectionGroup)).next(S=>(s.set(l.collectionGroup,S),Jt.forEach(S,q=>this._n(e,l,q).next(se=>{const Oe=this.wn(d,q);return se.isEqual(Oe)?Jt.resolve():this.mn(e,d,q,se,Oe)}))))})}gn(e,t,s,l){return Pu(e).put({indexId:l.indexId,uid:this.uid,arrayValue:l.arrayValue,directionalValue:l.directionalValue,orderedDocumentKey:this.an(s,t.key),documentKey:t.key.path.toArray()})}yn(e,t,s,l){return Pu(e).delete([l.indexId,this.uid,l.arrayValue,l.directionalValue,this.an(s,t.key),t.key.path.toArray()])}_n(e,t,s){const l=Pu(e);let d=new Sr(ac);return l.Z({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.an(s,t)])},(_,S)=>{d=d.add(new Zc(s.indexId,t,S.arrayValue,S.directionalValue))}).next(()=>d)}wn(e,t){let s=new Sr(ac);const l=this.cn(t,e);if(null==l)return s;const d=Ni(t);if(null!=d){const _=e.data.field(d.fieldPath);if(Vs(_))for(const S of _.arrayValue.values||[])s=s.add(new Zc(t.indexId,e.key,this.rn(S),l))}else s=s.add(new Zc(t.indexId,e.key,Ru,l));return s}mn(e,t,s,l,d){cn("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const _=[];return function(S,q,se,Oe,mt){const Yt=S.getIterator(),gn=q.getIterator();let Dn=kc(Yt),Yn=kc(gn);for(;Dn||Yn;){let pi=!1,Jr=!1;if(Dn&&Yn){const Os=se(Dn,Yn);Os<0?Jr=!0:Os>0&&(pi=!0)}else null!=Dn?Jr=!0:pi=!0;pi?(Oe(Yn),Yn=kc(gn)):Jr?(mt(Dn),Dn=kc(Yt)):(Dn=kc(Yt),Yn=kc(gn))}}(l,d,ac,S=>{_.push(this.gn(e,t,s,S))},S=>{_.push(this.yn(e,t,s,S))}),Jt.waitFor(_)}dn(e){let t=1;return Uh(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,l,d)=>{d.done(),t=l.sequenceNumber+1}).next(()=>t)}createRange(e,t,s){s=s.sort((_,S)=>ac(_,S)).filter((_,S,q)=>!S||0!==ac(_,q[S-1]));const l=[];l.push(e);for(const _ of s){const S=ac(_,e),q=ac(_,t);if(0===S)l[0]=e.Ue();else if(S>0&&q<0)l.push(_),l.push(_.Ue());else if(q>0)break}l.push(t);const d=[];for(let _=0;_<l.length;_+=2){if(this.pn(l[_],l[_+1]))return[];d.push(IDBKeyRange.bound([l[_].indexId,this.uid,l[_].arrayValue,l[_].directionalValue,Ru,[]],[l[_+1].indexId,this.uid,l[_+1].arrayValue,l[_+1].directionalValue,Ru,[]]))}return d}pn(e,t){return ac(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Mp)}getMinOffset(e,t){return Jt.mapArray(this.Ze(t),s=>this.tn(e,s).next(l=>l||Hn())).next(Mp)}}function Bh(i){return wo(i,"collectionParents")}function Pu(i){return wo(i,"indexEntries")}function Fu(i){return wo(i,"indexConfiguration")}function Uh(i){return wo(i,"indexState")}function Mp(i){On(0!==i.length);let e=i[0].indexState.offset,t=e.largestBatchId;for(let s=1;s<i.length;s++){const l=i[s].indexState.offset;Oo(l,e)<0&&(e=l),t<l.largestBatchId&&(t=l.largestBatchId)}return new Ir(e.readTime,e.documentKey,t)}const oy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Lo{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Lo(e,Lo.DEFAULT_COLLECTION_PERCENTILE,Lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Ud(i,e,t){const s=i.store("mutations"),l=i.store("documentMutations"),d=[],_=IDBKeyRange.only(t.batchId);let S=0;const q=s.Z({range:_},(Oe,mt,Yt)=>(S++,Yt.delete()));d.push(q.next(()=>{On(1===S)}));const se=[];for(const Oe of t.mutations){const mt=Au(e,Oe.key.path,t.batchId);d.push(l.delete(mt)),se.push(Oe.key)}return Jt.waitFor(d).next(()=>se)}function Nu(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw Hn();e=i.noDocument}return JSON.stringify(e).length}Lo.DEFAULT_COLLECTION_PERCENTILE=10,Lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Lo.DEFAULT=new Lo(41943040,Lo.DEFAULT_COLLECTION_PERCENTILE,Lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Lo.DISABLED=new Lo(-1,0,0);class Lu{constructor(e,t,s,l){this.userId=e,this.yt=t,this.indexManager=s,this.referenceDelegate=l,this.In={}}static re(e,t,s,l){On(""!==e.uid);const d=e.isAuthenticated()?e.uid:"";return new Lu(d,t,s,l)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return qc(e).Z({index:"userMutationsIndex",range:s},(l,d,_)=>{t=!1,_.done()}).next(()=>t)}addMutationBatch(e,t,s,l){const d=Vu(e),_=qc(e);return _.add({}).next(S=>{On("number"==typeof S);const q=new vp(S,t,s,l),se=function(Yt,gn,Dn){const Yn=Dn.baseMutations.map(Jr=>Su(Yt.ie,Jr)),pi=Dn.mutations.map(Jr=>Su(Yt.ie,Jr));return{userId:gn,batchId:Dn.batchId,localWriteTimeMs:Dn.localWriteTime.toMillis(),baseMutations:Yn,mutations:pi}}(this.yt,this.userId,q),Oe=[];let mt=new Sr((Yt,gn)=>vi(Yt.canonicalString(),gn.canonicalString()));for(const Yt of l){const gn=Au(this.userId,Yt.key.path,S);mt=mt.add(Yt.key.path.popLast()),Oe.push(_.put(se)),Oe.push(d.put(gn,rc))}return mt.forEach(Yt=>{Oe.push(this.indexManager.addToCollectionParentIndex(e,Yt))}),e.addOnCommittedListener(()=>{this.In[S]=q.keys()}),Jt.waitFor(Oe).next(()=>q)})}lookupMutationBatch(e,t){return qc(e).get(t).next(s=>s?(On(s.userId===this.userId),Wc(this.yt,s)):null)}Tn(e,t){return this.In[t]?Jt.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const l=s.keys();return this.In[t]=l,l}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,l=IDBKeyRange.lowerBound([this.userId,s]);let d=null;return qc(e).Z({index:"userMutationsIndex",range:l},(_,S,q)=>{S.userId===this.userId&&(On(S.batchId>=s),d=Wc(this.yt,S)),q.done()}).next(()=>d)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return qc(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(l,d,_)=>{s=d.batchId,_.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return qc(e).W("userMutationsIndex",t).next(s=>s.map(l=>Wc(this.yt,l)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=zc(this.userId,t.path),l=IDBKeyRange.lowerBound(s),d=[];return Vu(e).Z({range:l},(_,S,q)=>{const[se,Oe,mt]=_,Yt=Na(Oe);if(se===this.userId&&t.path.isEqual(Yt))return qc(e).get(mt).next(gn=>{if(!gn)throw Hn();On(gn.userId===this.userId),d.push(Wc(this.yt,gn))});q.done()}).next(()=>d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Sr(vi);const l=[];return t.forEach(d=>{const _=zc(this.userId,d.path),S=IDBKeyRange.lowerBound(_),q=Vu(e).Z({range:S},(se,Oe,mt)=>{const[Yt,gn,Dn]=se,Yn=Na(gn);Yt===this.userId&&d.path.isEqual(Yn)?s=s.add(Dn):mt.done()});l.push(q)}),Jt.waitFor(l).next(()=>this.En(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,l=s.length+1,d=zc(this.userId,s),_=IDBKeyRange.lowerBound(d);let S=new Sr(vi);return Vu(e).Z({range:_},(q,se,Oe)=>{const[mt,Yt,gn]=q,Dn=Na(Yt);mt===this.userId&&s.isPrefixOf(Dn)?Dn.length===l&&(S=S.add(gn)):Oe.done()}).next(()=>this.En(e,S))}En(e,t){const s=[],l=[];return t.forEach(d=>{l.push(qc(e).get(d).next(_=>{if(null===_)throw Hn();On(_.userId===this.userId),s.push(Wc(this.yt,_))}))}),Jt.waitFor(l).next(()=>s)}removeMutationBatch(e,t){return Ud(e.se,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),Jt.forEach(s,l=>this.referenceDelegate.markPotentiallyOrphaned(e,l))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Jt.resolve();const s=IDBKeyRange.lowerBound([this.userId]),l=[];return Vu(e).Z({range:s},(d,_,S)=>{if(d[0]===this.userId){const q=Na(d[1]);l.push(q)}else S.done()}).next(()=>{On(0===l.length)})})}containsKey(e,t){return Hh(e,this.userId,t)}Rn(e){return kg(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Hh(i,e,t){const s=zc(e,t.path),l=s[1],d=IDBKeyRange.lowerBound(s);let _=!1;return Vu(i).Z({range:d,X:!0},(S,q,se)=>{const[Oe,mt,Yt]=S;Oe===e&&mt===l&&(_=!0),se.done()}).next(()=>_)}function qc(i){return wo(i,"mutations")}function Vu(i){return wo(i,"documentMutations")}function kg(i){return wo(i,"mutationQueues")}class Qc{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Qc(0)}static vn(){return new Qc(-1)}}class ay{constructor(e,t){this.referenceDelegate=e,this.yt=t}allocateTargetId(e){return this.Vn(e).next(t=>{const s=new Qc(t.highestTargetId);return t.highestTargetId=s.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>L.fromTimestamp(new E(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.Vn(e).next(l=>(l.highestListenSequenceNumber=t,s&&(l.lastRemoteSnapshotVersion=s.toTimestamp()),t>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=t),this.Sn(e,l)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(s=>(s.targetCount+=1,this.Cn(t,s),this.Sn(e,s))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Xc(e).delete(t.targetId)).next(()=>this.Vn(e)).next(s=>(On(s.targetCount>0),s.targetCount-=1,this.Sn(e,s)))}removeTargets(e,t,s){let l=0;const d=[];return Xc(e).Z((_,S)=>{const q=Fd(S);q.sequenceNumber<=t&&null===s.get(q.targetId)&&(l++,d.push(this.removeTargetData(e,q)))}).next(()=>Jt.waitFor(d)).next(()=>l)}forEachTarget(e,t){return Xc(e).Z((s,l)=>{const d=Fd(l);t(d)})}Vn(e){return ly(e).get("targetGlobalKey").next(t=>(On(null!==t),t))}Sn(e,t){return ly(e).put("targetGlobalKey",t)}Dn(e,t){return Xc(e).put(Kc(this.yt,t))}Cn(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const s=Sl(t),l=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let d=null;return Xc(e).Z({range:l,index:"queryTargetsIndex"},(_,S,q)=>{const se=Fd(S);Oc(t,se.target)&&(d=se,q.done())}).next(()=>d)}addMatchingKeys(e,t,s){const l=[],d=lc(e);return t.forEach(_=>{const S=_r(_.path);l.push(d.put({targetId:s,path:S})),l.push(this.referenceDelegate.addReference(e,s,_))}),Jt.waitFor(l)}removeMatchingKeys(e,t,s){const l=lc(e);return Jt.forEach(t,d=>{const _=_r(d.path);return Jt.waitFor([l.delete([s,_]),this.referenceDelegate.removeReference(e,s,d)])})}removeMatchingKeysForTargetId(e,t){const s=lc(e),l=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(l)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),l=lc(e);let d=Hi();return l.Z({range:s,X:!0},(_,S,q)=>{const se=Na(_[1]),Oe=new Ct(se);d=d.add(Oe)}).next(()=>d)}containsKey(e,t){const s=_r(t.path),l=IDBKeyRange.bound([s],[T(s)],!1,!0);let d=0;return lc(e).Z({index:"documentTargetsIndex",X:!0,range:l},([_,S],q,se)=>{0!==_&&(d++,se.done())}).next(()=>d>0)}ne(e,t){return Xc(e).get(t).next(s=>s?Fd(s):null)}}function Xc(i){return wo(i,"targets")}function ly(i){return wo(i,"targetGlobal")}function lc(i){return wo(i,"targetDocuments")}function cy([i,e],[t,s]){const l=vi(i,t);return 0===l?vi(e,s):l}class Og{constructor(e){this.xn=e,this.buffer=new Sr(cy),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();cy(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Rg{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;cn("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,B.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(s){xa(s)?cn("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield ss(s)}yield t.Fn(3e5)}))}}class uy{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(0===t)return Jt.resolve(Ls.at);const s=new Og(t);return this.$n.forEachTarget(e,l=>s.On(l.sequenceNumber)).next(()=>this.$n.Ln(e,l=>s.On(l))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.$n.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(cn("LruGarbageCollector","Garbage collection skipped; disabled"),Jt.resolve(oy)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(cn("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),oy):this.qn(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,t){let s,l,d,_,S,q,se;const Oe=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(mt=>(mt>this.params.maximumSequenceNumbersToCollect?(cn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${mt}`),l=this.params.maximumSequenceNumbersToCollect):l=mt,_=Date.now(),this.nthSequenceNumber(e,l))).next(mt=>(s=mt,S=Date.now(),this.removeTargets(e,s,t))).next(mt=>(d=mt,q=Date.now(),this.removeOrphanedDocuments(e,s))).next(mt=>(se=Date.now(),Kr()<=We.in.DEBUG&&cn("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${_-Oe}ms\n\tDetermined least recently used ${l} in `+(S-_)+`ms\n\tRemoved ${d} targets in `+(q-S)+`ms\n\tRemoved ${mt} documents in `+(se-q)+`ms\nTotal Duration: ${se-Oe}ms`),Jt.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:d,documentsRemoved:mt})))}}class Ip{constructor(e,t){this.db=e,this.garbageCollector=new uy(this,t)}Bn(e){const t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(l=>s+l))}Un(e){let t=0;return this.Ln(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(s,l)=>t(l))}addReference(e,t,s){return Tp(e,s)}removeReference(e,t,s){return Tp(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return Tp(e,t)}Gn(e,t){return function(s,l){let d=!1;return kg(s).tt(_=>Hh(s,_,l).next(S=>(S&&(d=!0),Jt.resolve(!S)))).next(()=>d)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let d=0;return this.Kn(e,(_,S)=>{if(S<=t){const q=this.Gn(e,_).next(se=>{if(!se)return d++,s.getEntry(e,_).next(()=>(s.removeEntry(_,L.min()),lc(e).delete([0,_r(_.path)])))});l.push(q)}}).next(()=>Jt.waitFor(l)).next(()=>s.apply(e)).next(()=>d)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return Tp(e,t)}Kn(e,t){const s=lc(e);let l,d=Ls.at;return s.Z({index:"documentTargetsIndex"},([_,S],{path:q,sequenceNumber:se})=>{0===_?(d!==Ls.at&&t(new Ct(Na(l)),d),d=se,l=q):d=Ls.at}).next(()=>{d!==Ls.at&&t(new Ct(Na(l)),d)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Tp(i,e){return lc(i).put((s=i.currentSequenceNumber,{targetId:0,path:_r(e.path),sequenceNumber:s}));var s}class dy{constructor(){this.changes=new Ra(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,as.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?Jt.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class eC{constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,s){return Bu(e).put(s)}removeEntry(e,t,s){return Bu(e).delete(function(l,d){const _=l.path.toArray();return[_.slice(0,_.length-2),_[_.length-2],Nh(d),_[_.length-1]]}(t,s))}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.Qn(e,s)))}getEntry(e,t){let s=as.newInvalidDocument(t);return Bu(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(jh(t))},(l,d)=>{s=this.jn(t,d)}).next(()=>s)}Wn(e,t){let s={size:0,document:as.newInvalidDocument(t)};return Bu(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(jh(t))},(l,d)=>{s={document:this.jn(t,d),size:Nu(d)}}).next(()=>s)}getEntries(e,t){let s=Co();return this.zn(e,t,(l,d)=>{const _=this.jn(l,d);s=s.insert(l,_)}).next(()=>s)}Hn(e,t){let s=Co(),l=new Qr(Ct.comparator);return this.zn(e,t,(d,_)=>{const S=this.jn(d,_);s=s.insert(d,S),l=l.insert(d,Nu(_))}).next(()=>({documents:s,Jn:l}))}zn(e,t,s){if(t.isEmpty())return Jt.resolve();let l=new Sr(my);t.forEach(q=>l=l.add(q));const d=IDBKeyRange.bound(jh(l.first()),jh(l.last())),_=l.getIterator();let S=_.getNext();return Bu(e).Z({index:"documentKeyIndex",range:d},(q,se,Oe)=>{const mt=Ct.fromSegments([...se.prefixPath,se.collectionGroup,se.documentId]);for(;S&&my(S,mt)<0;)s(S,null),S=_.getNext();S&&S.isEqual(mt)&&(s(S,se),S=_.hasNext()?_.getNext():null),S?Oe.j(jh(S)):Oe.done()}).next(()=>{for(;S;)s(S,null),S=_.hasNext()?_.getNext():null})}getDocumentsMatchingQuery(e,t,s,l){const d=t.path,_=[d.popLast().toArray(),d.lastSegment(),Nh(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],S=[d.popLast().toArray(),d.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Bu(e).W(IDBKeyRange.bound(_,S,!0)).next(q=>{let se=Co();for(const Oe of q){const mt=this.jn(Ct.fromSegments(Oe.prefixPath.concat(Oe.collectionGroup,Oe.documentId)),Oe);mt.isFoundDocument()&&(tl(t,mt)||l.has(mt.key))&&(se=se.insert(mt.key,mt))}return se})}getAllFromCollectionGroup(e,t,s,l){let d=Co();const _=py(t,s),S=py(t,Ir.max());return Bu(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(_,S,!0)},(q,se,Oe)=>{const mt=this.jn(Ct.fromSegments(se.prefixPath.concat(se.collectionGroup,se.documentId)),se);d=d.insert(mt.key,mt),d.size===l&&Oe.done()}).next(()=>d)}newChangeBuffer(e){return new tC(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return fy(e).get("remoteDocumentGlobalKey").next(t=>(On(!!t),t))}Qn(e,t){return fy(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const s=function ey(i,e){let t;if(e.document)t=Md(i.ie,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=Ct.fromSegments(e.noDocument.path),l=Yc(e.noDocument.readTime);t=as.newNoDocument(s,l),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Hn();{const s=Ct.fromSegments(e.unknownDocument.path),l=Yc(e.unknownDocument.version);t=as.newUnknownDocument(s,l)}}return e.readTime&&t.setReadTime(function(s){const l=new E(s[0],s[1]);return L.fromTimestamp(l)}(e.readTime)),t}(this.yt,t);if(!s.isNoDocument()||!s.version.isEqual(L.min()))return s}return as.newInvalidDocument(e)}}function hy(i){return new eC(i)}class tC extends dy{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Ra(s=>s.toString(),(s,l)=>s.isEqual(l))}applyChanges(e){const t=[];let s=0,l=new Sr((d,_)=>vi(d.canonicalString(),_.canonicalString()));return this.changes.forEach((d,_)=>{const S=this.Xn.get(d);if(t.push(this.Yn.removeEntry(e,d,S.readTime)),_.isValidDocument()){const q=Dg(this.Yn.yt,_);l=l.add(d.path.popLast()),s+=Nu(q)-S.size,t.push(this.Yn.addEntry(e,d,q))}else if(s-=S.size,this.trackRemovals){const q=Dg(this.Yn.yt,_.convertToNoDocument(L.min()));t.push(this.Yn.addEntry(e,d,q))}}),l.forEach(d=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,d))}),t.push(this.Yn.updateMetadata(e,s)),Jt.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(s=>(this.Xn.set(t,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:s,Jn:l})=>(l.forEach((d,_)=>{this.Xn.set(d,{size:_,readTime:s.get(d).readTime})}),s))}}function fy(i){return wo(i,"remoteDocumentGlobal")}function Bu(i){return wo(i,"remoteDocumentsV14")}function jh(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function py(i,e){const t=e.documentKey.path.toArray();return[i,Nh(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function my(i,e){const t=i.path.toArray(),s=e.path.toArray();let l=0;for(let d=0;d<t.length-2&&d<s.length-2;++d)if(l=vi(t[d],s[d]),l)return l;return l=vi(t.length,s.length),l||(l=vi(t[t.length-2],s[s.length-2]),l||vi(t[t.length-1],s[s.length-1]))}class cc{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Gh{constructor(e,t,s,l){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(l=>(s=l,this.remoteDocumentCache.getEntry(e,t))).next(l=>(null!==s&&Nc(s.mutation,l,uo.empty(),E.now()),l))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Hi()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Hi()){const l=Fa();return this.populateOverlays(e,l,t).next(()=>this.computeViews(e,t,l,s).next(d=>{let _=Pa();return d.forEach((S,q)=>{_=_.insert(S,q.overlayedDocument)}),_}))}getOverlayedDocuments(e,t){const s=Fa();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Hi()))}populateOverlays(e,t,s){const l=[];return s.forEach(d=>{t.has(d)||l.push(d)}),this.documentOverlayCache.getOverlays(e,l).next(d=>{d.forEach((_,S)=>{t.set(_,S)})})}computeViews(e,t,s,l){let d=Co();const _=Vc(),S=Vc();return t.forEach((q,se)=>{const Oe=s.get(se.key);l.has(se.key)&&(void 0===Oe||Oe.mutation instanceof za)?d=d.insert(se.key,se):void 0!==Oe?(_.set(se.key,Oe.mutation.getFieldMask()),Nc(Oe.mutation,se,Oe.mutation.getFieldMask(),E.now())):_.set(se.key,uo.empty())}),this.recalculateAndSaveOverlays(e,d).next(q=>(q.forEach((se,Oe)=>_.set(se,Oe)),t.forEach((se,Oe)=>{var mt;return S.set(se,new cc(Oe,null!==(mt=_.get(se))&&void 0!==mt?mt:null))}),S))}recalculateAndSaveOverlays(e,t){const s=Vc();let l=new Qr((_,S)=>_-S),d=Hi();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(_=>{for(const S of _)S.keys().forEach(q=>{const se=t.get(q);if(null===se)return;let Oe=s.get(q)||uo.empty();Oe=S.applyToLocalView(se,Oe),s.set(q,Oe);const mt=(l.get(S.batchId)||Hi()).add(q);l=l.insert(S.batchId,mt)})}).next(()=>{const _=[],S=l.getReverseIterator();for(;S.hasNext();){const q=S.getNext(),se=q.key,Oe=q.value,mt=Cd();Oe.forEach(Yt=>{if(!d.has(Yt)){const gn=bu(t.get(Yt),s.get(Yt));null!==gn&&mt.set(Yt,gn),d=d.add(Yt)}}),_.push(this.documentOverlayCache.saveOverlays(e,se,mt))}return Jt.waitFor(_)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return Ct.isDocumentKey((l=t).path)&&null===l.collectionGroup&&0===l.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):ld(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var l}getNextDocuments(e,t,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,l).next(d=>{const _=l-d.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,l-d.size):Jt.resolve(Fa());let S=-1,q=d;return _.next(se=>Jt.forEach(se,(Oe,mt)=>(S<mt.largestBatchId&&(S=mt.largestBatchId),d.get(Oe)?Jt.resolve():this.remoteDocumentCache.getEntry(e,Oe).next(Yt=>{q=q.insert(Oe,Yt)}))).next(()=>this.populateOverlays(e,se,d)).next(()=>this.computeViews(e,q,se,Hi())).next(Oe=>({batchId:S,changes:tc(Oe)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ct(t)).next(s=>{let l=Pa();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const l=t.collectionGroup;let d=Pa();return this.indexManager.getCollectionParents(e,l).next(_=>Jt.forEach(_,S=>{const q=(se=t,Oe=S.child(l),new ja(Oe,null,se.explicitOrderBy.slice(),se.filters.slice(),se.limit,se.limitType,se.startAt,se.endAt));var se,Oe;return this.getDocumentsMatchingCollectionQuery(e,q,s).next(se=>{se.forEach((Oe,mt)=>{d=d.insert(Oe,mt)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,t,s){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(d=>(l=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l))).next(d=>{l.forEach((S,q)=>{const se=q.getKey();null===d.get(se)&&(d=d.insert(se,as.newInvalidDocument(se)))});let _=Pa();return d.forEach((S,q)=>{const se=l.get(S);void 0!==se&&Nc(se.mutation,q,uo.empty(),E.now()),tl(t,q)&&(_=_.insert(S,q))}),_})}}class gy{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return Jt.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var s;return this.Zn.set(t.id,{id:(s=t).id,version:s.version,createTime:xr(s.createTime)}),Jt.resolve()}getNamedQuery(e,t){return Jt.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(s=t).name,query:$a(s.bundledQuery),readTime:xr(s.readTime)}),Jt.resolve();var s}}class Pg{constructor(){this.overlays=new Qr(Ct.comparator),this.es=new Map}getOverlay(e,t){return Jt.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Fa();return Jt.forEach(t,l=>this.getOverlay(e,l).next(d=>{null!==d&&s.set(l,d)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((l,d)=>{this.oe(e,t,d)}),Jt.resolve()}removeOverlaysForBatchId(e,t,s){const l=this.es.get(s);return void 0!==l&&(l.forEach(d=>this.overlays=this.overlays.remove(d)),this.es.delete(s)),Jt.resolve()}getOverlaysForCollection(e,t,s){const l=Fa(),d=t.length+1,_=new Ct(t.child("")),S=this.overlays.getIteratorFrom(_);for(;S.hasNext();){const q=S.getNext().value,se=q.getKey();if(!t.isPrefixOf(se.path))break;se.path.length===d&&q.largestBatchId>s&&l.set(q.getKey(),q)}return Jt.resolve(l)}getOverlaysForCollectionGroup(e,t,s,l){let d=new Qr((se,Oe)=>se-Oe);const _=this.overlays.getIterator();for(;_.hasNext();){const se=_.getNext().value;if(se.getKey().getCollectionGroup()===t&&se.largestBatchId>s){let Oe=d.get(se.largestBatchId);null===Oe&&(Oe=Fa(),d=d.insert(se.largestBatchId,Oe)),Oe.set(se.getKey(),se)}}const S=Fa(),q=d.getIterator();for(;q.hasNext()&&(q.getNext().value.forEach((se,Oe)=>S.set(se,Oe)),!(S.size()>=l)););return Jt.resolve(S)}oe(e,t,s){const l=this.overlays.get(s.key);if(null!==l){const _=this.es.get(l.largestBatchId).delete(s.key);this.es.set(l.largestBatchId,_)}this.overlays=this.overlays.insert(s.key,new yp(t,s));let d=this.es.get(t);void 0===d&&(d=Hi(),this.es.set(t,d)),this.es.set(t,d.add(s.key))}}class Hd{constructor(){this.ns=new Sr(po.ss),this.rs=new Sr(po.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const s=new po(e,t);this.ns=this.ns.add(s),this.rs=this.rs.add(s)}us(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.cs(new po(e,t))}hs(e,t){e.forEach(s=>this.removeReference(s,t))}ls(e){const t=new Ct(new ge([])),s=new po(t,e),l=new po(t,e+1),d=[];return this.rs.forEachInRange([s,l],_=>{this.cs(_),d.push(_.key)}),d}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Ct(new ge([])),s=new po(t,e),l=new po(t,e+1);let d=Hi();return this.rs.forEachInRange([s,l],_=>{d=d.add(_.key)}),d}containsKey(e){const t=new po(e,0),s=this.ns.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class po{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Ct.comparator(e.key,t.key)||vi(e._s,t._s)}static os(e,t){return vi(e._s,t._s)||Ct.comparator(e.key,t.key)}}class Sp{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Sr(po.ss)}checkEmpty(e){return Jt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,l){const d=this.ws;this.ws++;const _=new vp(d,t,s,l);this.mutationQueue.push(_);for(const S of l)this.gs=this.gs.add(new po(S.key,d)),this.indexManager.addToCollectionParentIndex(e,S.key.path.popLast());return Jt.resolve(_)}lookupMutationBatch(e,t){return Jt.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const l=this.ps(t+1),d=l<0?0:l;return Jt.resolve(this.mutationQueue.length>d?this.mutationQueue[d]:null)}getHighestUnacknowledgedBatchId(){return Jt.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return Jt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new po(t,0),l=new po(t,Number.POSITIVE_INFINITY),d=[];return this.gs.forEachInRange([s,l],_=>{const S=this.ys(_._s);d.push(S)}),Jt.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Sr(vi);return t.forEach(l=>{const d=new po(l,0),_=new po(l,Number.POSITIVE_INFINITY);this.gs.forEachInRange([d,_],S=>{s=s.add(S._s)})}),Jt.resolve(this.Is(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,l=s.length+1;let d=s;Ct.isDocumentKey(d)||(d=d.child(""));const _=new po(new Ct(d),0);let S=new Sr(vi);return this.gs.forEachWhile(q=>{const se=q.key.path;return!!s.isPrefixOf(se)&&(se.length===l&&(S=S.add(q._s)),!0)},_),Jt.resolve(this.Is(S))}Is(e){const t=[];return e.forEach(s=>{const l=this.ys(s);null!==l&&t.push(l)}),t}removeMutationBatch(e,t){On(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let s=this.gs;return Jt.forEach(t.mutations,l=>{const d=new po(l.key,t.batchId);return s=s.delete(d),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.gs=s})}An(e){}containsKey(e,t){const s=new po(t,0),l=this.gs.firstAfterOrEqual(s);return Jt.resolve(t.isEqual(l&&l.key))}performConsistencyCheck(e){return Jt.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class _y{constructor(e){this.Es=e,this.docs=new Qr(Ct.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,l=this.docs.get(s),d=l?l.size:0,_=this.Es(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:_}),this.size+=_-d,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Jt.resolve(s?s.document.mutableCopy():as.newInvalidDocument(t))}getEntries(e,t){let s=Co();return t.forEach(l=>{const d=this.docs.get(l);s=s.insert(l,d?d.document.mutableCopy():as.newInvalidDocument(l))}),Jt.resolve(s)}getDocumentsMatchingQuery(e,t,s,l){let d=Co();const _=t.path,S=new Ct(_.child("")),q=this.docs.getIteratorFrom(S);for(;q.hasNext();){const{key:se,value:{document:Oe}}=q.getNext();if(!_.isPrefixOf(se.path))break;se.path.length>_.length+1||Oo(ha(Oe),s)<=0||(l.has(Oe.key)||tl(t,Oe))&&(d=d.insert(Oe.key,Oe.mutableCopy()))}return Jt.resolve(d)}getAllFromCollectionGroup(e,t,s,l){Hn()}As(e,t){return Jt.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new uc(this)}getSize(e){return Jt.resolve(this.size)}}class uc extends dy{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?t.push(this.Yn.addEntry(e,l)):this.Yn.removeEntry(s)}),Jt.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class Fg{constructor(e){this.persistence=e,this.Rs=new Ra(t=>Sl(t),Oc),this.lastRemoteSnapshotVersion=L.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Hd,this.targetCount=0,this.vs=Qc.Pn()}forEachTarget(e,t){return this.Rs.forEach((s,l)=>t(l)),Jt.resolve()}getLastRemoteSnapshotVersion(e){return Jt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Jt.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),Jt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.bs&&(this.bs=t),Jt.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Qc(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,Jt.resolve()}updateTargetData(e,t){return this.Dn(t),Jt.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,Jt.resolve()}removeTargets(e,t,s){let l=0;const d=[];return this.Rs.forEach((_,S)=>{S.sequenceNumber<=t&&null===s.get(S.targetId)&&(this.Rs.delete(_),d.push(this.removeMatchingKeysForTargetId(e,S.targetId)),l++)}),Jt.waitFor(d).next(()=>l)}getTargetCount(e){return Jt.resolve(this.targetCount)}getTargetData(e,t){const s=this.Rs.get(t)||null;return Jt.resolve(s)}addMatchingKeys(e,t,s){return this.Ps.us(t,s),Jt.resolve()}removeMatchingKeys(e,t,s){this.Ps.hs(t,s);const l=this.persistence.referenceDelegate,d=[];return l&&t.forEach(_=>{d.push(l.markPotentiallyOrphaned(e,_))}),Jt.waitFor(d)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),Jt.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Ps.ds(t);return Jt.resolve(s)}containsKey(e,t){return Jt.resolve(this.Ps.containsKey(t))}}class Ng{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Ls(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new Fg(this),this.indexManager=new Ag,this.remoteDocumentCache=new _y(s=>this.referenceDelegate.xs(s)),this.yt=new wg(t),this.Ns=new gy(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Pg,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Vs[e.toKey()];return s||(s=new Sp(t,this.referenceDelegate),this.Vs[e.toKey()]=s),s}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,s){cn("MemoryPersistence","Starting transaction:",e);const l=new xp(this.Ss.next());return this.referenceDelegate.ks(),s(l).next(d=>this.referenceDelegate.Os(l).next(()=>d)).toPromise().then(d=>(l.raiseOnCommittedEvent(),d))}Ms(e,t){return Jt.or(Object.values(this.Vs).map(s=>()=>s.containsKey(e,t)))}}class xp extends fa{constructor(e){super(),this.currentSequenceNumber=e}}class zh{constructor(e){this.persistence=e,this.Fs=new Hd,this.$s=null}static Bs(e){return new zh(e)}get Ls(){if(this.$s)return this.$s;throw Hn()}addReference(e,t,s){return this.Fs.addReference(s,t),this.Ls.delete(s.toString()),Jt.resolve()}removeReference(e,t,s){return this.Fs.removeReference(s,t),this.Ls.add(s.toString()),Jt.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),Jt.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(l=>this.Ls.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(l=>{l.forEach(d=>this.Ls.add(d.toString()))}).next(()=>s.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Jt.forEach(this.Ls,s=>{const l=Ct.fromPath(s);return this.qs(e,l).next(d=>{d||t.removeEntry(l,L.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(s=>{s?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return Jt.or([()=>Jt.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class Lg{constructor(e){this.yt=e}$(e,t,s,l){const d=new pa("createOrUpgrade",t);var S;s<1&&l>=1&&(e.createObjectStore("owner"),(S=e).createObjectStore("mutationQueues",{keyPath:"userId"}),S.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",xu,{unique:!0}),S.createObjectStore("documentMutations"),Vg(e),function(S){S.createObjectStore("remoteDocuments")}(e));let _=Jt.resolve();return s<3&&l>=3&&(0!==s&&(function(S){S.deleteObjectStore("targetDocuments"),S.deleteObjectStore("targets"),S.deleteObjectStore("targetGlobal")}(e),Vg(e)),_=_.next(()=>function(S){const q=S.store("targetGlobal"),se={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:L.min().toTimestamp(),targetCount:0};return q.put("targetGlobalKey",se)}(d))),s<4&&l>=4&&(0!==s&&(_=_.next(()=>function(S,q){return q.store("mutations").W().next(se=>{S.deleteObjectStore("mutations"),S.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",xu,{unique:!0});const Oe=q.store("mutations"),mt=se.map(Yt=>Oe.put(Yt));return Jt.waitFor(mt)})}(e,d))),_=_.next(()=>{!function(S){S.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&l>=5&&(_=_.next(()=>this.Us(d))),s<6&&l>=6&&(_=_.next(()=>(function(S){S.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(d)))),s<7&&l>=7&&(_=_.next(()=>this.Gs(d))),s<8&&l>=8&&(_=_.next(()=>this.Qs(e,d))),s<9&&l>=9&&(_=_.next(()=>{!function(S){S.objectStoreNames.contains("remoteDocumentChanges")&&S.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&l>=10&&(_=_.next(()=>this.js(d))),s<11&&l>=11&&(_=_.next(()=>{(function(S){S.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(S){S.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&l>=12&&(_=_.next(()=>{!function(S){const q=S.createObjectStore("documentOverlays",{keyPath:qv});q.createIndex("collectionPathOverlayIndex",Qv,{unique:!1}),q.createIndex("collectionGroupOverlayIndex",Xb,{unique:!1})}(e)})),s<13&&l>=13&&(_=_.next(()=>function(S){const q=S.createObjectStore("remoteDocumentsV14",{keyPath:xd});q.createIndex("documentKeyIndex",ku),q.createIndex("collectionGroupIndex",Ad)}(e)).next(()=>this.Ws(e,d)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&l>=14&&(_=_.next(()=>this.zs(e,d))),s<15&&l>=15&&(_=_.next(()=>function(S){S.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),S.createObjectStore("indexState",{keyPath:bg}).createIndex("sequenceNumberIndex",Wv,{unique:!1}),S.createObjectStore("indexEntries",{keyPath:Kv}).createIndex("documentKeyIndex",Zv,{unique:!1})}(e))),_}Ks(e){let t=0;return e.store("remoteDocuments").Z((s,l)=>{t+=Nu(l)}).next(()=>{const s={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Us(e){const t=e.store("mutationQueues"),s=e.store("mutations");return t.W().next(l=>Jt.forEach(l,d=>{const _=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);return s.W("userMutationsIndex",_).next(S=>Jt.forEach(S,q=>{On(q.userId===d.userId);const se=Wc(this.yt,q);return Ud(e,d.userId,se).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(l=>{const d=[];return s.Z((_,S)=>{const q=new ge(_),se=[0,_r(q)];d.push(t.get(se).next(Oe=>Oe?Jt.resolve():t.put({targetId:0,path:_r(q),sequenceNumber:l.highestListenSequenceNumber})))}).next(()=>Jt.waitFor(d))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:Od});const s=t.store("collectionParents"),l=new Ep,d=_=>{if(l.add(_)){const S=_.lastSegment(),q=_.popLast();return s.put({collectionId:S,parent:_r(q)})}};return t.store("remoteDocuments").Z({X:!0},(_,S)=>{const q=new ge(_);return d(q.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([_,S,q],se)=>{const Oe=Na(S);return d(Oe.popLast())}))}js(e){const t=e.store("targets");return t.Z((s,l)=>{const d=Fd(l),_=Kc(this.yt,d);return t.put(_)})}Ws(e,t){const s=t.store("remoteDocuments"),l=[];return s.Z((d,_)=>{const S=t.store("remoteDocumentsV14"),q=(se=_,se.document?new Ct(ge.fromString(se.document.name).popFirst(5)):se.noDocument?Ct.fromSegments(se.noDocument.path):se.unknownDocument?Ct.fromSegments(se.unknownDocument.path):Hn()).path.toArray();var se;const Oe={prefixPath:q.slice(0,q.length-2),collectionGroup:q[q.length-2],documentId:q[q.length-1],readTime:_.readTime||[0,0],unknownDocument:_.unknownDocument,noDocument:_.noDocument,document:_.document,hasCommittedMutations:!!_.hasCommittedMutations};l.push(S.put(Oe))}).next(()=>Jt.waitFor(l))}zs(e,t){const s=t.store("mutations"),l=hy(this.yt),d=new Ng(zh.Bs,this.yt.ie);return s.W().next(_=>{const S=new Map;return _.forEach(q=>{var se;let Oe=null!==(se=S.get(q.userId))&&void 0!==se?se:Hi();Wc(this.yt,q).keys().forEach(mt=>Oe=Oe.add(mt)),S.set(q.userId,Oe)}),Jt.forEach(S,(q,se)=>{const Oe=new di(se),mt=Nd.re(this.yt,Oe),Yt=d.getIndexManager(Oe),gn=Lu.re(Oe,this.yt,Yt,d.referenceDelegate);return new Gh(l,gn,mt,Yt).recalculateAndSaveOverlaysForDocumentKeys(new Pd(t,Ls.at),q).next()})})}}function Vg(i){i.createObjectStore("targetDocuments",{keyPath:_p}).createIndex("documentTargetsIndex",kd,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Ds,{unique:!0}),i.createObjectStore("targetGlobal")}const Ap="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Jc{constructor(e,t,s,l,d,_,S,q,se,Oe,mt=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.Hs=d,this.window=_,this.document=S,this.Js=se,this.Ys=Oe,this.Xs=mt,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=Yt=>Promise.resolve(),!Jc.C())throw new yn(Zt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ip(this,l),this.ii=t+"main",this.yt=new wg(q),this.ri=new na(this.ii,this.Xs,new Lg(this.yt)),this.Cs=new ay(this.referenceDelegate,this.yt),this.remoteDocumentCache=hy(this.yt),this.Ns=new Jb,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===Oe&&dr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new yn(Zt.FAILED_PRECONDITION,Ap);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Ls(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var s=(0,B.Z)(function*(l){if(t.started)return e(l)});return function(l){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,B.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,B.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Uu(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(xa(e))return cn("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return cn("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return vl(e).get("owner").next(t=>Jt.resolve(this.mi(t)))}gi(e){return Uu(e).delete(this.clientId)}yi(){var e=this;return(0,B.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const l=wo(s,"clientMetadata");return l.W().next(d=>{const _=e.Ii(d,18e5),S=d.filter(q=>-1===_.indexOf(q));return Jt.forEach(S,q=>l.delete(q.clientId)).next(()=>S)})}).catch(()=>[]);if(e.oi)for(const s of t)e.oi.removeItem(e.Ti(s.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?Jt.resolve(!0):vl(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new yn(Zt.FAILED_PRECONDITION,Ap);return!1}}return!(!this.networkEnabled||!this.inForeground)||Uu(e).W().next(s=>void 0===this.Ii(s,5e3).find(l=>{if(this.clientId!==l.clientId){const _=!this.inForeground&&l.inForeground,S=this.networkEnabled===l.networkEnabled;if(!this.networkEnabled&&l.networkEnabled||_&&S)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&cn("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,B.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const s=new Pd(t,Ls.at);return e._i(s).next(()=>e.gi(s))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(s=>this.pi(s.updateTimeMs,t)&&!this.Ei(s.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>Uu(e).W().next(t=>this.Ii(t,18e5).map(s=>s.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return Lu.re(e,this.yt,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Fl(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return Nd.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,t,s){cn("IndexedDbPersistence","Starting transaction:",e);const l="readonly"===t?"readonly":"readwrite",d=15===(_=this.Xs)?Jv:14===_?Cg:13===_?Fh:12===_?Rd:11===_?Xv:void Hn();var _;let S;return this.ri.runTransaction(e,l,d,q=>(S=new Pd(q,this.Ss?this.Ss.next():Ls.at),"readwrite-primary"===t?this.fi(S).next(se=>!!se||this.di(S)).next(se=>{if(!se)throw dr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new yn(Zt.FAILED_PRECONDITION,ta);return s(S)}).next(se=>this.wi(S).next(()=>se)):this.Vi(S).next(()=>s(S)))).then(q=>(S.raiseOnCommittedEvent(),q))}Vi(e){return vl(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new yn(Zt.FAILED_PRECONDITION,Ap)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return vl(e).put("owner",t)}static C(){return na.C()}_i(e){const t=vl(e);return t.get("owner").next(s=>this.mi(s)?(cn("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Jt.resolve())}pi(e,t){const s=Date.now();return!(e<s-t||e>s&&(dr(`Detected an update time that is in the future: ${e} > ${s}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,Fe.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const s=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return cn("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return dr("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){dr("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(e){}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function vl(i){return wo(i,"owner")}function Uu(i){return wo(i,"clientMetadata")}function dc(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class eu{constructor(e,t,s,l){this.targetId=e,this.fromCache=t,this.Si=s,this.Di=l}static Ci(e,t){let s=Hi(),l=Hi();for(const d of t.docChanges)switch(d.type){case 0:s=s.add(d.doc.key);break;case 1:l=l.add(d.doc.key)}return new eu(e,t.fromCache,s,l)}}class tu{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,s,l){return this.ki(e,t).next(d=>d||this.Oi(e,t,l,s)).next(d=>d||this.Mi(e,t))}ki(e,t){if(Al(t))return Jt.resolve(null);let s=fo(t);return this.indexManager.getIndexType(e,s).next(l=>0===l?null:(null!==t.limit&&1===l&&(t=Wl(t,null,"F"),s=fo(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(d=>{const _=Hi(...d);return this.Ni.getDocuments(e,_).next(S=>this.indexManager.getMinOffset(e,s).next(q=>{const se=this.Fi(t,S);return this.$i(t,se,_,q.readTime)?this.ki(e,Wl(t,null,"F")):this.Bi(e,se,t,q)}))})))}Oi(e,t,s,l){return Al(t)||l.isEqual(L.min())?this.Mi(e,t):this.Ni.getDocuments(e,s).next(d=>{const _=this.Fi(t,d);return this.$i(t,_,s,l)?this.Mi(e,t):(Kr()<=We.in.DEBUG&&cn("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ud(t)),this.Bi(e,_,t,Cs(l,-1)))})}Fi(e,t){let s=new Sr(dd(e));return t.forEach((l,d)=>{tl(e,d)&&(s=s.add(d))}),s}$i(e,t,s,l){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const d="F"===e.limitType?t.last():t.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(l)>0)}Mi(e,t){return Kr()<=We.in.DEBUG&&cn("QueryEngine","Using full collection scan to execute query:",ud(t)),this.Ni.getDocumentsMatchingQuery(e,t,Ir.min())}Bi(e,t,s,l){return this.Ni.getDocumentsMatchingQuery(e,s,l).next(d=>(t.forEach(_=>{d=d.insert(_.key,_)}),d))}}class vy{constructor(e,t,s,l){this.persistence=e,this.Li=t,this.yt=l,this.qi=new Qr(vi),this.Ui=new Ra(d=>Sl(d),Oc),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(s)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Gh(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function kp(i,e,t,s){return new vy(i,e,t,s)}function Op(i,e){return jd.apply(this,arguments)}function jd(){return jd=(0,B.Z)(function*(i,e){const t=An(i);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let l;return t.mutationQueue.getAllMutationBatches(s).next(d=>(l=d,t.Qi(e),t.mutationQueue.getAllMutationBatches(s))).next(d=>{const _=[],S=[];let q=Hi();for(const se of l){_.push(se.batchId);for(const Oe of se.mutations)q=q.add(Oe.key)}for(const se of d){S.push(se.batchId);for(const Oe of se.mutations)q=q.add(Oe.key)}return t.localDocuments.getDocuments(s,q).next(se=>({ji:se,removedBatchIds:_,addedBatchIds:S}))})})}),jd.apply(this,arguments)}function Rp(i,e){const t=An(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=e.batch.keys(),d=t.Gi.newChangeBuffer({trackRemovals:!0});return function(_,S,q,se){const Oe=q.batch,mt=Oe.keys();let Yt=Jt.resolve();return mt.forEach(gn=>{Yt=Yt.next(()=>se.getEntry(S,gn)).next(Dn=>{const Yn=q.docVersions.get(gn);On(null!==Yn),Dn.version.compareTo(Yn)<0&&(Oe.applyToRemoteDocument(Dn,q),Dn.isValidDocument()&&(Dn.setReadTime(q.commitVersion),se.addEntry(Dn)))})}),Yt.next(()=>_.mutationQueue.removeMutationBatch(S,Oe))}(t,s,e,d).next(()=>d.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(_){let S=Hi();for(let q=0;q<_.mutationResults.length;++q)_.mutationResults[q].transformResults.length>0&&(S=S.add(_.batch.mutations[q].key));return S}(e))).next(()=>t.localDocuments.getDocuments(s,l))})}function Pp(i){const e=An(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function $h(i,e){const t=An(i),s=e.snapshotVersion;let l=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const _=t.Gi.newChangeBuffer({trackRemovals:!0});l=t.qi;const S=[];e.targetChanges.forEach((Oe,mt)=>{const Yt=l.get(mt);if(!Yt)return;S.push(t.Cs.removeMatchingKeys(d,Oe.removedDocuments,mt).next(()=>t.Cs.addMatchingKeys(d,Oe.addedDocuments,mt)));let gn=Yt.withSequenceNumber(d.currentSequenceNumber);var Dn,Yn,pi;e.targetMismatches.has(mt)?gn=gn.withResumeToken(os.EMPTY_BYTE_STRING,L.min()).withLastLimboFreeSnapshotVersion(L.min()):Oe.resumeToken.approximateByteSize()>0&&(gn=gn.withResumeToken(Oe.resumeToken,s)),l=l.insert(mt,gn),Yn=gn,pi=Oe,(0===(Dn=Yt).resumeToken.approximateByteSize()||Yn.snapshotVersion.toMicroseconds()-Dn.snapshotVersion.toMicroseconds()>=3e8||pi.addedDocuments.size+pi.modifiedDocuments.size+pi.removedDocuments.size>0)&&S.push(t.Cs.updateTargetData(d,gn))});let q=Co(),se=Hi();if(e.documentUpdates.forEach(Oe=>{e.resolvedLimboDocuments.has(Oe)&&S.push(t.persistence.referenceDelegate.updateLimboDocument(d,Oe))}),S.push(Bg(d,_,e.documentUpdates).next(Oe=>{q=Oe.Wi,se=Oe.zi})),!s.isEqual(L.min())){const Oe=t.Cs.getLastRemoteSnapshotVersion(d).next(mt=>t.Cs.setTargetsMetadata(d,d.currentSequenceNumber,s));S.push(Oe)}return Jt.waitFor(S).next(()=>_.apply(d)).next(()=>t.localDocuments.getLocalViewOfDocuments(d,q,se)).next(()=>q)}).then(d=>(t.qi=l,d))}function Bg(i,e,t){let s=Hi(),l=Hi();return t.forEach(d=>s=s.add(d)),e.getEntries(i,s).next(d=>{let _=Co();return t.forEach((S,q)=>{const se=d.get(S);q.isFoundDocument()!==se.isFoundDocument()&&(l=l.add(S)),q.isNoDocument()&&q.version.isEqual(L.min())?(e.removeEntry(S,q.readTime),_=_.insert(S,q)):!se.isValidDocument()||q.version.compareTo(se.version)>0||0===q.version.compareTo(se.version)&&se.hasPendingWrites?(e.addEntry(q),_=_.insert(S,q)):cn("LocalStore","Ignoring outdated watch update for ",S,". Current version:",se.version," Watch version:",q.version)}),{Wi:_,zi:l}})}function Ug(i,e){const t=An(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Gd(i,e){const t=An(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return t.Cs.getTargetData(s,e).next(d=>d?(l=d,Jt.resolve(l)):t.Cs.allocateTargetId(s).next(_=>(l=new sc(e,_,0,s.currentSequenceNumber),t.Cs.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=t.qi.get(s.targetId);return(null===l||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(t.qi=t.qi.insert(s.targetId,s),t.Ui.set(e,s.targetId)),s})}function nu(i,e,t){return Yh.apply(this,arguments)}function Yh(){return Yh=(0,B.Z)(function*(i,e,t){const s=An(i),l=s.qi.get(e),d=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",d,_=>s.persistence.referenceDelegate.removeTarget(_,l)))}catch(_){if(!xa(_))throw _;cn("LocalStore",`Failed to update sequence numbers for target ${e}: ${_}`)}s.qi=s.qi.remove(e),s.Ui.delete(l.target)}),Yh.apply(this,arguments)}function Wh(i,e,t){const s=An(i);let l=L.min(),d=Hi();return s.persistence.runTransaction("Execute query","readonly",_=>function(S,q,se){const Oe=An(S),mt=Oe.Ui.get(se);return void 0!==mt?Jt.resolve(Oe.qi.get(mt)):Oe.Cs.getTargetData(q,se)}(s,_,fo(e)).next(S=>{if(S)return l=S.lastLimboFreeSnapshotVersion,s.Cs.getMatchingKeysForTargetId(_,S.targetId).next(q=>{d=q})}).next(()=>s.Li.getDocumentsMatchingQuery(_,e,t?l:L.min(),t?d:Hi())).next(S=>(jg(s,vu(e),S),{documents:S,Hi:d})))}function Fp(i,e){const t=An(i),s=An(t.Cs),l=t.qi.get(e);return l?Promise.resolve(l.target):t.persistence.runTransaction("Get target data","readonly",d=>s.ne(d,e).next(_=>_?_.target:null))}function Hg(i,e){const t=An(i),s=t.Ki.get(e)||L.min();return t.persistence.runTransaction("Get new document changes","readonly",l=>t.Gi.getAllFromCollectionGroup(l,e,Cs(s,-1),Number.MAX_SAFE_INTEGER)).then(l=>(jg(t,e,l),l))}function jg(i,e,t){let s=i.Ki.get(e)||L.min();t.forEach((l,d)=>{d.readTime.compareTo(s)>0&&(s=d.readTime)}),i.Ki.set(e,s)}function Np(){return Np=(0,B.Z)(function*(i,e,t,s){const l=An(i);let d=Hi(),_=Co();for(const se of t){const Oe=e.Ji(se.metadata.name);se.document&&(d=d.add(Oe));const mt=e.Yi(se);mt.setReadTime(e.Xi(se.metadata.readTime)),_=_.insert(Oe,mt)}const S=l.Gi.newChangeBuffer({trackRemovals:!0}),q=yield Gd(l,(se=s,fo(As(ge.fromString(`__bundle__/docs/${se}`)))));var se;return l.persistence.runTransaction("Apply bundle documents","readwrite",se=>Bg(se,S,_).next(Oe=>(S.apply(se),Oe)).next(Oe=>l.Cs.removeMatchingKeysForTargetId(se,q.targetId).next(()=>l.Cs.addMatchingKeys(se,d,q.targetId)).next(()=>l.localDocuments.getLocalViewOfDocuments(se,Oe.Wi,Oe.zi)).next(()=>Oe.Wi)))}),Np.apply(this,arguments)}function yy(i,e){return Gg.apply(this,arguments)}function Gg(){return Gg=(0,B.Z)(function*(i,e,t=Hi()){const s=yield Gd(i,fo($a(e.bundledQuery))),l=An(i);return l.persistence.runTransaction("Save named query","readwrite",d=>{const _=xr(e.readTime);if(s.snapshotVersion.compareTo(_)>=0)return l.Ns.saveNamedQuery(d,e);const S=s.withResumeToken(os.EMPTY_BYTE_STRING,_);return l.qi=l.qi.insert(S.targetId,S),l.Cs.updateTargetData(d,S).next(()=>l.Cs.removeMatchingKeysForTargetId(d,s.targetId)).next(()=>l.Cs.addMatchingKeys(d,t,s.targetId)).next(()=>l.Ns.saveNamedQuery(d,e))})}),Gg.apply(this,arguments)}function by(i,e){return`firestore_clients_${i}_${e}`}function Lp(i,e,t){let s=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function zg(i,e){return`firestore_targets_${i}_${e}`}class Kh{constructor(e,t,s,l){this.user=e,this.batchId=t,this.state=s,this.error=l}static Zi(e,t,s){const l=JSON.parse(s);let d,_="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return _&&l.error&&(_="string"==typeof l.error.message&&"string"==typeof l.error.code,_&&(d=new yn(l.error.code,l.error.message))),_?new Kh(e,t,l.state,d):(dr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class iu{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static Zi(e,t){const s=JSON.parse(t);let l,d="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return d&&s.error&&(d="string"==typeof s.error.message&&"string"==typeof s.error.code,d&&(l=new yn(s.error.code,s.error.message))),d?new iu(e,s.state,l):(dr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class zd{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const s=JSON.parse(t);let l="object"==typeof s&&s.activeTargetIds instanceof Array,d=gl();for(let _=0;l&&_<s.activeTargetIds.length;++_)l=Js(s.activeTargetIds[_]),d=d.add(s.activeTargetIds[_]);return l?new zd(e,d):(dr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Vp{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Vp(t.clientId,t.onlineState):(dr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Bp{constructor(){this.activeTargetIds=gl()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Up{constructor(e,t,s,l,d){this.window=e,this.Hs=t,this.persistenceKey=s,this.sr=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Qr(vi),this.started=!1,this.cr=[];const _=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.ar=by(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new Bp),this.lr=new RegExp(`^firestore_clients_${_}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${_}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${_}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(S){return`firestore_bundle_loaded_v2_${S}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,B.Z)(function*(){const t=yield e.syncEngine.vi();for(const l of t){if(l===e.sr)continue;const d=e.getItem(by(e.persistenceKey,l));if(d){const _=zd.Zi(l,d);_&&(e.ur=e.ur.insert(_.clientId,_))}}e.gr();const s=e.storage.getItem(e.wr);if(s){const l=e.yr(s);l&&e.pr(l)}for(const l of e.cr)e.rr(l);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((s,l)=>{l.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,s){this.Tr(e,t,s),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(zg(this.persistenceKey,e));if(s){const l=iu.Zi(e,s);l&&(t=l.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(zg(this.persistenceKey,e))}updateQueryState(e,t,s){this.Rr(e,t,s)}handleUserChange(e,t,s){t.forEach(l=>{this.Er(l)}),this.currentUser=e,s.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return cn("SharedClientState","READ",e,t),t}setItem(e,t){cn("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){cn("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const s=e;if(s.storageArea===this.storage){if(cn("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ar)return void dr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,B.Z)(function*(){if(t.started){if(null!==s.key)if(t.lr.test(s.key)){if(null==s.newValue){const l=t.vr(s.key);return t.Vr(l,null)}{const l=t.Sr(s.key,s.newValue);if(l)return t.Vr(l.clientId,l)}}else if(t.dr.test(s.key)){if(null!==s.newValue){const l=t.Dr(s.key,s.newValue);if(l)return t.Cr(l)}}else if(t._r.test(s.key)){if(null!==s.newValue){const l=t.Nr(s.key,s.newValue);if(l)return t.kr(l)}}else if(s.key===t.wr){if(null!==s.newValue){const l=t.yr(s.newValue);if(l)return t.pr(l)}}else if(s.key===t.hr){const l=function(d){let _=Ls.at;if(null!=d)try{const S=JSON.parse(d);On("number"==typeof S),_=S}catch(S){dr("SharedClientState","Failed to read sequence number from WebStorage",S)}return _}(s.newValue);l!==Ls.at&&t.sequenceNumberHandler(l)}else if(s.key===t.mr){const l=t.Or(s.newValue);yield Promise.all(l.map(d=>t.syncEngine.Mr(d)))}}else t.cr.push(s)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,s){const l=new Kh(this.currentUser,e,t,s),d=Lp(this.persistenceKey,this.currentUser,e);this.setItem(d,l.tr())}Er(e){const t=Lp(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,s){const l=zg(this.persistenceKey,e),d=new iu(e,t,s);this.setItem(l,d.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const s=this.vr(e);return zd.Zi(s,t)}Dr(e,t){const s=this.dr.exec(e),l=Number(s[1]);return Kh.Zi(new di(void 0!==s[2]?s[2]:null),l,t)}Nr(e,t){const s=this._r.exec(e),l=Number(s[1]);return iu.Zi(l,t)}yr(e){return Vp.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,B.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);cn("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const s=t?this.ur.insert(e,t):this.ur.remove(e),l=this.Ir(this.ur),d=this.Ir(s),_=[],S=[];return d.forEach(q=>{l.has(q)||_.push(q)}),l.forEach(q=>{d.has(q)||S.push(q)}),this.syncEngine.Br(_,S).then(()=>{this.ur=s})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=gl();return e.forEach((s,l)=>{t=t.unionWith(l.activeTargetIds)}),t}}class Hp{constructor(){this.Lr=new Bp,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,s){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Bp,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Cy{Ur(e){}shutdown(){}}class jp{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){cn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){cn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const wy={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Dy{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class $g extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,s,l,d){const _=this.ho(e,t);cn("RestConnection","Sending: ",_,s);const S={};return this.lo(S,l,d),this.fo(e,_,S,s).then(q=>(cn("RestConnection","Received: ",q),q),q=>{throw Ao("RestConnection",`${e} failed with error: `,q,"url: ",_,"request:",s),q})}_o(e,t,s,l,d,_){return this.ao(e,t,s,l,d)}lo(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+Zi,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((l,d)=>e[d]=l),s&&s.headers.forEach((l,d)=>e[d]=l)}ho(e,t){return`${this.oo}/v1/${t}:${wy[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,s,l){return new Promise((d,_)=>{const S=new Un;S.setWithCredentials(!0),S.listenOnce(la.COMPLETE,()=>{try{switch(S.getLastErrorCode()){case Jo.NO_ERROR:const se=S.getResponseJson();cn("Connection","XHR received:",JSON.stringify(se)),d(se);break;case Jo.TIMEOUT:cn("Connection",'RPC "'+e+'" timed out'),_(new yn(Zt.DEADLINE_EXCEEDED,"Request time out"));break;case Jo.HTTP_ERROR:const Oe=S.getStatus();if(cn("Connection",'RPC "'+e+'" failed with status:',Oe,"response text:",S.getResponseText()),Oe>0){let mt=S.getResponseJson();Array.isArray(mt)&&(mt=mt[0]);const Yt=null==mt?void 0:mt.error;if(Yt&&Yt.status&&Yt.message){const gn=function(Dn){const Yn=Dn.toLowerCase().replace(/_/g,"-");return Object.values(Zt).indexOf(Yn)>=0?Yn:Zt.UNKNOWN}(Yt.status);_(new yn(gn,Yt.message))}else _(new yn(Zt.UNKNOWN,"Server responded with status "+S.getStatus()))}else _(new yn(Zt.UNAVAILABLE,"Connection failed."));break;default:Hn()}}finally{cn("Connection",'RPC "'+e+'" completed.')}});const q=JSON.stringify(l);S.send(t,"POST",q,s,15)})}wo(e,t,s){const l=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Ho(),_=So(),S={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(S.xmlHttpFactory=new vr({})),this.lo(S.initMessageHeaders,t,s),S.encodeInitMessageHeaders=!0;const q=l.join("");cn("Connection","Creating WebChannel: "+q,S);const se=d.createWebChannel(q,S);let Oe=!1,mt=!1;const Yt=new Dy({Hr:Dn=>{mt?cn("Connection","Not sending because WebChannel is closed:",Dn):(Oe||(cn("Connection","Opening WebChannel transport."),se.open(),Oe=!0),cn("Connection","WebChannel sending:",Dn),se.send(Dn))},Jr:()=>se.close()}),gn=(Dn,Yn,pi)=>{Dn.listen(Yn,Jr=>{try{pi(Jr)}catch(Os){setTimeout(()=>{throw Os},0)}})};return gn(se,jn.EventType.OPEN,()=>{mt||cn("Connection","WebChannel transport opened.")}),gn(se,jn.EventType.CLOSE,()=>{mt||(mt=!0,cn("Connection","WebChannel transport closed"),Yt.io())}),gn(se,jn.EventType.ERROR,Dn=>{mt||(mt=!0,Ao("Connection","WebChannel transport errored:",Dn),Yt.io(new yn(Zt.UNAVAILABLE,"The operation could not be completed")))}),gn(se,jn.EventType.MESSAGE,Dn=>{var Yn;if(!mt){const pi=Dn.data[0];On(!!pi);const Jr=pi,Os=Jr.error||(null===(Yn=Jr[0])||void 0===Yn?void 0:Yn.error);if(Os){cn("Connection","WebChannel received error:",Os);const hr=Os.status;let Ks=function(Ar){const Mo=ks[Ar];if(void 0!==Mo)return ec(Mo)}(hr),Cr=Os.message;void 0===Ks&&(Ks=Zt.INTERNAL,Cr="Unknown error status: "+hr+" with message "+Os.message),mt=!0,Yt.io(new yn(Ks,Cr)),se.close()}else cn("Connection","WebChannel received:",pi),Yt.ro(pi)}}),gn(_,ea.STAT_EVENT,Dn=>{Dn.stat===xo.PROXY?cn("Connection","Detected buffering proxy"):Dn.stat===xo.NOPROXY&&cn("Connection","Detected no buffering proxy")}),setTimeout(()=>{Yt.so()},0),Yt}}function Gp(){return"undefined"!=typeof window?window:null}function Zh(){return"undefined"!=typeof document?document:null}function Ea(i){return new pp(i,!0)}class $d{constructor(e,t,s=1e3,l=1.5,d=6e4){this.Hs=e,this.timerId=t,this.mo=s,this.yo=l,this.po=d,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),s=Math.max(0,Date.now()-this.Eo),l=Math.max(0,t-s);l>0&&cn("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,l,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class Yg{constructor(e,t,s,l,d,_,S,q){this.Hs=e,this.vo=s,this.Vo=l,this.connection=d,this.authCredentialsProvider=_,this.appCheckCredentialsProvider=S,this.listener=q,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new $d(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,B.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,B.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var s=this;return(0,B.Z)(function*(){s.Lo(),s.qo(),s.xo.cancel(),s.So++,4!==e?s.xo.reset():t&&t.code===Zt.RESOURCE_EXHAUSTED?(dr(t.toString()),dr("Using maximum backoff delay to prevent overloading the backend."),s.xo.Ao()):t&&t.code===Zt.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Uo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.So===t&&this.Go(s,l)},s=>{e(()=>{const l=new yn(Zt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.Qo(l)})})}Go(e,t){const s=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{s(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(l=>{s(()=>this.Qo(l))}),this.stream.onMessage(l=>{s(()=>this.onMessage(l))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,B.Z)(function*(){e.state=0,e.start()}))}Qo(e){return cn("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(cn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ey extends Yg{constructor(e,t,s,l,d,_){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,l,_),this.yt=d}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function Id(i,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(q=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===q?1:"REMOVE"===q?2:"CURRENT"===q?3:"RESET"===q?4:Hn(),l=e.targetChange.targetIds||[],d=function(q,se){return q.wt?(On(void 0===se||"string"==typeof se),os.fromBase64String(se||"")):(On(void 0===se||se instanceof Uint8Array),os.fromUint8Array(se||new Uint8Array))}(i,e.targetChange.resumeToken),_=e.targetChange.cause,S=_&&function(q){const se=void 0===q.code?Zt.UNKNOWN:ec(q.code);return new yn(se,q.message||"")}(_);t=new Zo(s,l,d,S||null)}else if("documentChange"in e){const s=e.documentChange,l=Ca(i,s.document.name),d=xr(s.document.updateTime),_=s.document.createTime?xr(s.document.createTime):L.min(),S=new ho({mapValue:{fields:s.document.fields}}),q=as.newFoundDocument(l,d,_,S);t=new ic(s.targetIds||[],s.removedTargetIds||[],q.key,q)}else if("documentDelete"in e){const s=e.documentDelete,l=Ca(i,s.document),d=s.readTime?xr(s.readTime):L.min(),_=as.newNoDocument(l,d);t=new ic([],s.removedTargetIds||[],_.key,_)}else if("documentRemove"in e){const s=e.documentRemove,l=Ca(i,s.document);t=new ic([],s.removedTargetIds||[],l,null)}else{if(!("filter"in e))return Hn();{const s=e.filter,d=new Lc(s.count||0);t=new fp(s.targetId,d)}}var q;return t}(this.yt,e),s=function(l){if(!("targetChange"in l))return L.min();const d=l.targetChange;return d.targetIds&&d.targetIds.length?L.min():d.readTime?xr(d.readTime):L.min()}(e);return this.listener.Wo(t,s)}zo(e){const t={};t.database=ra(this.yt),t.addTarget=function(l,d){let _;const S=d.target;return _=pu(S)?{documents:Sd(l,S)}:{query:y(l,S)},_.targetId=d.targetId,d.resumeToken.approximateByteSize()>0?_.resumeToken=Dd(l,d.resumeToken):d.snapshotVersion.compareTo(L.min())>0&&(_.readTime=ia(l,d.snapshotVersion.toTimestamp())),_}(this.yt,e);const s=function f(i,e){const t=function(s,l){switch(l){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Hn()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.Bo(t)}Ho(e){const t={};t.database=ra(this.yt),t.removeTarget=e,this.Bo(t)}}class nC extends Yg{constructor(e,t,s,l,d,_){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,l,_),this.yt=d,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(On(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function jc(i,e){return i&&i.length>0?(On(void 0!==e),i.map(t=>function(s,l){let d=xr(s.updateTime?s.updateTime:l);return d.isEqual(L.min())&&(d=xr(l)),new up(d,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=xr(e.commitTime);return this.listener.Zo(s,t)}return On(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=ra(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>Su(this.yt,s))};this.Bo(t)}}class Wg extends class{}{constructor(e,t,s,l){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.yt=l,this.nu=!1}su(){if(this.nu)throw new yn(Zt.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,s){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,d])=>this.connection.ao(e,t,s,l,d)).catch(l=>{throw"FirebaseError"===l.name?(l.code===Zt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new yn(Zt.UNKNOWN,l.toString())})}_o(e,t,s,l){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,_])=>this.connection._o(e,t,s,d,_,l)).catch(d=>{throw"FirebaseError"===d.name?(d.code===Zt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new yn(Zt.UNKNOWN,d.toString())})}terminate(){this.nu=!0}}class Iy{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(dr(t),this.ou=!1):cn("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class $p{constructor(e,t,s,l,d){var _=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=d,this.mu.Ur(S=>{s.enqueueAndForget((0,B.Z)(function*(){var q;rl(_)&&(cn("RemoteStore","Restarting streams for network reachability change."),yield(q=(0,B.Z)(function*(se){const Oe=An(se);Oe._u.add(4),yield Nl(Oe),Oe.gu.set("Unknown"),Oe._u.delete(4),yield Yd(Oe)}),function(se){return q.apply(this,arguments)})(_))}))}),this.gu=new Iy(s,l)}}function Yd(i){return Yp.apply(this,arguments)}function Yp(){return Yp=(0,B.Z)(function*(i){if(rl(i))for(const e of i.wu)yield e(!0)}),Yp.apply(this,arguments)}function Nl(i){return Wd.apply(this,arguments)}function Wd(){return Wd=(0,B.Z)(function*(i){for(const e of i.wu)yield e(!1)}),Wd.apply(this,arguments)}function qh(i,e){const t=An(i);t.du.has(e.targetId)||(t.du.set(e.targetId,e),Zg(t)?Kg(t):zu(t).ko()&&Kd(t,e))}function ru(i,e){const t=An(i),s=zu(t);t.du.delete(e),s.ko()&&Wp(t,e),0===t.du.size&&(s.ko()?s.Fo():rl(t)&&t.gu.set("Unknown"))}function Kd(i,e){i.yu.Ot(e.targetId),zu(i).zo(e)}function Wp(i,e){i.yu.Ot(e),zu(i).Ho(e)}function Kg(i){i.yu=new Mu({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>i.du.get(e)||null}),zu(i).start(),i.gu.uu()}function Zg(i){return rl(i)&&!zu(i).No()&&i.du.size>0}function rl(i){return 0===An(i)._u.size}function Ty(i){i.yu=void 0}function Sy(i){return Qh.apply(this,arguments)}function Qh(){return Qh=(0,B.Z)(function*(i){i.du.forEach((e,t)=>{Kd(i,e)})}),Qh.apply(this,arguments)}function qg(i,e){return Xh.apply(this,arguments)}function Xh(){return Xh=(0,B.Z)(function*(i,e){Ty(i),Zg(i)?(i.gu.hu(e),Kg(i)):i.gu.set("Unknown")}),Xh.apply(this,arguments)}function Qg(i,e,t){return Jh.apply(this,arguments)}function Jh(){return Jh=(0,B.Z)(function*(i,e,t){if(i.gu.set("Online"),e instanceof Zo&&2===e.state&&e.cause)try{yield(s=(0,B.Z)(function*(l,d){const _=d.cause;for(const S of d.targetIds)l.du.has(S)&&(yield l.remoteSyncer.rejectListen(S,_),l.du.delete(S),l.yu.removeTarget(S))}),function(l,d){return s.apply(this,arguments)})(i,e)}catch(s){cn("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield Ya(i,s)}else if(e instanceof ic?i.yu.Kt(e):e instanceof fp?i.yu.Jt(e):i.yu.jt(e),!t.isEqual(L.min()))try{const s=yield Pp(i.localStore);t.compareTo(s)>=0&&(yield function(l,d){const _=l.yu.Zt(d);return _.targetChanges.forEach((S,q)=>{if(S.resumeToken.approximateByteSize()>0){const se=l.du.get(q);se&&l.du.set(q,se.withResumeToken(S.resumeToken,d))}}),_.targetMismatches.forEach(S=>{const q=l.du.get(S);if(!q)return;l.du.set(S,q.withResumeToken(os.EMPTY_BYTE_STRING,q.snapshotVersion)),Wp(l,S);const se=new sc(q.target,S,1,q.sequenceNumber);Kd(l,se)}),l.remoteSyncer.applyRemoteEvent(_)}(i,t))}catch(s){cn("RemoteStore","Failed to raise snapshot:",s),yield Ya(i,s)}var s}),Jh.apply(this,arguments)}function Ya(i,e,t){return Hu.apply(this,arguments)}function Hu(){return Hu=(0,B.Z)(function*(i,e,t){if(!xa(e))throw e;i._u.add(1),yield Nl(i),i.gu.set("Offline"),t||(t=()=>Pp(i.localStore)),i.asyncQueue.enqueueRetryable((0,B.Z)(function*(){cn("RemoteStore","Retrying IndexedDB access"),yield t(),i._u.delete(1),yield Yd(i)}))}),Hu.apply(this,arguments)}function Xg(i,e){return e().catch(t=>Ya(i,t,e))}function ju(i){return Jg.apply(this,arguments)}function Jg(){return Jg=(0,B.Z)(function*(i){const e=An(i),t=fc(e);let s=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;Kp(e);)try{const l=yield Ug(e.localStore,s);if(null===l){0===e.fu.length&&t.Fo();break}s=l.batchId,e_(e,l)}catch(l){yield Ya(e,l)}ef(e)&&Gu(e)}),Jg.apply(this,arguments)}function Kp(i){return rl(i)&&i.fu.length<10}function e_(i,e){i.fu.push(e);const t=fc(i);t.ko()&&t.Yo&&t.Xo(e.mutations)}function ef(i){return rl(i)&&!fc(i).No()&&i.fu.length>0}function Gu(i){fc(i).start()}function xy(i){return Zd.apply(this,arguments)}function Zd(){return Zd=(0,B.Z)(function*(i){fc(i).eu()}),Zd.apply(this,arguments)}function t_(i){return tf.apply(this,arguments)}function tf(){return tf=(0,B.Z)(function*(i){const e=fc(i);for(const t of i.fu)e.Xo(t.mutations)}),tf.apply(this,arguments)}function n_(i,e,t){return Zp.apply(this,arguments)}function Zp(){return Zp=(0,B.Z)(function*(i,e,t){const s=i.fu.shift(),l=Ou.from(s,e,t);yield Xg(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),yield ju(i)}),Zp.apply(this,arguments)}function qp(i,e){return Qp.apply(this,arguments)}function Qp(){return Qp=(0,B.Z)(function*(i,e){var t;e&&fc(i).Yo&&(yield(t=(0,B.Z)(function*(s,l){if(bd(d=l.code)&&d!==Zt.ABORTED){const _=s.fu.shift();fc(s).Mo(),yield Xg(s,()=>s.remoteSyncer.rejectFailedWrite(_.batchId,l)),yield ju(s)}var d}),function(s,l){return t.apply(this,arguments)})(i,e)),ef(i)&&Gu(i)}),Qp.apply(this,arguments)}function i_(i,e){return nf.apply(this,arguments)}function nf(){return nf=(0,B.Z)(function*(i,e){const t=An(i);t.asyncQueue.verifyOperationInProgress(),cn("RemoteStore","RemoteStore received new credentials");const s=rl(t);t._u.add(3),yield Nl(t),s&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield Yd(t)}),nf.apply(this,arguments)}function hc(i,e){return rf.apply(this,arguments)}function rf(){return rf=(0,B.Z)(function*(i,e){const t=An(i);e?(t._u.delete(2),yield Yd(t)):e||(t._u.add(2),yield Nl(t),t.gu.set("Unknown"))}),rf.apply(this,arguments)}function zu(i){return i.pu||(i.pu=function(e,t,s){const l=An(e);return l.su(),new Ey(t,l.connection,l.authCredentials,l.appCheckCredentials,l.yt,s)}(i.datastore,i.asyncQueue,{Yr:Sy.bind(null,i),Zr:qg.bind(null,i),Wo:Qg.bind(null,i)}),i.wu.push(function(){var e=(0,B.Z)(function*(t){t?(i.pu.Mo(),Zg(i)?Kg(i):i.gu.set("Unknown")):(yield i.pu.stop(),Ty(i))});return function(t){return e.apply(this,arguments)}}())),i.pu}function fc(i){return i.Iu||(i.Iu=function(e,t,s){const l=An(e);return l.su(),new nC(t,l.connection,l.authCredentials,l.appCheckCredentials,l.yt,s)}(i.datastore,i.asyncQueue,{Yr:xy.bind(null,i),Zr:qp.bind(null,i),tu:t_.bind(null,i),Zo:n_.bind(null,i)}),i.wu.push(function(){var e=(0,B.Z)(function*(t){t?(i.Iu.Mo(),yield ju(i)):(yield i.Iu.stop(),i.fu.length>0&&(cn("RemoteStore",`Stopping write stream with ${i.fu.length} pending writes`),i.fu=[]))});return function(t){return e.apply(this,arguments)}}())),i.Iu}class pc{constructor(e,t,s,l,d){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=l,this.removalCallback=d,this.deferred=new qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(_=>{})}static createAndSchedule(e,t,s,l,d){const _=Date.now()+s,S=new pc(e,t,_,l,d);return S.start(s),S}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new yn(Zt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $u(i,e){if(dr("AsyncQueue",`${e}: ${i}`),xa(i))return new yn(Zt.UNAVAILABLE,`${e}: ${i}`);throw i}class Yu{constructor(e){this.comparator=e?(t,s)=>e(t,s)||Ct.comparator(t.key,s.key):(t,s)=>Ct.comparator(t.key,s.key),this.keyedMap=Pa(),this.sortedSet=new Qr(this.comparator)}static emptySet(e){return new Yu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Yu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const l=t.getNext().key,d=s.getNext().key;if(!l.isEqual(d))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new Yu;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class r_{constructor(){this.Tu=new Qr(Ct.comparator)}track(e){const t=e.doc.key,s=this.Tu.get(t);s?0!==e.type&&3===s.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==s.type?this.Tu=this.Tu.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Tu=this.Tu.remove(t):1===e.type&&2===s.type?this.Tu=this.Tu.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Hn():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,s)=>{e.push(s)}),e}}class Wu{constructor(e,t,s,l,d,_,S,q,se){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=d,this.fromCache=_,this.syncStateChanged=S,this.excludesMetadataChanges=q,this.hasCachedResults=se}static fromInitialDocuments(e,t,s,l,d){const _=[];return t.forEach(S=>{_.push({type:0,doc:S})}),new Wu(e,t,Yu.emptySet(t),_,s,l,!0,!1,d)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let l=0;l<t.length;l++)if(t[l].type!==s[l].type||!t[l].doc.isEqual(s[l].doc))return!1;return!0}}class yl{constructor(){this.Au=void 0,this.listeners=[]}}class Xp{constructor(){this.queries=new Ra(e=>cd(e),Kl),this.onlineState="Unknown",this.Ru=new Set}}function sf(i,e){return af.apply(this,arguments)}function af(){return af=(0,B.Z)(function*(i,e){const t=An(i),s=e.query;let l=!1,d=t.queries.get(s);if(d||(l=!0,d=new yl),l)try{d.Au=yield t.onListen(s)}catch(_){const S=$u(_,`Initialization of query '${ud(e.query)}' failed`);return void e.onError(S)}t.queries.set(s,d),d.listeners.push(e),e.bu(t.onlineState),d.Au&&e.Pu(d.Au)&&Jp(t)}),af.apply(this,arguments)}function lf(i,e){return cf.apply(this,arguments)}function cf(){return cf=(0,B.Z)(function*(i,e){const t=An(i),s=e.query;let l=!1;const d=t.queries.get(s);if(d){const _=d.listeners.indexOf(e);_>=0&&(d.listeners.splice(_,1),l=0===d.listeners.length)}if(l)return t.queries.delete(s),t.onUnlisten(s)}),cf.apply(this,arguments)}function Ay(i,e){const t=An(i);let s=!1;for(const l of e){const _=t.queries.get(l.query);if(_){for(const S of _.listeners)S.Pu(l)&&(s=!0);_.Au=l}}s&&Jp(t)}function ky(i,e,t){const s=An(i),l=s.queries.get(e);if(l)for(const d of l.listeners)d.onError(t);s.queries.delete(e)}function Jp(i){i.Ru.forEach(e=>{e.next()})}class em{constructor(e,t,s){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=s||{}}Pu(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)3!==l.type&&s.push(l);e=new Wu(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Wu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class s_{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class Oy{constructor(e){this.yt=e}Ji(e){return Ca(this.yt,e)}Yi(e){return e.metadata.exists?Md(this.yt,e.document,!1):as.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return xr(e)}}class o_{constructor(e,t,s){this.Mu=e,this.localStore=t,this.yt=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=a_(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const s=ge.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,s=new Oy(this.yt);for(const l of e)if(l.metadata.queries){const d=s.Ji(l.metadata.name);for(const _ of l.metadata.queries){const S=(t.get(_)||Hi()).add(d);t.set(_,S)}}return t}complete(){var e=this;return(0,B.Z)(function*(){const t=yield function La(i,e,t,s){return Np.apply(this,arguments)}(e.localStore,new Oy(e.yt),e.documents,e.Mu.id),s=e.$u(e.documents);for(const l of e.queries)yield yy(e.localStore,l,s.get(l.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function a_(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class l_{constructor(e){this.key=e}}class Ry{constructor(e){this.key=e}}class Py{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Hi(),this.mutatedKeys=Hi(),this.Gu=dd(e),this.Qu=new Yu(this.Gu)}get ju(){return this.qu}Wu(e,t){const s=t?t.zu:new r_,l=t?t.Qu:this.Qu;let d=t?t.mutatedKeys:this.mutatedKeys,_=l,S=!1;const q="F"===this.query.limitType&&l.size===this.query.limit?l.last():null,se="L"===this.query.limitType&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((Oe,mt)=>{const Yt=l.get(Oe),gn=tl(this.query,mt)?mt:null,Dn=!!Yt&&this.mutatedKeys.has(Yt.key),Yn=!!gn&&(gn.hasLocalMutations||this.mutatedKeys.has(gn.key)&&gn.hasCommittedMutations);let pi=!1;Yt&&gn?Yt.data.isEqual(gn.data)?Dn!==Yn&&(s.track({type:3,doc:gn}),pi=!0):this.Hu(Yt,gn)||(s.track({type:2,doc:gn}),pi=!0,(q&&this.Gu(gn,q)>0||se&&this.Gu(gn,se)<0)&&(S=!0)):!Yt&&gn?(s.track({type:0,doc:gn}),pi=!0):Yt&&!gn&&(s.track({type:1,doc:Yt}),pi=!0,(q||se)&&(S=!0)),pi&&(gn?(_=_.add(gn),d=Yn?d.add(Oe):d.delete(Oe)):(_=_.delete(Oe),d=d.delete(Oe)))}),null!==this.query.limit)for(;_.size>this.query.limit;){const Oe="F"===this.query.limitType?_.last():_.first();_=_.delete(Oe.key),d=d.delete(Oe.key),s.track({type:1,doc:Oe})}return{Qu:_,zu:s,$i:S,mutatedKeys:d}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const l=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const d=e.zu.Eu();d.sort((se,Oe)=>function(mt,Yt){const gn=Dn=>{switch(Dn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Hn()}};return gn(mt)-gn(Yt)}(se.type,Oe.type)||this.Gu(se.doc,Oe.doc)),this.Ju(s);const _=t?this.Yu():[],S=0===this.Ku.size&&this.current?1:0,q=S!==this.Uu;return this.Uu=S,0!==d.length||q?{snapshot:new Wu(this.query,e.Qu,l,d,e.mutatedKeys,0===S,q,!1,!!s&&s.resumeToken.approximateByteSize()>0),Xu:_}:{Xu:_}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new r_,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Hi(),this.Qu.forEach(s=>{this.Zu(s.key)&&(this.Ku=this.Ku.add(s.key))});const t=[];return e.forEach(s=>{this.Ku.has(s)||t.push(new Ry(s))}),this.Ku.forEach(s=>{e.has(s)||t.push(new l_(s))}),t}tc(e){this.qu=e.Hi,this.Ku=Hi();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Wu.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class tm{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class Fy{constructor(e){this.key=e,this.nc=!1}}class c_{constructor(e,t,s,l,d,_){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=l,this.currentUser=d,this.maxConcurrentLimboResolutions=_,this.sc={},this.ic=new Ra(S=>cd(S),Kl),this.rc=new Map,this.oc=new Set,this.uc=new Qr(Ct.comparator),this.cc=new Map,this.ac=new Hd,this.hc={},this.lc=new Map,this.fc=Qc.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function u_(i,e){return d_.apply(this,arguments)}function d_(){return d_=(0,B.Z)(function*(i,e){const t=mf(i);let s,l;const d=t.ic.get(e);if(d)s=d.targetId,t.sharedClientState.addLocalQueryTarget(s),l=d.view.ec();else{const _=yield Gd(t.localStore,fo(e));t.isPrimaryClient&&qh(t.remoteStore,_);const S=t.sharedClientState.addLocalQueryTarget(_.targetId);s=_.targetId,l=yield Va(t,e,s,"current"===S,_.resumeToken)}return l}),d_.apply(this,arguments)}function Va(i,e,t,s,l){return h_.apply(this,arguments)}function h_(){return h_=(0,B.Z)(function*(i,e,t,s,l){i._c=(mt,Yt,gn)=>{return(Dn=(0,B.Z)(function*(Yn,pi,Jr,Os){let hr=pi.view.Wu(Jr);hr.$i&&(hr=yield Wh(Yn.localStore,pi.query,!1).then(({documents:Ar})=>pi.view.Wu(Ar,hr)));const Ks=Os&&Os.targetChanges.get(pi.targetId),Cr=pi.view.applyChanges(hr,Yn.isPrimaryClient,Ks);return su(Yn,pi.targetId,Cr.Xu),Cr.snapshot}),function(Yn,pi,Jr,Os){return Dn.apply(this,arguments)})(i,mt,Yt,gn);var Dn};const d=yield Wh(i.localStore,e,!0),_=new Py(e,d.Hi),S=_.Wu(d.documents),q=Bc.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==i.onlineState,l),se=_.applyChanges(S,i.isPrimaryClient,q);su(i,t,se.Xu);const Oe=new tm(e,t,_);return i.ic.set(e,Oe),i.rc.has(t)?i.rc.get(t).push(e):i.rc.set(t,[e]),se.snapshot}),h_.apply(this,arguments)}function iC(i,e){return uf.apply(this,arguments)}function uf(){return uf=(0,B.Z)(function*(i,e){const t=An(i),s=t.ic.get(e),l=t.rc.get(s.targetId);if(l.length>1)return t.rc.set(s.targetId,l.filter(d=>!Kl(d,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield nu(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),ru(t.remoteStore,s.targetId),sl(t,s.targetId)}).catch(ss))):(sl(t,s.targetId),yield nu(t.localStore,s.targetId,!0))}),uf.apply(this,arguments)}function df(){return df=(0,B.Z)(function*(i,e,t){const s=gf(i);try{const l=yield function(d,_){const S=An(d),q=E.now(),se=_.reduce((Yt,gn)=>Yt.add(gn.key),Hi());let Oe,mt;return S.persistence.runTransaction("Locally write mutations","readwrite",Yt=>{let gn=Co(),Dn=Hi();return S.Gi.getEntries(Yt,se).next(Yn=>{gn=Yn,gn.forEach((pi,Jr)=>{Jr.isValidDocument()||(Dn=Dn.add(pi))})}).next(()=>S.localDocuments.getOverlayedDocuments(Yt,gn)).next(Yn=>{Oe=Yn;const pi=[];for(const Jr of _){const Os=Ah(Jr,Oe.get(Jr.key).overlayedDocument);null!=Os&&pi.push(new za(Jr.key,Os,Sh(Os.value.mapValue),ls.exists(!0)))}return S.mutationQueue.addMutationBatch(Yt,q,pi,_)}).next(Yn=>{mt=Yn;const pi=Yn.applyToLocalDocumentSet(Oe,Dn);return S.documentOverlayCache.saveOverlays(Yt,Yn.batchId,pi)})}).then(()=>({batchId:mt.batchId,changes:tc(Oe)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),function(d,_,S){let q=d.hc[d.currentUser.toKey()];q||(q=new Qr(vi)),q=q.insert(_,S),d.hc[d.currentUser.toKey()]=q}(s,l.batchId,t),yield ol(s,l.changes),yield ju(s.remoteStore)}catch(l){const d=$u(l,"Failed to persist write");t.reject(d)}}),df.apply(this,arguments)}function p_(i,e){return m_.apply(this,arguments)}function m_(){return m_=(0,B.Z)(function*(i,e){const t=An(i);try{const s=yield $h(t.localStore,e);e.targetChanges.forEach((l,d)=>{const _=t.cc.get(d);_&&(On(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?_.nc=!0:l.modifiedDocuments.size>0?On(_.nc):l.removedDocuments.size>0&&(On(_.nc),_.nc=!1))}),yield ol(t,s,e)}catch(s){yield ss(s)}}),m_.apply(this,arguments)}function nm(i,e,t){const s=An(i);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const l=[];s.ic.forEach((d,_)=>{const S=_.view.bu(e);S.snapshot&&l.push(S.snapshot)}),function(d,_){const S=An(d);S.onlineState=_;let q=!1;S.queries.forEach((se,Oe)=>{for(const mt of Oe.listeners)mt.bu(_)&&(q=!0)}),q&&Jp(S)}(s.eventManager,e),l.length&&s.sc.Wo(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function im(i,e,t){return rm.apply(this,arguments)}function rm(){return rm=(0,B.Z)(function*(i,e,t){const s=An(i);s.sharedClientState.updateQueryState(e,"rejected",t);const l=s.cc.get(e),d=l&&l.key;if(d){let _=new Qr(Ct.comparator);_=_.insert(d,as.newNoDocument(d,L.min()));const S=Hi().add(d),q=new ba(L.min(),new Map,new Sr(vi),_,S);yield p_(s,q),s.uc=s.uc.remove(d),s.cc.delete(e),um(s)}else yield nu(s.localStore,e,!1).then(()=>sl(s,e,t)).catch(ss)}),rm.apply(this,arguments)}function sm(i,e){return om.apply(this,arguments)}function om(){return om=(0,B.Z)(function*(i,e){const t=An(i),s=e.batch.batchId;try{const l=yield Rp(t.localStore,e);Ku(t,s,null),cm(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield ol(t,l)}catch(l){yield ss(l)}}),om.apply(this,arguments)}function Ny(i,e,t){return am.apply(this,arguments)}function am(){return am=(0,B.Z)(function*(i,e,t){const s=An(i);try{const l=yield function(d,_){const S=An(d);return S.persistence.runTransaction("Reject batch","readwrite-primary",q=>{let se;return S.mutationQueue.lookupMutationBatch(q,_).next(Oe=>(On(null!==Oe),se=Oe.keys(),S.mutationQueue.removeMutationBatch(q,Oe))).next(()=>S.mutationQueue.performConsistencyCheck(q)).next(()=>S.documentOverlayCache.removeOverlaysForBatchId(q,se,_)).next(()=>S.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(q,se)).next(()=>S.localDocuments.getDocuments(q,se))})}(s.localStore,e);Ku(s,e,t),cm(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield ol(s,l)}catch(l){yield ss(l)}}),am.apply(this,arguments)}function lm(){return lm=(0,B.Z)(function*(i,e){const t=An(i);rl(t.remoteStore)||cn("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(d){const _=An(d);return _.persistence.runTransaction("Get highest unacknowledged batch id","readonly",S=>_.mutationQueue.getHighestUnacknowledgedBatchId(S))}(t.localStore);if(-1===s)return void e.resolve();const l=t.lc.get(s)||[];l.push(e),t.lc.set(s,l)}catch(s){const l=$u(s,"Initialization of waitForPendingWrites() operation failed");e.reject(l)}}),lm.apply(this,arguments)}function cm(i,e){(i.lc.get(e)||[]).forEach(t=>{t.resolve()}),i.lc.delete(e)}function Ku(i,e,t){const s=An(i);let l=s.hc[s.currentUser.toKey()];if(l){const d=l.get(e);d&&(t?d.reject(t):d.resolve(),l=l.remove(e)),s.hc[s.currentUser.toKey()]=l}}function sl(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.rc.get(e))i.ic.delete(s),t&&i.sc.wc(s,t);i.rc.delete(e),i.isPrimaryClient&&i.ac.ls(e).forEach(s=>{i.ac.containsKey(s)||g_(i,s)})}function g_(i,e){i.oc.delete(e.path.canonicalString());const t=i.uc.get(e);null!==t&&(ru(i.remoteStore,t),i.uc=i.uc.remove(e),i.cc.delete(t),um(i))}function su(i,e,t){for(const s of t)s instanceof l_?(i.ac.addReference(s.key,e),Vy(i,s)):s instanceof Ry?(cn("SyncEngine","Document no longer in limbo: "+s.key),i.ac.removeReference(s.key,e),i.ac.containsKey(s.key)||g_(i,s.key)):Hn()}function Vy(i,e){const t=e.key,s=t.path.canonicalString();i.uc.get(t)||i.oc.has(s)||(cn("SyncEngine","New document in limbo: "+t),i.oc.add(s),um(i))}function um(i){for(;i.oc.size>0&&i.uc.size<i.maxConcurrentLimboResolutions;){const e=i.oc.values().next().value;i.oc.delete(e);const t=new Ct(ge.fromString(e)),s=i.fc.next();i.cc.set(s,new Fy(t)),i.uc=i.uc.insert(t,s),qh(i.remoteStore,new sc(fo(As(t.path)),s,2,Ls.at))}}function ol(i,e,t){return Wa.apply(this,arguments)}function Wa(){return Wa=(0,B.Z)(function*(i,e,t){const s=An(i),l=[],d=[],_=[];var S;s.ic.isEmpty()||(s.ic.forEach((S,q)=>{_.push(s._c(q,e,t).then(se=>{if((se||t)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(q.targetId,(null==se?void 0:se.fromCache)?"not-current":"current"),se){l.push(se);const Oe=eu.Ci(q.targetId,se);d.push(Oe)}}))}),yield Promise.all(_),s.sc.Wo(l),yield(S=(0,B.Z)(function*(q,se){const Oe=An(q);try{yield Oe.persistence.runTransaction("notifyLocalViewChanges","readwrite",mt=>Jt.forEach(se,Yt=>Jt.forEach(Yt.Si,gn=>Oe.persistence.referenceDelegate.addReference(mt,Yt.targetId,gn)).next(()=>Jt.forEach(Yt.Di,gn=>Oe.persistence.referenceDelegate.removeReference(mt,Yt.targetId,gn)))))}catch(mt){if(!xa(mt))throw mt;cn("LocalStore","Failed to update sequence numbers: "+mt)}for(const mt of se){const Yt=mt.targetId;if(!mt.fromCache){const gn=Oe.qi.get(Yt),Yn=gn.withLastLimboFreeSnapshotVersion(gn.snapshotVersion);Oe.qi=Oe.qi.insert(Yt,Yn)}}}),function(q,se){return S.apply(this,arguments)})(s.localStore,d))}),Wa.apply(this,arguments)}function qd(i,e){return Do.apply(this,arguments)}function Do(){return Do=(0,B.Z)(function*(i,e){const t=An(i);if(!t.currentUser.isEqual(e)){cn("SyncEngine","User change. New user:",e.toKey());const s=yield Op(t.localStore,e);t.currentUser=e,(l=t).lc.forEach(_=>{_.forEach(S=>{S.reject(new yn(Zt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.lc.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield ol(t,s.ji)}var l}),Do.apply(this,arguments)}function ou(i,e){const t=An(i),s=t.cc.get(e);if(s&&s.nc)return Hi().add(s.key);{let l=Hi();const d=t.rc.get(e);if(!d)return l;for(const _ of d){const S=t.ic.get(_);l=l.unionWith(S.view.ju)}return l}}function hf(i,e){return Ma.apply(this,arguments)}function Ma(){return Ma=(0,B.Z)(function*(i,e){const t=An(i),s=yield Wh(t.localStore,e.query,!0),l=e.view.tc(s);return t.isPrimaryClient&&su(t,e.targetId,l.Xu),l}),Ma.apply(this,arguments)}function dm(i,e){return mc.apply(this,arguments)}function mc(){return mc=(0,B.Z)(function*(i,e){const t=An(i);return Hg(t.localStore,e).then(s=>ol(t,s))}),mc.apply(this,arguments)}function Zu(i,e,t,s){return gc.apply(this,arguments)}function gc(){return gc=(0,B.Z)(function*(i,e,t,s){const l=An(i),d=yield function(_,S){const q=An(_),se=An(q.mutationQueue);return q.persistence.runTransaction("Lookup mutation documents","readonly",Oe=>se.Tn(Oe,S).next(mt=>mt?q.localDocuments.getDocuments(Oe,mt):Jt.resolve(null)))}(l.localStore,e);var S;null!==d?("pending"===t?yield ju(l.remoteStore):"acknowledged"===t||"rejected"===t?(Ku(l,e,s||null),cm(l,e),S=e,An(An(l.localStore).mutationQueue).An(S)):Hn(),yield ol(l,d)):cn("SyncEngine","Cannot apply mutation batch with id: "+e)}),gc.apply(this,arguments)}function _c(){return _c=(0,B.Z)(function*(i,e){const t=An(i);if(mf(t),gf(t),!0===e&&!0!==t.dc){const s=t.sharedClientState.getAllActiveQueryTargets(),l=yield au(t,s.toArray());t.dc=!0,yield hc(t.remoteStore,!0);for(const d of l)qh(t.remoteStore,d)}else if(!1===e&&!1!==t.dc){const s=[];let l=Promise.resolve();t.rc.forEach((d,_)=>{t.sharedClientState.isLocalQueryTarget(_)?s.push(_):l=l.then(()=>(sl(t,_),nu(t.localStore,_,!0))),ru(t.remoteStore,_)}),yield l,yield au(t,s),function(d){const _=An(d);_.cc.forEach((S,q)=>{ru(_.remoteStore,q)}),_.ac.fs(),_.cc=new Map,_.uc=new Qr(Ct.comparator)}(t),t.dc=!1,yield hc(t.remoteStore,!1)}}),_c.apply(this,arguments)}function au(i,e,t){return vc.apply(this,arguments)}function vc(){return vc=(0,B.Z)(function*(i,e,t){const s=An(i),l=[],d=[];for(const _ of e){let S;const q=s.rc.get(_);if(q&&0!==q.length){S=yield Gd(s.localStore,fo(q[0]));for(const se of q){const Oe=s.ic.get(se),mt=yield hf(s,Oe);mt.snapshot&&d.push(mt.snapshot)}}else{const se=yield Fp(s.localStore,_);S=yield Gd(s.localStore,se),yield Va(s,lu(se),_,!1,S.resumeToken)}l.push(S)}return s.sc.Wo(d),l}),vc.apply(this,arguments)}function lu(i){return ad(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function Qu(i){const e=An(i);return An(An(e.localStore).persistence).vi()}function __(i,e,t,s){return ff.apply(this,arguments)}function ff(){return ff=(0,B.Z)(function*(i,e,t,s){const l=An(i);if(l.dc)return void cn("SyncEngine","Ignoring unexpected query state notification.");const d=l.rc.get(e);if(d&&d.length>0)switch(t){case"current":case"not-current":{const _=yield Hg(l.localStore,vu(d[0])),S=ba.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,os.EMPTY_BYTE_STRING);yield ol(l,_,S);break}case"rejected":yield nu(l.localStore,e,!0),sl(l,e,s);break;default:Hn()}}),ff.apply(this,arguments)}function v_(i,e,t){return pf.apply(this,arguments)}function pf(){return pf=(0,B.Z)(function*(i,e,t){const s=mf(i);if(s.dc){for(const l of e){if(s.rc.has(l)){cn("SyncEngine","Adding an already active target "+l);continue}const d=yield Fp(s.localStore,l),_=yield Gd(s.localStore,d);yield Va(s,lu(d),_.targetId,!1,_.resumeToken),qh(s.remoteStore,_)}for(const l of t)s.rc.has(l)&&(yield nu(s.localStore,l,!1).then(()=>{ru(s.remoteStore,l),sl(s,l)}).catch(ss))}}),pf.apply(this,arguments)}function mf(i){const e=An(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=p_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ou.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=im.bind(null,e),e.sc.Wo=Ay.bind(null,e.eventManager),e.sc.wc=ky.bind(null,e.eventManager),e}function gf(i){const e=An(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sm.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ny.bind(null,e),e}class hm{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,B.Z)(function*(){t.yt=Ea(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return kp(this.persistence,new tu,e.initialUser,this.yt)}yc(e){return new Ng(zh.Bs,this.yt)}gc(e){return new Hp}terminate(){var e=this;return(0,B.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class fm extends hm{constructor(e,t,s){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,s=this;return(0,B.Z)(function*(){yield t().call(s,e),yield s.Ac.initialize(s,e),yield gf(s.Ac.syncEngine),yield ju(s.Ac.remoteStore),yield s.persistence.li(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return kp(this.persistence,new tu,e.initialUser,this.yt)}Tc(e,t){return new Rg(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const s=new Th(t,this.persistence);return new Ih(e.asyncQueue,s)}yc(e){const t=dc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Lo.withCacheSize(this.cacheSizeBytes):Lo.DEFAULT;return new Jc(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,Gp(),Zh(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new Hp}}class By extends fm{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,s=this;return(0,B.Z)(function*(){yield t().call(s,e);const l=s.Ac.syncEngine;s.sharedClientState instanceof Up&&(s.sharedClientState.syncEngine={Fr:Zu.bind(null,l),$r:__.bind(null,l),Br:v_.bind(null,l),vi:Qu.bind(null,l),Mr:dm.bind(null,l)},yield s.sharedClientState.start()),yield s.persistence.li(function(){var d=(0,B.Z)(function*(_){yield function qu(i,e){return _c.apply(this,arguments)}(s.Ac.syncEngine,_),s.gcScheduler&&(_&&!s.gcScheduler.started?s.gcScheduler.start():_||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(_&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():_||s.indexBackfillerScheduler.stop())});return function(_){return d.apply(this,arguments)}}())})()}gc(e){const t=Gp();if(!Up.C(t))throw new yn(Zt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=dc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Up(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class _f{initialize(e,t){var s=this;return(0,B.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=l=>nm(s.syncEngine,l,1),s.remoteStore.remoteSyncer.handleCredentialChange=qd.bind(null,s.syncEngine),yield hc(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Xp}createDatastore(e){const t=Ea(e.databaseInfo.databaseId),s=new $g(e.databaseInfo);return new Wg(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,l=e.asyncQueue,d=S=>nm(this.syncEngine,S,0),_=jp.C()?new jp:new Cy,new $p(t,s,l,d,_);var t,s,l,d,_}createSyncEngine(e,t){return function(s,l,d,_,S,q,se){const Oe=new c_(s,l,d,_,S,q);return se&&(Oe.dc=!0),Oe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,B.Z)(function*(t){const s=An(t);cn("RemoteStore","RemoteStore shutting down."),s._u.add(5),yield Nl(s),s.mu.shutdown(),s.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function pm(i,e,t){if(!t)throw new yn(Zt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function mm(i,e,t,s){if(!0===e&&!0===s)throw new yn(Zt.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function gm(i){if(!Ct.isDocumentKey(i))throw new yn(Zt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function b_(i){if(Ct.isDocumentKey(i))throw new yn(Zt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function vf(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":Hn()}function cr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new yn(Zt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=vf(i);throw new yn(Zt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function C_(i,e){if(e<=0)throw new yn(Zt.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}const _m=new Map;class w_{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new yn(Zt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new yn(Zt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,mm("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qd{constructor(e,t,s,l){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new w_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new yn(Zt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new yn(Zt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new w_(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new jo;switch(t.type){case"gapi":return new da(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new yn(Zt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=_m.get(e);t&&(cn("ComponentProvider","Removing Datastore"),_m.delete(e),t.terminate())}(this),Promise.resolve()}}class gs{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ka(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gs(this.firestore,e,this._key)}}class mo{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new mo(this.firestore,e,this._query)}}class Ka extends mo{constructor(e,t,s){super(e,t,As(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gs(this.firestore,null,new Ct(e))}withConverter(e){return new Ka(this.firestore,e,this._path)}}function D_(i,e,...t){if(i=(0,Fe.m9)(i),pm("collection","path",e),i instanceof Qd){const s=ge.fromString(e,...t);return b_(s),new Ka(i,null,s)}{if(!(i instanceof gs||i instanceof Ka))throw new yn(Zt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ge.fromString(e,...t));return b_(s),new Ka(i.firestore,null,s)}}function vm(i,e,...t){if(i=(0,Fe.m9)(i),1===arguments.length&&(e=Dl.R()),pm("doc","path",e),i instanceof Qd){const s=ge.fromString(e,...t);return gm(s),new gs(i,null,new Ct(s))}{if(!(i instanceof gs||i instanceof Ka))throw new yn(Zt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ge.fromString(e,...t));return gm(s),new gs(i.firestore,i instanceof Ka?i.converter:null,new Ct(s))}}function Hy(i,e){return i=(0,Fe.m9)(i),e=(0,Fe.m9)(e),(i instanceof gs||i instanceof Ka)&&(e instanceof gs||e instanceof Ka)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function ym(i,e){return i=(0,Fe.m9)(i),e=(0,Fe.m9)(e),i instanceof mo&&e instanceof mo&&i.firestore===e.firestore&&Kl(i._query,e._query)&&i.converter===e.converter}function bm(i,e=10240){let t=0;return{read:()=>(0,B.Z)(function*(){if(t<i.byteLength){const s={value:i.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})(),cancel:()=>(0,B.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Cm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):dr("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class jy{constructor(e,t){this.Pc=e,this.yt=t,this.metadata=new qr,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(s=>{s&&s.Ou()?this.metadata.resolve(s.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.ku)}`))},s=>this.metadata.reject(s))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,B.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,B.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,B.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const s=e.vc.decode(t),l=Number(s);isNaN(l)&&e.Dc(`length string (${s}) is not valid number`);const d=yield e.Cc(l);return new s_(JSON.parse(d),t.length+l)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,B.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),s})()}Cc(e){var t=this;return(0,B.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const s=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),s})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,B.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const s=new Uint8Array(e.buffer.length+t.value.length);s.set(e.buffer),s.set(t.value,e.buffer.length),e.buffer=s}return t.done})()}}class zy{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,B.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new yn(Zt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(l=(0,B.Z)(function*(d,_){const S=An(d),q=ra(S.yt)+"/documents",se={documents:_.map(gn=>io(S.yt,gn))},Oe=yield S._o("BatchGetDocuments",q,se,_.length),mt=new Map;Oe.forEach(gn=>{const Dn=function gp(i,e){return"found"in e?function(t,s){On(!!s.found);const l=Ca(t,s.found.name),d=xr(s.found.updateTime),_=s.found.createTime?xr(s.found.createTime):L.min(),S=new ho({mapValue:{fields:s.found.fields}});return as.newFoundDocument(l,d,_,S)}(i,e):"missing"in e?function(t,s){On(!!s.missing),On(!!s.readTime);const l=Ca(t,s.missing),d=xr(s.readTime);return as.newNoDocument(l,d)}(i,e):Hn()}(S.yt,gn);mt.set(Dn.key.toString(),Dn)});const Yt=[];return _.forEach(gn=>{const Dn=mt.get(gn.toString());On(!!Dn),Yt.push(Dn)}),Yt}),function(d,_){return l.apply(this,arguments)})(t.datastore,e);var l;return s.forEach(l=>t.recordVersion(l)),s})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Jl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,B.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var s;e.mutations.forEach(s=>{t.delete(s.key.toString())}),t.forEach((s,l)=>{const d=Ct.fromPath(l);e.mutations.push(new Du(d,e.precondition(d)))}),yield(s=(0,B.Z)(function*(l,d){const _=An(l),S=ra(_.yt)+"/documents",q={writes:d.map(se=>Su(_.yt,se))};yield _.ao("Commit",S,q)}),function(l,d){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Hn();t=L.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new yn(Zt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(L.min())?ls.exists(!1):ls.updateTime(t):ls.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(L.min()))throw new yn(Zt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ls.updateTime(t)}return ls.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class M_{constructor(e,t,s,l,d){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=l,this.deferred=d,this.kc=s.maxAttempts,this.xo=new $d(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,B.Z)(function*(){const t=new zy(e.datastore),s=e.Mc(t);s&&s.then(l=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(l)}).catch(d=>{e.Fc(d)}))}).catch(l=>{e.Fc(l)})}))}Mc(e){try{const t=this.updateFunction(e);return!Qa(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!bd(t)}return!1}}class yf{constructor(e,t,s,l){var d=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=l,this.user=di.UNAUTHENTICATED,this.clientId=Dl.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var _=(0,B.Z)(function*(S){cn("FirestoreClient","Received user=",S.uid),yield d.authCredentialListener(S),d.user=S});return function(S){return _.apply(this,arguments)}}()),this.appCheckCredentials.start(s,_=>(cn("FirestoreClient","Received new app check token=",_),this.appCheckCredentialListener(_,this.user)))}getConfiguration(){var e=this;return(0,B.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new yn(Zt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,B.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const l=$u(s,"Failed to shutdown persistence");t.reject(l)}})),t.promise}}function I_(i,e){return bf.apply(this,arguments)}function bf(){return bf=(0,B.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),cn("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(function(){var l=(0,B.Z)(function*(d){s.isEqual(d)||(yield Op(e.localStore,d),s=d)});return function(d){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),bf.apply(this,arguments)}function T_(i,e){return wm.apply(this,arguments)}function wm(){return wm=(0,B.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield Dm(i);cn("FirestoreClient","Initializing OnlineComponentProvider");const s=yield i.getConfiguration();yield e.initialize(t,s),i.setCredentialChangeListener(l=>i_(e.remoteStore,l)),i.setAppCheckTokenChangeListener((l,d)=>i_(e.remoteStore,d)),i.onlineComponents=e}),wm.apply(this,arguments)}function Dm(i){return Em.apply(this,arguments)}function Em(){return Em=(0,B.Z)(function*(i){return i.offlineComponents||(cn("FirestoreClient","Using default OfflineComponentProvider"),yield I_(i,new hm)),i.offlineComponents}),Em.apply(this,arguments)}function Cf(i){return wf.apply(this,arguments)}function wf(){return wf=(0,B.Z)(function*(i){return i.onlineComponents||(cn("FirestoreClient","Using default OnlineComponentProvider"),yield T_(i,new _f)),i.onlineComponents}),wf.apply(this,arguments)}function S_(i){return Dm(i).then(e=>e.persistence)}function Jd(i){return Dm(i).then(e=>e.localStore)}function Df(i){return Cf(i).then(e=>e.remoteStore)}function eh(i){return Cf(i).then(e=>e.syncEngine)}function yc(i){return Mm.apply(this,arguments)}function Mm(){return Mm=(0,B.Z)(function*(i){const e=yield Cf(i),t=e.eventManager;return t.onListen=u_.bind(null,e.syncEngine),t.onUnlisten=iC.bind(null,e.syncEngine),t}),Mm.apply(this,arguments)}function Ef(i,e,t={}){const s=new qr;return i.asyncQueue.enqueueAndForget((0,B.Z)(function*(){return function(l,d,_,S,q){const se=new Cm({next:mt=>{d.enqueueAndForget(()=>lf(l,Oe));const Yt=mt.docs.has(_);!Yt&&mt.fromCache?q.reject(new yn(Zt.UNAVAILABLE,"Failed to get document because the client is offline.")):Yt&&mt.fromCache&&S&&"server"===S.source?q.reject(new yn(Zt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):q.resolve(mt)},error:mt=>q.reject(mt)}),Oe=new em(As(_.path),se,{includeMetadataChanges:!0,Nu:!0});return sf(l,Oe)}(yield yc(i),i.asyncQueue,e,t,s)})),s.promise}function A_(i,e,t={}){const s=new qr;return i.asyncQueue.enqueueAndForget((0,B.Z)(function*(){return function(l,d,_,S,q){const se=new Cm({next:mt=>{d.enqueueAndForget(()=>lf(l,Oe)),mt.fromCache&&"server"===S.source?q.reject(new yn(Zt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):q.resolve(mt)},error:mt=>q.reject(mt)}),Oe=new em(_,se,{includeMetadataChanges:!0,Nu:!0});return sf(l,Oe)}(yield yc(i),i.asyncQueue,e,t,s)})),s.promise}class oC{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new $d(this,"async_queue_retry"),this.Wc=()=>{const t=Zh();t&&cn("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=Zh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=Zh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new qr;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,B.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!xa(t))throw t;cn("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(s=>{throw this.Kc=s,this.Gc=!1,dr("INTERNAL UNHANDLED ERROR: ",function(d){let _=d.message||"";return d.stack&&(_=d.stack.includes(d.message)?d.stack:d.message+"\n"+d.stack),_}(s)),s}).then(s=>(this.Gc=!1,s))));return this.Bc=t,t}enqueueAfterDelay(e,t,s){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const l=pc.createAndSchedule(this,e,t,s,d=>this.Yc(d));return this.Uc.push(l),l}zc(){this.Kc&&Hn()}verifyOperationInProgress(){}Xc(){var e=this;return(0,B.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function Sm(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const l of["next","error","complete"])if(l in s&&"function"==typeof s[l])return!0;return!1}(i)}class Tf{constructor(){this._progressObserver={},this._taskCompletionResolver=new qr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class cs extends Qd{constructor(e,t,s,l){super(e,t,s,l),this.type="firestore",this._queue=new oC,this._persistenceKey=(null==l?void 0:l.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||xm(this),this._firestoreClient.terminate()}}function Us(i){return i._firestoreClient||xm(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function xm(i){var e;const t=i._freezeSettings(),s=(d=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new zl(i._databaseId,d,i._persistenceKey,(S=t).host,S.ssl,S.experimentalForceLongPolling,S.experimentalAutoDetectLongPolling,S.useFetchStreams));var d,S;i._firestoreClient=new yf(i._authCredentials,i._appCheckCredentials,i._queue,s)}function O_(i,e,t){const s=new qr;return i.asyncQueue.enqueue((0,B.Z)(function*(){try{yield I_(i,t),yield T_(i,e),s.resolve()}catch(l){const d=l;if(!("FirebaseError"===(_=d).name?_.code===Zt.FAILED_PRECONDITION||_.code===Zt.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&_ instanceof DOMException)||22===_.code||20===_.code||11===_.code))throw d;Ao("Error enabling offline persistence. Falling back to persistence disabled: "+d),s.reject(d)}var _})).then(()=>s.promise)}function Rm(i){if(i._initialized||i._terminated)throw new yn(Zt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Za{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Za(os.fromBase64String(e))}catch(t){throw new yn(Zt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Za(os.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class bl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new yn(Zt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class bc{constructor(e){this._methodName=e}}class nh{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new yn(Zt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new yn(Zt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return vi(this._lat,e._lat)||vi(this._long,e._long)}}const V_=/^__.*__$/;class B_{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new za(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ko(e,this.data,t,this.fieldTransforms)}}class Pm{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new za(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Fm(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Hn()}}class Nm{constructor(e,t,s,l,d,_){this.settings=e,this.databaseId=t,this.yt=s,this.ignoreUndefinedProperties=l,void 0===d&&this.na(),this.fieldTransforms=d||[],this.fieldMask=_||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new Nm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.ia({path:s,oa:!1});return l.ua(e),l}ca(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.ia({path:s,oa:!1});return l.na(),l}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return Xu(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(Fm(this.sa)&&V_.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class Ky{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=s||Ea(e)}da(e,t,s,l=!1){return new Nm({sa:e,methodName:t,fa:s,path:ht.emptyPath(),oa:!1,la:l},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function cu(i){const e=i._freezeSettings(),t=Ea(i._databaseId);return new Ky(i._databaseId,!!e.ignoreUndefinedProperties,t)}function ih(i,e,t,s,l,d={}){const _=i.da(d.merge||d.mergeFields?2:0,e,t,l);kf("Data must be an object, but it was:",_,s);const S=H_(s,_);let q,se;if(d.merge)q=new uo(_.fieldMask),se=_.fieldTransforms;else if(d.mergeFields){const Oe=[];for(const mt of d.mergeFields){const Yt=Bm(e,mt,t);if(!_.contains(Yt))throw new yn(Zt.INVALID_ARGUMENT,`Field '${Yt}' is specified in your field mask but missing from your input data.`);Of(Oe,Yt)||Oe.push(Yt)}q=new uo(Oe),se=_.fieldTransforms.filter(mt=>q.covers(mt.field))}else q=null,se=_.fieldTransforms;return new B_(new ho(S),q,se)}class rh extends bc{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof rh}}function ro(i,e,t){return new Nm({sa:3,fa:e.settings.fa,methodName:i._methodName,oa:t},e.databaseId,e.yt,e.ignoreUndefinedProperties)}class xf extends bc{_toFieldTransform(e){return new Pc(e.path,new Ga)}isEqual(e){return e instanceof xf}}class Zy extends bc{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=ro(this,e,!0),s=this._a.map(d=>qa(d,t)),l=new No(s);return new Pc(e.path,l)}isEqual(e){return this===e}}class qy extends bc{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=ro(this,e,!0),s=this._a.map(d=>qa(d,t)),l=new kl(s);return new Pc(e.path,l)}isEqual(e){return this===e}}class U_ extends bc{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new Xl(e.yt,pd(e.yt,this.wa));return new Pc(e.path,t)}isEqual(e){return this===e}}function Lm(i,e,t,s){const l=i.da(1,e,t);kf("Data must be an object, but it was:",l,s);const d=[],_=ho.empty();Ro(s,(q,se)=>{const Oe=Um(e,q,t);se=(0,Fe.m9)(se);const mt=l.ca(Oe);if(se instanceof rh)d.push(Oe);else{const Yt=qa(se,mt);null!=Yt&&(d.push(Oe),_.set(Oe,Yt))}});const S=new uo(d);return new Pm(_,S,l.fieldTransforms)}function Af(i,e,t,s,l,d){const _=i.da(1,e,t),S=[Bm(e,s,t)],q=[l];if(d.length%2!=0)throw new yn(Zt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Yt=0;Yt<d.length;Yt+=2)S.push(Bm(e,d[Yt])),q.push(d[Yt+1]);const se=[],Oe=ho.empty();for(let Yt=S.length-1;Yt>=0;--Yt)if(!Of(se,S[Yt])){const gn=S[Yt];let Dn=q[Yt];Dn=(0,Fe.m9)(Dn);const Yn=_.ca(gn);if(Dn instanceof rh)se.push(gn);else{const pi=qa(Dn,Yn);null!=pi&&(se.push(gn),Oe.set(gn,pi))}}const mt=new uo(se);return new Pm(Oe,mt,_.fieldTransforms)}function Vm(i,e,t,s=!1){return qa(t,i.da(s?4:3,e))}function qa(i,e){if(j_(i=(0,Fe.m9)(i)))return kf("Unsupported field value:",e,i),H_(i,e);if(i instanceof bc)return function(t,s){if(!Fm(s.sa))throw s.ha(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s.ha(`${t._methodName}() is not currently supported inside arrays`);const l=t._toFieldTransform(s);l&&s.fieldTransforms.push(l)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,s){const l=[];let d=0;for(const _ of t){let S=qa(_,s.aa(d));null==S&&(S={nullValue:"NULL_VALUE"}),l.push(S),d++}return{arrayValue:{values:l}}}(i,e)}return function(t,s){if(null===(t=(0,Fe.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return pd(s.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const l=E.fromDate(t);return{timestampValue:ia(s.yt,l)}}if(t instanceof E){const l=new E(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ia(s.yt,l)}}if(t instanceof nh)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Za)return{bytesValue:Dd(s.yt,t._byteString)};if(t instanceof gs){const l=s.databaseId,d=t.firestore._databaseId;if(!d.isEqual(l))throw s.ha(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:_l(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s.ha(`Unsupported field value: ${vf(t)}`)}(i,e)}function H_(i,e){const t={};return El(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ro(i,(s,l)=>{const d=qa(l,e.ra(s));null!=d&&(t[s]=d)}),{mapValue:{fields:t}}}function j_(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof E||i instanceof nh||i instanceof Za||i instanceof gs||i instanceof bc)}function kf(i,e,t){if(!j_(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=vf(t);throw e.ha("an object"===s?i+" a custom object":i+" "+s)}var s}function Bm(i,e,t){if((e=(0,Fe.m9)(e))instanceof bl)return e._internalPath;if("string"==typeof e)return Um(i,e);throw Xu("Field path arguments must be of type string or ",i,!1,void 0,t)}const G_=new RegExp("[~\\*/\\[\\]]");function Um(i,e,t){if(e.search(G_)>=0)throw Xu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new bl(...e.split("."))._internalPath}catch(s){throw Xu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Xu(i,e,t,s,l){const d=s&&!s.isEmpty(),_=void 0!==l;let S=`Function ${e}() called with invalid data`;t&&(S+=" (via `toFirestore()`)"),S+=". ";let q="";return(d||_)&&(q+=" (found",d&&(q+=` in field ${s}`),_&&(q+=` in document ${l}`),q+=")"),new yn(Zt.INVALID_ARGUMENT,S+i+q)}function Of(i,e){return i.some(t=>t.isEqual(e))}class Ia{constructor(e,t,s,l,d){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=l,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new gs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Qy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(sh("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Qy extends Ia{data(){return super.data()}}function sh(i,e){return"string"==typeof e?Um(i,e):e instanceof bl?e._internalPath:e._delegate._internalPath}function al(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new yn(Zt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ba{}class sa extends Ba{}function Ll(i,e,...t){let s=[];e instanceof Ba&&s.push(e),s=s.concat(t),function(l){const d=l.filter(S=>S instanceof ed).length,_=l.filter(S=>S instanceof Ju).length;if(d>1||d>0&&_>0)throw new yn(Zt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const l of s)i=l._apply(i);return i}class Ju extends sa{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Ju(e,t,s)}_apply(e){const t=this._parse(e);return Hm(e._query,t),new mo(e.firestore,e.converter,_u(e._query,t))}_parse(e){const t=cu(e.firestore);return function(l,d,_,S,q,se,Oe){let mt;if(q.isKeyField()){if("array-contains"===se||"array-contains-any"===se)throw new yn(Zt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${se}' queries on documentId().`);if("in"===se||"not-in"===se){Lf(Oe,se);const Yt=[];for(const gn of Oe)Yt.push(ch(S,l,gn));mt={arrayValue:{values:Yt}}}else mt=ch(S,l,Oe)}else"in"!==se&&"not-in"!==se&&"array-contains-any"!==se||Lf(Oe,se),mt=Vm(_,"where",Oe,"in"===se||"not-in"===se);return G.create(q,se,mt)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class ed extends Ba{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ed(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===t.length?t[0]:he.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(s,l){let d=s;const _=l.getFlattenedFilters();for(const S of _)Hm(d,S),d=_u(d,S)}(e._query,t),new mo(e.firestore,e.converter,_u(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class oh extends sa{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new oh(e,t)}_apply(e){const t=function(s,l,d){if(null!==s.startAt)throw new yn(Zt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new yn(Zt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const _=new el(l,d);return function(S,q){if(null===Rc(S)){const se=gu(S);null!==se&&jm(0,se,q.field)}}(s,_),_}(e._query,this._field,this._direction);return new mo(e.firestore,e.converter,function(s,l){const d=s.explicitOrderBy.concat([l]);return new ja(s.path,s.collectionGroup,d,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}class Rf extends sa{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new Rf(e,t,s)}_apply(e){return new mo(e.firestore,e.converter,Wl(e._query,this._limit,this._limitType))}}class lh extends sa{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new lh(e,t,s)}_apply(e){const t=Nf(e,this.type,this._docOrFields,this._inclusive);return new mo(e.firestore,e.converter,(l=t,new ja((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,l,s.endAt)));var s,l}}class Ff extends sa{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new Ff(e,t,s)}_apply(e){const t=Nf(e,this.type,this._docOrFields,this._inclusive);return new mo(e.firestore,e.converter,(l=t,new ja((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,l)));var s,l}}function Nf(i,e,t,s){if(t[0]=(0,Fe.m9)(t[0]),t[0]instanceof Ia)return function(l,d,_,S,q){if(!S)throw new yn(Zt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${_}().`);const se=[];for(const Oe of pl(l))if(Oe.field.isKeyField())se.push(_a(d,S.key));else{const mt=S.data.field(Oe.field);if(Ml(mt))throw new yn(Zt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Oe.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===mt){const Yt=Oe.field.canonicalString();throw new yn(Zt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Yt}' (used as the orderBy) does not exist.`)}se.push(mt)}return new Nr(se,q)}(i._query,i.firestore._databaseId,e,t[0]._document,s);{const l=cu(i.firestore);return function(d,_,S,q,se,Oe){const mt=d.explicitOrderBy;if(se.length>mt.length)throw new yn(Zt.INVALID_ARGUMENT,`Too many arguments provided to ${q}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Yt=[];for(let gn=0;gn<se.length;gn++){const Dn=se[gn];if(mt[gn].field.isKeyField()){if("string"!=typeof Dn)throw new yn(Zt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${q}(), but got a ${typeof Dn}`);if(!ld(d)&&-1!==Dn.indexOf("/"))throw new yn(Zt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${q}() must be a plain document ID, but '${Dn}' contains a slash.`);const Yn=d.path.child(ge.fromString(Dn));if(!Ct.isDocumentKey(Yn))throw new yn(Zt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${q}() must result in a valid document path, but '${Yn}' is not because it contains an odd number of segments.`);const pi=new Ct(Yn);Yt.push(_a(_,pi))}else{const Yn=Vm(S,q,Dn);Yt.push(Yn)}}return new Nr(Yt,Oe)}(i._query,i.firestore._databaseId,l,e,t,s)}}function ch(i,e,t){if("string"==typeof(t=(0,Fe.m9)(t))){if(""===t)throw new yn(Zt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ld(e)&&-1!==t.indexOf("/"))throw new yn(Zt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(ge.fromString(t));if(!Ct.isDocumentKey(s))throw new yn(Zt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return _a(i,new Ct(s))}if(t instanceof gs)return _a(i,t._key);throw new yn(Zt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vf(t)}.`)}function Lf(i,e){if(!Array.isArray(i)||0===i.length)throw new yn(Zt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new yn(Zt.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Hm(i,e){if(e.isInequality()){const s=gu(i),l=e.field;if(null!==s&&!s.isEqual(l))throw new yn(Zt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${l.toString()}'`);const d=Rc(i);null!==d&&jm(0,l,d)}const t=function(s,l){for(const d of s)for(const _ of d.getFlattenedFilters())if(l.indexOf(_.op)>=0)return _.op;return null}(i.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new yn(Zt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function jm(i,e,t){if(!t.isEqual(e))throw new yn(Zt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Vf{convertValue(e,t="none"){switch(to(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes($o(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Hn()}}convertObject(e,t){const s={};return Ro(e.fields,(l,d)=>{s[l]=this.convertValue(d,t)}),s}convertGeoPoint(e){return new nh(gr(e.latitude),gr(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=fu(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(ma(e));default:return null}}convertTimestamp(e){const t=eo(e);return new E(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=ge.fromString(e);On(Ci(s));const l=new yr(s.get(1),s.get(3)),d=new Ct(s.popFirst(5));return l.isEqual(t)||dr(`Document ${d} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),d}}function uh(i,e,t){let s;return s=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,s}class K_ extends Vf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Za(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new gs(this.firestore,null,t)}}class Cc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Vl extends Ia{constructor(e,t,s,l,d,_){super(e,t,s,l,_),this._firestore=e,this._firestoreImpl=e,this.metadata=d}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new dh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(sh("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class dh extends Vl{data(e={}){return super.data(e)}}class wc{constructor(e,t,s,l){this._firestore=e,this._userDataWriter=t,this._snapshot=l,this.metadata=new Cc(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new dh(this._firestore,this._userDataWriter,s.key,s,new Cc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new yn(Zt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,l){if(s._snapshot.oldDocs.isEmpty()){let d=0;return s._snapshot.docChanges.map(_=>({type:"added",doc:new dh(s._firestore,s._userDataWriter,_.doc.key,_.doc,new Cc(s._snapshot.mutatedKeys.has(_.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:d++}))}{let d=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(_=>l||3!==_.type).map(_=>{const S=new dh(s._firestore,s._userDataWriter,_.doc.key,_.doc,new Cc(s._snapshot.mutatedKeys.has(_.doc.key),s._snapshot.fromCache),s.query.converter);let q=-1,se=-1;return 0!==_.type&&(q=d.indexOf(_.doc.key),d=d.delete(_.doc.key)),1!==_.type&&(d=d.add(_.doc),se=d.indexOf(_.doc.key)),{type:e0(_.type),doc:S,oldIndex:q,newIndex:se}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function e0(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Hn()}}function Z_(i,e){return i instanceof Vl&&e instanceof Vl?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof wc&&e instanceof wc&&i._firestore===e._firestore&&ym(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}class Dc extends Vf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Za(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new gs(this.firestore,null,t)}}function q_(i,e,t){i=cr(i,gs);const s=cr(i.firestore,cs),l=uh(i.converter,e,t);return uu(s,[ih(cu(s),"setDoc",i._key,l,null!==i.converter,t).toMutation(i._key,ls.none())])}function Q_(i,e,t,...s){i=cr(i,gs);const l=cr(i.firestore,cs),d=cu(l);let _;return _="string"==typeof(e=(0,Fe.m9)(e))||e instanceof bl?Af(d,"updateDoc",i._key,e,t,s):Lm(d,"updateDoc",i._key,e),uu(l,[_.toMutation(i._key,ls.exists(!0))])}function X_(i,...e){var t,s,l;i=(0,Fe.m9)(i);let d={includeMetadataChanges:!1},_=0;"object"!=typeof e[_]||Sm(e[_])||(d=e[_],_++);const S={includeMetadataChanges:d.includeMetadataChanges};if(Sm(e[_])){const mt=e[_];e[_]=null===(t=mt.next)||void 0===t?void 0:t.bind(mt),e[_+1]=null===(s=mt.error)||void 0===s?void 0:s.bind(mt),e[_+2]=null===(l=mt.complete)||void 0===l?void 0:l.bind(mt)}let q,se,Oe;if(i instanceof gs)se=cr(i.firestore,cs),Oe=As(i._key.path),q={next:mt=>{e[_]&&e[_](Bf(se,i,mt))},error:e[_+1],complete:e[_+2]};else{const mt=cr(i,mo);se=cr(mt.firestore,cs),Oe=mt._query;const Yt=new Dc(se);q={next:gn=>{e[_]&&e[_](new wc(se,Yt,mt,gn))},error:e[_+1],complete:e[_+2]},al(i._query)}return function(mt,Yt,gn,Dn){const Yn=new Cm(Dn),pi=new em(Yt,Yn,gn);return mt.asyncQueue.enqueueAndForget((0,B.Z)(function*(){return sf(yield yc(mt),pi)})),()=>{Yn.bc(),mt.asyncQueue.enqueueAndForget((0,B.Z)(function*(){return lf(yield yc(mt),pi)}))}}(Us(se),Oe,S,q)}function uu(i,e){return function(t,s){const l=new qr;return t.asyncQueue.enqueueAndForget((0,B.Z)(function*(){return function f_(i,e,t){return df.apply(this,arguments)}(yield eh(t),s,l)})),l.promise}(Us(i),e)}function Bf(i,e,t){const s=t.docs.get(e._key),l=new Dc(i);return new Vl(i,l,e._key,s,new Cc(t.hasPendingWrites,t.fromCache),e.converter)}const J_={maxAttempts:5};class zm{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=cu(e)}set(e,t,s){this._verifyNotCommitted();const l=Bl(e,this._firestore),d=uh(l.converter,t,s),_=ih(this._dataReader,"WriteBatch.set",l._key,d,null!==l.converter,s);return this._mutations.push(_.toMutation(l._key,ls.none())),this}update(e,t,s,...l){this._verifyNotCommitted();const d=Bl(e,this._firestore);let _;return _="string"==typeof(t=(0,Fe.m9)(t))||t instanceof bl?Af(this._dataReader,"WriteBatch.update",d._key,t,s,l):Lm(this._dataReader,"WriteBatch.update",d._key,t),this._mutations.push(_.toMutation(d._key,ls.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Bl(e,this._firestore);return this._mutations=this._mutations.concat(new Jl(t._key,ls.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new yn(Zt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Bl(i,e){if((i=(0,Fe.m9)(i)).firestore!==e)throw new yn(Zt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class ev extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=cu(e)}get(e){const t=Bl(e,this._firestore),s=new K_(this._firestore);return this._transaction.lookup([t._key]).then(l=>{if(!l||1!==l.length)return Hn();const d=l[0];if(d.isFoundDocument())return new Ia(this._firestore,s,d.key,d,t.converter);if(d.isNoDocument())return new Ia(this._firestore,s,t._key,null,t.converter);throw Hn()})}set(e,t,s){const l=Bl(e,this._firestore),d=uh(l.converter,t,s),_=ih(this._dataReader,"Transaction.set",l._key,d,null!==l.converter,s);return this._transaction.set(l._key,_),this}update(e,t,s,...l){const d=Bl(e,this._firestore);let _;return _="string"==typeof(t=(0,Fe.m9)(t))||t instanceof bl?Af(this._dataReader,"Transaction.update",d._key,t,s,l):Lm(this._dataReader,"Transaction.update",d._key,t),this._transaction.update(d._key,_),this}delete(e){const t=Bl(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Bl(e,this._firestore),s=new Dc(this._firestore);return super.get(e).then(l=>new Vl(this._firestore,s,t._key,l._document,new Cc(!1,!1),t.converter))}}function Ec(...i){return new Zy("arrayUnion",i)}function nv(...i){return new qy("arrayRemove",i)}!function(i,e=!0){Zi=re.SDK_VERSION,(0,re._registerComponent)(new xe.wA("firestore",(t,{instanceIdentifier:s,options:l})=>{const d=t.getProvider("app").getImmediate(),_=new cs(new ko(t.getProvider("auth-internal")),new wl(t.getProvider("app-check-internal")),function(S,q){if(!Object.prototype.hasOwnProperty.apply(S.options,["projectId"]))throw new yn(Zt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yr(S.options.projectId,q)}(d,s),d);return l=Object.assign({useFetchStreams:e},l),_._setSettings(l),_},"PUBLIC").setMultipleInstances(!0)),(0,re.registerVersion)(ui,"3.8.3",i),(0,re.registerVersion)(ui,"3.8.3","esm2017")}();const w0=(0,ye.u3)(nv,!0),Qm=(0,ye.u3)(Ec,!0);var F0=D(4986),sv=D(8306),$f=D(8996),Yf=D(9646),eg=D(8675),ov=D(4482),av=D(5403);function tg(){return(0,ov.e)((i,e)=>{let t,s=!1;i.subscribe((0,av.x)(e,l=>{const d=t;t=l,s&&e.next([d,l]),s=!0}))})}var ng=D(5026),N0=D(1884),Wf=D(9300),Kf=D(2011),V0=(D(407),D(3942));function ig(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new yn("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function lv(){if("undefined"==typeof Uint8Array)throw new yn("unimplemented","Uint8Arrays are not available in this environment.")}function cv(){if(!function dl(){return"undefined"!=typeof atob}())throw new yn("unimplemented","Blobs are unavailable in Firestore in this environment.")}class ph{constructor(e){this._delegate=e}static fromBase64String(e){return cv(),new ph(Za.fromBase64String(e))}static fromUint8Array(e){return lv(),new ph(Za.fromUint8Array(e))}toBase64(){return cv(),this._delegate.toBase64()}toUint8Array(){return lv(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function rg(i){return function uv(i,e){if("object"!=typeof i||null===i)return!1;const t=i;for(const s of e)if(s in t&&"function"==typeof t[s])return!0;return!1}(i,["next","error","complete"])}class dv{enableIndexedDbPersistence(e,t){return function Am(i,e){Rm(i=cr(i,cs));const t=Us(i),s=i._freezeSettings(),l=new _f;return O_(t,l,new fm(l,s.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function km(i){Rm(i=cr(i,cs));const e=Us(i),t=i._freezeSettings(),s=new _f;return O_(e,s,new By(s,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function R_(i){if(i._initialized&&!i._terminated)throw new yn(Zt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new qr;return i._queue.enqueueAndForgetEvenWhileRestricted((0,B.Z)(function*(){try{yield(t=(0,B.Z)(function*(s){if(!na.C())return Promise.resolve();const l=s+"main";yield na.delete(l)}),function(s){return t.apply(this,arguments)})(dc(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class hv{constructor(e,t,s){this._delegate=t,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof yr||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ao("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,s={}){!function Uy(i,e,t,s={}){var l;const d=(i=cr(i,Qd))._getSettings();if("firestore.googleapis.com"!==d.host&&d.host!==e&&Ao("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},d),{host:`${e}:${t}`,ssl:!1})),s.mockUserToken){let _,S;if("string"==typeof s.mockUserToken)_=s.mockUserToken,S=di.MOCK_USER;else{_=(0,Fe.Sg)(s.mockUserToken,null===(l=i._app)||void 0===l?void 0:l.options.projectId);const q=s.mockUserToken.sub||s.mockUserToken.user_id;if(!q)throw new yn(Zt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new di(q)}i._authCredentials=new rs(new ca(_,S))}}(this._delegate,e,t,s)}enableNetwork(){return function Om(i){return function sC(i){return i.asyncQueue.enqueue((0,B.Z)(function*(){const e=yield S_(i),t=yield Df(i);return e.setNetworkEnabled(!0),function(s){const l=An(s);return l._u.delete(0),Yd(l)}(t)}))}(Us(i=cr(i,cs)))}(this._delegate)}disableNetwork(){return function F_(i){return function th(i){return i.asyncQueue.enqueue((0,B.Z)(function*(){const e=yield S_(i),t=yield Df(i);return e.setNetworkEnabled(!1),(s=(0,B.Z)(function*(l){const d=An(l);d._u.add(0),yield Nl(d),d.gu.set("Offline")}),function(l){return s.apply(this,arguments)})(t);var s}))}(Us(i=cr(i,cs)))}(this._delegate)}enablePersistence(e){let t=!1,s=!1;return e&&(t=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,mm("synchronizeTabs",t,"experimentalForceOwningTab",s)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function P_(i){return function(e){const t=new qr;return e.asyncQueue.enqueueAndForget((0,B.Z)(function*(){return function Ly(i,e){return lm.apply(this,arguments)}(yield eh(e),t)})),t.promise}(Us(i=cr(i,cs)))}(this._delegate)}onSnapshotsInSync(e){return function u0(i,e){return function Mf(i,e){const t=new Cm(e);return i.asyncQueue.enqueueAndForget((0,B.Z)(function*(){return s=yield yc(i),l=t,An(s).Ru.add(l),void l.next();var s,l})),()=>{t.bc(),i.asyncQueue.enqueueAndForget((0,B.Z)(function*(){return s=yield yc(i),l=t,void An(s).Ru.delete(l);var s,l}))}}(Us(i=cr(i,cs)),Sm(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new yn("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new td(this,D_(this._delegate,e))}catch(t){throw Vo(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ta(this,vm(this._delegate,e))}catch(t){throw Vo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Bo(this,function rC(i,e){if(i=cr(i,Qd),pm("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new yn(Zt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new mo(i,null,(t=e,new ja(ge.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Vo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function tv(i,e,t){i=cr(i,cs);const s=Object.assign(Object.assign({},J_),t);return function(l){if(l.maxAttempts<1)throw new yn(Zt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(l,d,_){const S=new qr;return l.asyncQueue.enqueueAndForget((0,B.Z)(function*(){const q=yield function $y(i){return Cf(i).then(e=>e.datastore)}(l);new M_(l.asyncQueue,q,_,d,S).run()})),S.promise}(Us(i),l=>e(new ev(i,l)),s)}(this._delegate,t=>e(new pv(this,t)))}batch(){return Us(this._delegate),new mv(new zm(this._delegate,e=>uu(this._delegate,e)))}loadBundle(e){return function N_(i,e){const t=Us(i=cr(i,cs)),s=new Tf;return function If(i,e,t,s){const l=function(d,_){let S;return S="string"==typeof d?(new TextEncoder).encode(d):d,q=function(q,se){if(q instanceof Uint8Array)return bm(q,void 0);if(q instanceof ArrayBuffer)return bm(new Uint8Array(q),void 0);if(q instanceof ReadableStream)return q.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(S),new jy(q,_);var q}(t,Ea(e));i.asyncQueue.enqueueAndForget((0,B.Z)(function*(){!function y_(i,e,t){const s=An(i);var l;(l=(0,B.Z)(function*(d,_,S){try{const q=yield _.getMetadata();if(yield function(Yt,gn){const Dn=An(Yt),Yn=xr(gn.createTime);return Dn.persistence.runTransaction("hasNewerBundle","readonly",pi=>Dn.Ns.getBundleMetadata(pi,gn.id)).then(pi=>!!pi&&pi.createTime.compareTo(Yn)>=0)}(d.localStore,q))return yield _.close(),S._completeWith({taskState:"Success",documentsLoaded:(Yt=q).totalDocuments,bytesLoaded:Yt.totalBytes,totalDocuments:Yt.totalDocuments,totalBytes:Yt.totalBytes}),Promise.resolve(new Set);S._updateProgress(a_(q));const se=new o_(q,d.localStore,_.yt);let Oe=yield _.mc();for(;Oe;){const Yt=yield se.Fu(Oe);Yt&&S._updateProgress(Yt),Oe=yield _.mc()}const mt=yield se.complete();return yield ol(d,mt.Lu,void 0),yield function(Yt,gn){const Dn=An(Yt);return Dn.persistence.runTransaction("Save bundle","readwrite",Yn=>Dn.Ns.saveBundleMetadata(Yn,gn))}(d.localStore,q),S._completeWith(mt.progress),Promise.resolve(mt.Bu)}catch(q){return Ao("SyncEngine",`Loading bundle failed with ${q}`),S._failWith(q),Promise.resolve(new Set)}var Yt}),function(d,_,S){return l.apply(this,arguments)})(s,e,t).then(l=>{s.sharedClientState.notifyBundleLoaded(l)})}(yield eh(i),l,s)}))}(t,i._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function L_(i,e){return function Tm(i,e){return i.asyncQueue.enqueue((0,B.Z)(function*(){return function(t,s){const l=An(t);return l.persistence.runTransaction("Get named query","readonly",d=>l.Ns.getNamedQuery(d,s))}(yield Jd(i),e)}))}(Us(i=cr(i,cs)),e).then(t=>t?new mo(i,null,t.query):null)}(this._delegate,e).then(t=>t?new Bo(this,t):null)}}class Zf extends Vf{constructor(e){super(),this.firestore=e}convertBytes(e){return new ph(new Za(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ta.forKey(t,this.firestore,null)}}class pv{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Zf(e)}get(e){const t=Mc(e);return this._delegate.get(t).then(s=>new mh(this._firestore,new Vl(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,t.converter)))}set(e,t,s){const l=Mc(e);return s?(ig("Transaction.set",s),this._delegate.set(l,t,s)):this._delegate.set(l,t),this}update(e,t,s,...l){const d=Mc(e);return 2===arguments.length?this._delegate.update(d,t):this._delegate.update(d,t,s,...l),this}delete(e){const t=Mc(e);return this._delegate.delete(t),this}}class mv{constructor(e){this._delegate=e}set(e,t,s){const l=Mc(e);return s?(ig("WriteBatch.set",s),this._delegate.set(l,t,s)):this._delegate.set(l,t),this}update(e,t,s,...l){const d=Mc(e);return 2===arguments.length?this._delegate.update(d,t):this._delegate.update(d,t,s,...l),this}delete(e){const t=Mc(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class du{constructor(e,t,s){this._firestore=e,this._userDataWriter=t,this._delegate=s}fromFirestore(e,t){const s=new dh(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new gh(this._firestore,s),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const s=du.INSTANCES;let l=s.get(e);l||(l=new WeakMap,s.set(e,l));let d=l.get(t);return d||(d=new du(e,new Zf(e),t),l.set(t,d)),d}}du.INSTANCES=new WeakMap;class Ta{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Zf(e)}static forPath(e,t,s){if(e.length%2!=0)throw new yn("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ta(t,new gs(t._delegate,s,new Ct(e)))}static forKey(e,t,s){return new Ta(t,new gs(t._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new td(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new td(this.firestore,D_(this._delegate,e))}catch(t){throw Vo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Fe.m9)(e))instanceof gs&&Hy(this._delegate,e)}set(e,t){t=ig("DocumentReference.set",t);try{return t?q_(this._delegate,e,t):q_(this._delegate,e)}catch(s){throw Vo(s,"setDoc()","DocumentReference.set()")}}update(e,t,...s){try{return 1===arguments.length?Q_(this._delegate,e):Q_(this._delegate,e,t,...s)}catch(l){throw Vo(l,"updateDoc()","DocumentReference.update()")}}delete(){return function l0(i){return uu(cr(i.firestore,cs),[new Jl(i._key,ls.none())])}(this._delegate)}onSnapshot(...e){const t=sg(e),s=qf(e,l=>new mh(this.firestore,new Vl(this.firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,this._delegate.converter)));return X_(this._delegate,t,s)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function n0(i){i=cr(i,gs);const e=cr(i.firestore,cs),t=Us(e),s=new Dc(e);return function x_(i,e){const t=new qr;return i.asyncQueue.enqueueAndForget((0,B.Z)(function*(){return(s=(0,B.Z)(function*(l,d,_){try{const S=yield function(q,se){const Oe=An(q);return Oe.persistence.runTransaction("read document","readonly",mt=>Oe.localDocuments.getDocument(mt,se))}(l,d);S.isFoundDocument()?_.resolve(S):S.isNoDocument()?_.resolve(null):_.reject(new yn(Zt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(S){const q=$u(S,`Failed to get document '${d} from cache`);_.reject(q)}}),function(l,d,_){return s.apply(this,arguments)})(yield Jd(i),e,t);var s})),t.promise}(t,i._key).then(l=>new Vl(e,s,i._key,l,new Cc(null!==l&&l.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function r0(i){i=cr(i,gs);const e=cr(i.firestore,cs);return Ef(Us(e),i._key,{source:"server"}).then(t=>Bf(e,i,t))}(this._delegate):function t0(i){i=cr(i,gs);const e=cr(i.firestore,cs);return Ef(Us(e),i._key).then(t=>Bf(e,i,t))}(this._delegate),t.then(s=>new mh(this.firestore,new Vl(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new Ta(this.firestore,this._delegate.withConverter(e?du.getInstance(this.firestore,e):null))}}function Vo(i,e,t){return i.message=i.message.replace(e,t),i}function sg(i){for(const e of i)if("object"==typeof e&&!rg(e))return e;return{}}function qf(i,e){var t,s;let l;return l=rg(i[0])?i[0]:rg(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:d=>{l.next&&l.next(e(d))},error:null===(t=l.error)||void 0===t?void 0:t.bind(l),complete:null===(s=l.complete)||void 0===s?void 0:s.bind(l)}}class mh{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ta(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Z_(this._delegate,e._delegate)}}class gh extends mh{data(e){const t=this._delegate.data(e);return function is(i,e){i||Hn()}(void 0!==t),t}}class Bo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Zf(e)}where(e,t,s){try{return new Bo(this.firestore,Ll(this._delegate,function Xy(i,e,t){const s=e,l=sh("where",i);return Ju._create(l,s,t)}(e,t,s)))}catch(l){throw Vo(l,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Bo(this.firestore,Ll(this._delegate,function ah(i,e="asc"){const t=e,s=sh("orderBy",i);return oh._create(s,t)}(e,t)))}catch(s){throw Vo(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Bo(this.firestore,Ll(this._delegate,function z_(i){return C_("limit",i),Rf._create("limit",i,"F")}(e)))}catch(t){throw Vo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Bo(this.firestore,Ll(this._delegate,function Jy(i){return C_("limitToLast",i),Rf._create("limitToLast",i,"L")}(e)))}catch(t){throw Vo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Bo(this.firestore,Ll(this._delegate,function $_(...i){return lh._create("startAt",i,!0)}(...e)))}catch(t){throw Vo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Bo(this.firestore,Ll(this._delegate,function Pf(...i){return lh._create("startAfter",i,!1)}(...e)))}catch(t){throw Vo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Bo(this.firestore,Ll(this._delegate,function Y_(...i){return Ff._create("endBefore",i,!1)}(...e)))}catch(t){throw Vo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Bo(this.firestore,Ll(this._delegate,function W_(...i){return Ff._create("endAt",i,!0)}(...e)))}catch(t){throw Vo(t,"endAt()","Query.endAt()")}}isEqual(e){return ym(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function o0(i){i=cr(i,mo);const e=cr(i.firestore,cs),t=Us(e),s=new Dc(e);return function Im(i,e){const t=new qr;return i.asyncQueue.enqueueAndForget((0,B.Z)(function*(){return(s=(0,B.Z)(function*(l,d,_){try{const S=yield Wh(l,d,!0),q=new Py(d,S.Hi),se=q.Wu(S.documents),Oe=q.applyChanges(se,!1);_.resolve(Oe.snapshot)}catch(S){const q=$u(S,`Failed to execute query '${d} against cache`);_.reject(q)}}),function(l,d,_){return s.apply(this,arguments)})(yield Jd(i),e,t);var s})),t.promise}(t,i._query).then(l=>new wc(e,s,i,l))}(this._delegate):"server"===(null==e?void 0:e.source)?function a0(i){i=cr(i,mo);const e=cr(i.firestore,cs),t=Us(e),s=new Dc(e);return A_(t,i._query,{source:"server"}).then(l=>new wc(e,s,i,l))}(this._delegate):function s0(i){i=cr(i,mo);const e=cr(i.firestore,cs),t=Us(e),s=new Dc(e);return al(i._query),A_(t,i._query).then(l=>new wc(e,s,i,l))}(this._delegate),t.then(s=>new Qf(this.firestore,new wc(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const t=sg(e),s=qf(e,l=>new Qf(this.firestore,new wc(this.firestore._delegate,this._userDataWriter,this._delegate,l._snapshot)));return X_(this._delegate,t,s)}withConverter(e){return new Bo(this.firestore,this._delegate.withConverter(e?du.getInstance(this.firestore,e):null))}}class H0{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new gh(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Qf{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Bo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new gh(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new H0(this._firestore,t))}forEach(e,t){this._delegate.forEach(s=>{e.call(t,new gh(this._firestore,s))})}isEqual(e){return Z_(this._delegate,e._delegate)}}class td extends Bo{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ta(this.firestore,e):null}doc(e){try{return new Ta(this.firestore,void 0===e?vm(this._delegate):vm(this._delegate,e))}catch(t){throw Vo(t,"doc()","CollectionReference.doc()")}}add(e){return function c0(i,e){const t=cr(i.firestore,cs),s=vm(i),l=uh(i.converter,e);return uu(t,[ih(cu(i.firestore),"addDoc",s._key,l,null!==i.converter,{}).toMutation(s._key,ls.exists(!1))]).then(()=>s)}(this._delegate,e).then(t=>new Ta(this.firestore,t))}isEqual(e){return Hy(this._delegate,e._delegate)}withConverter(e){return new td(this.firestore,this._delegate.withConverter(e?du.getInstance(this.firestore,e):null))}}function Mc(i){return cr(i,gs)}class og{constructor(...e){this._delegate=new bl(...e)}static documentId(){return new og(ht.keyField().canonicalString())}isEqual(e){return(e=(0,Fe.m9)(e))instanceof bl&&this._delegate._internalPath.isEqual(e._internalPath)}}class Ic{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Ym(){return new xf("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Ic(e)}static delete(){const e=function $m(){return new rh("deleteField")}();return e._methodName="FieldValue.delete",new Ic(e)}static arrayUnion(...e){const t=Ec(...e);return t._methodName="FieldValue.arrayUnion",new Ic(t)}static arrayRemove(...e){const t=nv(...e);return t._methodName="FieldValue.arrayRemove",new Ic(t)}static increment(e){const t=function f0(i){return new U_("increment",i)}(e);return t._methodName="FieldValue.increment",new Ic(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const FC={Firestore:hv,GeoPoint:nh,Timestamp:E,Blob:ph,Transaction:pv,WriteBatch:mv,DocumentReference:Ta,DocumentSnapshot:mh,Query:Bo,QueryDocumentSnapshot:gh,QuerySnapshot:Qf,CollectionReference:td,FieldPath:og,FieldValue:Ic,setLogLevel:function fv(i){!function vo(i){br.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function Xf(i){(function j0(i,e){i.INTERNAL.registerComponent(new xe.wA("firestore-compat",t=>{const s=t.getProvider("app-compat").getImmediate(),l=t.getProvider("firestore").getImmediate();return e(s,l)},"PUBLIC").setServiceProps(Object.assign({},FC)))})(i,(e,t)=>new hv(e,t,new dv)),i.registerVersion("@firebase/firestore-compat","0.3.3")}(V0.Z);var Tc=D(1205),nd=D(2313);function z0(i,e){return function G0(i,e=F0.z){return new sv.y(t=>{let s;return null!=e?e.schedule(()=>{s=i.onSnapshot({includeMetadataChanges:!0},t)}):s=i.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=s&&s()}})}(i,e)}function ag(i,e){return z0(i,e).pipe((0,b.U)(t=>({payload:t,type:"query"})))}function ep(i,e){return ag(i,e).pipe((0,eg.O)(void 0),tg(),(0,b.U)(([t,s])=>{const l=s.payload.docChanges(),d=l.map(_=>({type:_.type,payload:_}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((_,S)=>{const q=l.find(Oe=>Oe.doc.ref.isEqual(_.ref)),se=null==t?void 0:t.payload.docs.find(Oe=>Oe.ref.isEqual(_.ref));q&&JSON.stringify(q.doc.metadata)===JSON.stringify(_.metadata)||!q&&se&&JSON.stringify(se.metadata)===JSON.stringify(_.metadata)||d.push({type:"modified",payload:{oldIndex:S,newIndex:S,type:"modified",doc:_}})}),d}))}function _v(i,e,t){return ep(i,t).pipe((0,ng.R)((s,l)=>function $0(i,e,t){return e.forEach(s=>{t.indexOf(s.type)>-1&&(i=function vv(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return tp(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=i.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return tp(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return tp(i,e.oldIndex,1)}return i}(i,s))}),i}(s,l.map(d=>d.payload),e),[]),(0,N0.x)(),(0,b.U)(s=>s.map(l=>({type:l.type,payload:l}))))}function tp(i,e,t,...s){const l=i.slice();return l.splice(e,t,...s),l}function np(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}D(9260);class _h{constructor(e,t,s){this.ref=e,this.query=t,this.afs=s}stateChanges(e){let t=ep(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,b.U)(s=>s.filter(l=>e.indexOf(l.type)>-1)))),t.pipe((0,eg.O)(void 0),tg(),(0,Wf.h)(([s,l])=>l.length>0||!s),(0,b.U)(([s,l])=>l),ye.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,ng.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=np(e);return _v(this.query,t,this.afs.schedulers.outsideAngular).pipe(ye.iC)}valueChanges(e={}){return ag(this.query,this.afs.schedulers.outsideAngular).pipe((0,b.U)(t=>t.payload.docs.map(s=>e.idField?Object.assign(Object.assign({},s.data()),{[e.idField]:s.id}):s.data())),ye.iC)}get(e){return(0,$f.D)(this.query.get(e)).pipe(ye.iC)}add(e){return this.ref.add(e)}doc(e){return new id(this.ref.doc(e),this.afs)}}class id{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const s=this.ref.collection(e),{ref:l,query:d}=ip(s,t);return new _h(l,d,this.afs)}snapshotChanges(){return function gv(i,e){return z0(i,e).pipe((0,eg.O)(void 0),tg(),(0,b.U)(([t,s])=>s.exists?(null==t?void 0:t.exists)?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ye.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,b.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,$f.D)(this.ref.get(e)).pipe(ye.iC)}}class Y0{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?ep(this.query,this.afs.schedulers.outsideAngular).pipe((0,b.U)(t=>t.filter(s=>e.indexOf(s.type)>-1)),(0,Wf.h)(t=>t.length>0),ye.iC):ep(this.query,this.afs.schedulers.outsideAngular).pipe(ye.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,ng.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=np(e);return _v(this.query,t,this.afs.schedulers.outsideAngular).pipe(ye.iC)}valueChanges(e={}){return ag(this.query,this.afs.schedulers.outsideAngular).pipe((0,b.U)(s=>s.payload.docs.map(l=>e.idField?Object.assign({[e.idField]:l.id},l.data()):l.data())),ye.iC)}get(e){return(0,$f.D)(this.query.get(e)).pipe(ye.iC)}}const yv=new v.OlP("angularfire2.enableFirestorePersistence"),bv=new v.OlP("angularfire2.firestore.persistenceSettings"),W0=new v.OlP("angularfire2.firestore.settings"),K0=new v.OlP("angularfire2.firestore.use-emulator");function ip(i,e=(t=>t)){return{query:e(i),ref:i}}let Z0=(()=>{class i{constructor(t,s,l,d,_,S,q,se,Oe,mt,Yt,gn,Dn,Yn,pi,Jr,Os){this.schedulers=q;const hr=(0,Kf.on)(t,S,s),Ks=Oe;mt&&(0,Tc.nw)(hr,S,Yt,Dn,Yn,pi,gn,Jr),[this.firestore,this.persistenceEnabled$]=(0,Kf.cc)(`${hr.name}.firestore`,"AngularFirestore",hr.name,()=>{const Cr=S.runOutsideAngular(()=>hr.firestore());if(d&&Cr.settings(d),Ks&&Cr.useEmulator(...Ks),l&&!(0,a.PM)(_)){const Ar=()=>{try{return(0,$f.D)(Cr.enablePersistence(se||void 0).then(()=>!0,()=>!1))}catch(Mo){return"undefined"!=typeof console&&console.warn(Mo),(0,Yf.of)(!1)}};return[Cr,S.runOutsideAngular(Ar)]}return[Cr,(0,Yf.of)(!1)]},[d,Ks,l])}collection(t,s){let l;l="string"==typeof t?this.firestore.collection(t):t;const{ref:d,query:_}=ip(l,s),S=this.schedulers.ngZone.run(()=>d);return new _h(S,_,this)}collectionGroup(t,s){const l=s||(_=>_),d=this.firestore.collectionGroup(t);return new Y0(l(d),this)}doc(t){let s;s="string"==typeof t?this.firestore.doc(t):t;const l=this.schedulers.ngZone.run(()=>s);return new id(l,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(t){return new(t||i)(v.LFG(Kf.Dh),v.LFG(Kf.xv,8),v.LFG(yv,8),v.LFG(W0,8),v.LFG(v.Lbi),v.LFG(v.R0b),v.LFG(ye.HU),v.LFG(bv,8),v.LFG(K0,8),v.LFG(Tc.zQ,8),v.LFG(Tc.Qv,8),v.LFG(Tc.L6,8),v.LFG(Tc._Q,8),v.LFG(Tc.rT,8),v.LFG(Tc.lh,8),v.LFG(Tc.f7,8),v.LFG(nd.nm,8))},i.\u0275prov=v.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),lg=(()=>{class i{constructor(t){this.afs=t}addTodoList(t){let s=this.afs.createId();this.afs.collection("ItemList").doc(s).set({Name:t.Name,Items:Qm(),ItemListId:s})}updateTodoItem(t){this.deleteTodoItem(t),t.active=!t.active,this.afs.collection("ItemList").doc(t.TodoListId).update({Items:Qm(t)})}addTodoItem(t){this.afs.collection("ItemList").doc(t.TodoListId).update({Items:Qm(t)})}deleteTodoItem(t){this.afs.collection("ItemList").doc(t.TodoListId).update({Items:w0(t)})}deleteTodoList(t){this.afs.collection("ItemList").doc(t.ItemListId).delete()}getAllItemsLists(){return this.afs.collection("/ItemList").snapshotChanges().pipe((0,b.U)(t=>t.map(s=>s.payload.doc.data())))}}return i.\u0275fac=function(t){return new(t||i)(v.LFG(Z0))},i.\u0275prov=v.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var Ul=D(7322),Hl=D(7531),Cv=D(5488),Cl=D(7423);function NC(i,e){1&i&&(v.TgZ(0,"div",8),v._uU(1," Mus\xed by\u0165 v bud\xfacnosti "),v.qZA())}let wv=(()=>{class i{constructor(t,s,l){this.authService=t,this.dataSource=s,this.fb=l,this.TodoListId="",this.myForm=l.group({content:["",[]],title:["",[te.kI.required]],active:[!0,[]],deadline:[new Date,[q0]],TodoListId:["",[]]})}ngOnInit(){this.myForm.controls.TodoListId.setValue(this.TodoListId)}onSubmit(t){var s;t.valid&&(this.dataSource.addTodoItem(t.value),t.reset(),null===(s=this.dialogRef)||void 0===s||s.closeAll())}}return i.\u0275fac=function(t){return new(t||i)(v.Y36(ce.e),v.Y36(lg),v.Y36(te.qu))},i.\u0275cmp=v.Xpm({type:i,selectors:[["app-add-new-todo-item"]],inputs:{dialogRef:"dialogRef",TodoListId:"TodoListId"},decls:21,vars:3,consts:[[3,"formGroup","submit"],["appearance","outline"],["type","text","matInput","","formControlName","title"],["type","text","matInput","","formControlName","content"],["appendTo","body","formControlName","deadline","hourFormat","24",3,"showTime"],["class","mat-error2",4,"ngIf"],["id","submitButton",1,"contentFlexJustifyCenter"],["mat-raised-button","","color","primary","type","submit"],[1,"mat-error2"]],template:function(t,s){1&t&&(v.TgZ(0,"div")(1,"form",0),v.NdJ("submit",function(){return s.onSubmit(s.myForm)}),v.TgZ(2,"div")(3,"mat-form-field",1)(4,"mat-label"),v._uU(5,"Title"),v.qZA(),v._UZ(6,"input",2),v.TgZ(7,"mat-error"),v._uU(8," Toto pole je povinn\xe9 "),v.qZA()()(),v.TgZ(9,"div")(10,"mat-form-field",1)(11,"mat-label"),v._uU(12,"Content"),v.qZA(),v._UZ(13,"input",3),v.qZA()(),v.TgZ(14,"div")(15,"div"),v._UZ(16,"p-calendar",4),v.YNc(17,NC,2,0,"div",5),v.qZA()(),v.TgZ(18,"div",6)(19,"button",7),v._uU(20," Odosla\u0165"),v.qZA()()()()),2&t&&(v.xp6(1),v.Q6J("formGroup",s.myForm),v.xp6(15),v.Q6J("showTime",!0),v.xp6(1),v.Q6J("ngIf",(null==s.myForm.controls.deadline.errors?null:s.myForm.controls.deadline.errors.futureDate)&&s.myForm.controls.deadline.dirty))},directives:[te._Y,te.JL,te.sg,Ul.KE,Ul.hX,Hl.Nt,te.Fj,te.JJ,te.u,Ul.TO,Cv.f,a.O5,Cl.lW],styles:[".contentFlex[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:none}.contentFlexJustifyBetween[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.contentFlexJustifyCenter[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.mat-error2[_ngcontent-%COMP%]{color:#f44336;font-size:12px;margin-top:4px;margin-left:8%}#submitButton[_ngcontent-%COMP%]{margin-top:20%}"]}),i})();function q0(i){const e=new Date(i.value),t=new Date;return e.getTime()<=t.getTime()?{futureDate:!0}:null}let LC=(()=>{class i{constructor(t,s,l){this.authService=t,this.dataSource=s,this.fb=l,this.myForm=l.group({Name:["",[te.kI.required]]})}ngOnInit(){}onSubmit(t){var s;t.valid&&(this.dataSource.addTodoList(t.value),t.reset(),null===(s=this.dialogRef)||void 0===s||s.closeAll())}}return i.\u0275fac=function(t){return new(t||i)(v.Y36(ce.e),v.Y36(lg),v.Y36(te.qu))},i.\u0275cmp=v.Xpm({type:i,selectors:[["app-add-new-todo-list"]],inputs:{dialogRef:"dialogRef"},decls:12,vars:1,consts:[[3,"formGroup","submit"],["appearance","outline"],["type","text","matInput","","formControlName","Name"],[1,"contentFlexJustifyCenter"],["mat-raised-button","","color","primary","type","submit"]],template:function(t,s){1&t&&(v.TgZ(0,"div")(1,"form",0),v.NdJ("submit",function(){return s.onSubmit(s.myForm)}),v.TgZ(2,"div")(3,"mat-form-field",1)(4,"mat-label"),v._uU(5,"N\xe1zov TodoListu"),v.qZA(),v._UZ(6,"input",2),v.TgZ(7,"mat-error"),v._uU(8," Toto pole je povinn\xe9 "),v.qZA()()(),v.TgZ(9,"div",3)(10,"button",4),v._uU(11," Vytvori\u0165"),v.qZA()()()()),2&t&&(v.xp6(1),v.Q6J("formGroup",s.myForm))},directives:[te._Y,te.JL,te.sg,Ul.KE,Ul.hX,Hl.Nt,te.Fj,te.JJ,te.u,Ul.TO,Cl.lW],styles:[".contentFlex[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:none}.contentFlexJustifyBetween[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.contentFlexJustifyCenter[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}"]}),i})();var cg=D(8966),VC=D(4594),rp=D(5245);let ug=(()=>{class i{constructor(t){this.authService=t}ngOnInit(){}logout(){this.authService.signOut()}}return i.\u0275fac=function(t){return new(t||i)(v.Y36(ce.e))},i.\u0275cmp=v.Xpm({type:i,selectors:[["app-toolbar"]],decls:7,vars:0,consts:[["color","primary"],[1,"example-spacer"],["mat-icon-button","",1,"example-icon",3,"click"]],template:function(t,s){1&t&&(v.TgZ(0,"mat-toolbar",0)(1,"span"),v._uU(2,"Todo List app"),v.qZA(),v._UZ(3,"span",1),v.TgZ(4,"button",2),v.NdJ("click",function(){return s.logout()}),v.TgZ(5,"mat-icon"),v._uU(6,"logout"),v.qZA()()())},directives:[VC.Ye,Cl.lW,rp.Hw],styles:[".example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),i})();var Dv=D(9832),ll=D(4999),Ev=D(4847);function Q0(i,e){1&i&&(v.TgZ(0,"th",28),v._uU(1," Titulok"),v.qZA())}const vh=function(i){return{inactive:i}};function X0(i,e){if(1&i&&(v.TgZ(0,"td",29),v._uU(1),v.qZA()),2&i){const t=e.$implicit;v.Q6J("ngClass",v.VKq(2,vh,!t.active)),v.xp6(1),v.hij(" ",t.title," ")}}function Mv(i,e){1&i&&(v.TgZ(0,"th",28),v._uU(1," Obsah"),v.qZA())}function J0(i,e){if(1&i&&(v.TgZ(0,"td",29),v._uU(1),v.qZA()),2&i){const t=e.$implicit;v.Q6J("ngClass",v.VKq(2,vh,!t.active)),v.xp6(1),v.hij(" ",t.content," ")}}function eb(i,e){1&i&&(v.TgZ(0,"th",28),v._uU(1," Deadline"),v.qZA())}function tb(i,e){if(1&i&&(v.TgZ(0,"td",29),v._uU(1),v.ALo(2,"date"),v.qZA()),2&i){const t=e.$implicit;v.Q6J("ngClass",v.VKq(5,vh,!t.active)),v.xp6(1),v.hij(" ",v.xi3(2,2,t.deadline.toDate(),"dd.MM.YYYY HH:mm")," ")}}function yh(i,e){1&i&&(v.TgZ(0,"th",28),v._uU(1,"Stav"),v.qZA())}function Iv(i,e){if(1&i){const t=v.EpF();v.TgZ(0,"td",29)(1,"mat-icon",30),v._uU(2),v.qZA(),v.TgZ(3,"button",11),v.NdJ("click",function(){const d=v.CHM(t).$implicit;return v.oxw(2).changeState(d)}),v._uU(4),v.qZA()()}if(2&i){const t=e.$implicit;v.Q6J("ngClass",v.VKq(3,vh,!t.active)),v.xp6(2),v.Oqu(t.active?"done":"close"),v.xp6(2),v.Oqu(t.active?"Splnen\xe9":"Nesplnen\xe9")}}function Tv(i,e){1&i&&v._UZ(0,"th",28)}function Sv(i,e){if(1&i){const t=v.EpF();v.TgZ(0,"td",31)(1,"button",11),v.NdJ("click",function(){const d=v.CHM(t).$implicit;return v.oxw(2).deleteItem(d)}),v.TgZ(2,"mat-icon",6),v._uU(3,"delete"),v.qZA()()()}}function xv(i,e){1&i&&v._UZ(0,"tr",32)}function Av(i,e){1&i&&v._UZ(0,"tr",33)}function kv(i,e){if(1&i){const t=v.EpF();v.TgZ(0,"div")(1,"div")(2,"div",4)(3,"div")(4,"strong"),v._uU(5),v.qZA()(),v.TgZ(6,"div")(7,"button",5),v.NdJ("click",function(){const d=v.CHM(t).$implicit;return v.oxw().deleteTodoList(d)}),v.TgZ(8,"mat-icon",6),v._uU(9,"delete"),v.qZA()()()()(),v.TgZ(10,"div",0)(11,"div",7)(12,"div")(13,"mat-form-field",8)(14,"mat-label"),v._uU(15,"H\u013eada\u0165"),v.qZA(),v._UZ(16,"input",9,10),v.qZA(),v.TgZ(18,"button",11),v.NdJ("click",function(){const d=v.CHM(t).$implicit,_=v.MAs(17);return v.oxw().applySearch(d.ItemListId,_.value)}),v._uU(19,"search"),v.qZA()()(),v.TgZ(20,"div",7)(21,"div")(22,"mat-button-toggle-group",12)(23,"mat-button-toggle",13),v.NdJ("click",function(){const d=v.CHM(t).$implicit;return v.oxw().showAll(d.ItemListId)}),v._uU(24,"V\u0161etky"),v.qZA(),v.TgZ(25,"mat-button-toggle",14),v.NdJ("click",function(){const d=v.CHM(t).$implicit;return v.oxw().showActive(d.ItemListId)}),v._uU(26,"Akt\xedvne"),v.qZA(),v.TgZ(27,"mat-button-toggle",15),v.NdJ("click",function(){const d=v.CHM(t).$implicit;return v.oxw().showInactive(d.ItemListId)}),v._uU(28,"Dokon\u010den\xe9"),v.qZA()()(),v.TgZ(29,"div")(30,"button",16),v.NdJ("click",function(){const d=v.CHM(t).$implicit;return v.oxw().createTodo(d.ItemListId)}),v.TgZ(31,"mat-icon"),v._uU(32,"add"),v.qZA()()()(),v.TgZ(33,"div")(34,"table",17),v.ynx(35,18),v.YNc(36,Q0,2,0,"th",19),v.YNc(37,X0,2,4,"td",20),v.BQk(),v.ynx(38,21),v.YNc(39,Mv,2,0,"th",19),v.YNc(40,J0,2,4,"td",20),v.BQk(),v.ynx(41,22),v.YNc(42,eb,2,0,"th",19),v.YNc(43,tb,3,7,"td",20),v.BQk(),v.ynx(44,23),v.YNc(45,yh,2,0,"th",19),v.YNc(46,Iv,5,5,"td",20),v.BQk(),v.ynx(47,24),v.YNc(48,Tv,1,0,"th",19),v.YNc(49,Sv,4,0,"td",25),v.BQk(),v.YNc(50,xv,1,0,"tr",26),v.YNc(51,Av,1,0,"tr",27),v.qZA()()()()}if(2&i){const t=e.$implicit,s=v.oxw();v.xp6(5),v.Oqu(t.Name),v.xp6(29),v.Q6J("dataSource",t.Items),v.xp6(16),v.Q6J("matHeaderRowDef",s.displayedColumns),v.xp6(1),v.Q6J("matRowDefColumns",s.displayedColumns)}}const Ov=[{path:"",component:(()=>{class i{constructor(t,s,l,d){this.authService=t,this.dataSource=s,this.fb=l,this.dialogRef=d,this.displayedColumns=["Title","Content","Deadline","Edit","Delete"],this.dataSource.getAllItemsLists().subscribe(()=>{this.filterItems2("","",void 0)})}ngOnInit(){}ngOnDestroy(){}createTodoList(){this.dialogRef.open(LC).componentInstance.dialogRef=this.dialogRef}deleteTodoList(t){this.dataSource.deleteTodoList(t)}onSubmit(t){this.dataSource.addTodoItem(t.value),t.reset()}changeState(t){this.dataSource.updateTodoItem(t)}showActive(t){this.filterItems2(t,"",!0)}showInactive(t){this.filterItems2(t,"",!1)}showAll(t){this.filterItems2(t,"",void 0)}applySearch(t,s){this.filterItems2(t,s,void 0)}createTodo(t){let l=this.dialogRef.open(wv).componentInstance;l.dialogRef=this.dialogRef,l.TodoListId=t}deleteItem(t){this.dataSource.deleteTodoItem(t)}filterItems2(t,s,l){this.itemsList$=this.dataSource.getAllItemsLists().pipe((0,b.U)(d=>{const _=d.find(Oe=>Oe.ItemListId===t);if(!_||void 0===l&&""==s)return d;const S=_.Items.filter(Oe=>s?Oe.title===s:Oe.active===l),q=Object.assign(Object.assign({},_),{Items:S});return d.map(Oe=>Oe.ItemListId===t?q:Oe)}))}}return i.\u0275fac=function(t){return new(t||i)(v.Y36(ce.e),v.Y36(lg),v.Y36(te.qu),v.Y36(cg.uw))},i.\u0275cmp=v.Xpm({type:i,selectors:[["app-dashboard"]],decls:7,vars:3,consts:[[1,"grid-container"],[1,"contentFlexJustifyCenter"],["mat-raised-button","","color","warn",3,"click"],[4,"ngFor","ngForOf"],[1,"contentFlex"],["mat-button","","color","warn",3,"click"],[1,"large-icon"],[1,"contentFlexJustifyBetween"],["appearance","outline"],["type","text","matInput","","placeholder","Zadajte n\xe1zov titulku"],["searchInput",""],["mat-button","",3,"click"],["name","activeSelection","aria-label","Active status"],["value","all",3,"click"],["value","active",3,"click"],["value","done",3,"click"],["mat-icon-button","",3,"click"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Title"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",3,"ngClass",4,"matCellDef"],["matColumnDef","Content"],["matColumnDef","Deadline"],["matColumnDef","Edit"],["matColumnDef","Delete"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell","",3,"ngClass"],[1,"small-icon"],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(t,s){1&t&&(v._UZ(0,"app-toolbar"),v.TgZ(1,"div",0)(2,"div",1)(3,"button",2),v.NdJ("click",function(){return s.createTodoList()}),v._uU(4," Add Todo List "),v.qZA()(),v.YNc(5,kv,52,4,"div",3),v.ALo(6,"async"),v.qZA()),2&t&&(v.xp6(5),v.Q6J("ngForOf",v.lcZ(6,1,s.itemsList$)))},directives:[ug,Cl.lW,a.sg,rp.Hw,Ul.KE,Ul.hX,Hl.Nt,Dv.A9,Dv.Yi,ll.BZ,Ev.YE,ll.w1,ll.fO,ll.ge,ll.Dz,ll.ev,a.mk,ll.as,ll.XQ,ll.nj,ll.Gk],pipes:[a.Ov,a.uU],styles:[".contentFlex[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:none}.contentFlexJustifyBetween[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.contentFlexJustifyCenter[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.grid-container[_ngcontent-%COMP%]{margin:1%}.small-icon[_ngcontent-%COMP%]{font-size:smaller}table[_ngcontent-%COMP%]{width:100%}.inactive[_ngcontent-%COMP%]{color:gray}.mat-row[_ngcontent-%COMP%]:nth-child(even){background-color:#f5f5f5cc}"]}),i})(),canActivate:[(()=>{class i{constructor(t,s){this.authService=t,this.router=s}canActivate(t,s){return this.authService.isUserLogged().pipe((0,b.U)(l=>(l||this.router.navigate(["auth/login"]),l)))}}return i.\u0275fac=function(t){return new(t||i)(v.LFG(ce.e),v.LFG(R.F0))},i.\u0275prov=v.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()],children:[]}];let ib=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=v.oAB({type:i}),i.\u0275inj=v.cJS({imports:[[R.Bz.forChild(Ov)],R.Bz]}),i})();var rb=D(198),sb=D(508),bh=D(8255),ob=D(1314),dg=D(1159),Xr=D(1777),ab=D(3191),Ch=D(727);class hb extends sb._A{constructor(e){super(),this._delegate=e}getValidDateOrNull(e){return this.isDateInstance(e)&&this.isValid(e)?e:null}compareDatetime(e,t,s=!0){return this.compareDate(e,t)||this.getHour(e)-this.getHour(t)||s&&this.getMinute(e)-this.getMinute(t)}sameDatetime(e,t){if(e&&t){const s=this.isValid(e),l=this.isValid(t);return s&&l?!this.compareDatetime(e,t):s===l}return e===t}sameYear(e,t){return e&&t&&this.getYear(e)===this.getYear(t)}sameDay(e,t){return e&&t&&this.getDate(e)===this.getDate(t)&&this.sameMonthAndYear(e,t)}sameHour(e,t){return e&&t&&this.getHour(e)===this.getHour(t)&&this.sameDay(e,t)}sameMinute(e,t){return e&&t&&this.getMinute(e)===this.getMinute(t)&&this.sameHour(e,t)}sameMonthAndYear(e,t){if(e&&t){const s=this.isValid(e),l=this.isValid(t);return s&&l?!(this.getYear(e)-this.getYear(t)||this.getMonth(e)-this.getMonth(t)):s===l}return e===t}deserialize(e){return this._delegate.deserialize(e)}clone(e){return this._delegate.clone(e)}addCalendarYears(e,t){return this._delegate.addCalendarYears(e,t)}addCalendarMonths(e,t){return this._delegate.addCalendarMonths(e,t)}addCalendarDays(e,t){return this._delegate.addCalendarDays(e,t)}getYear(e){return this._delegate.getYear(e)}getMonth(e){return this._delegate.getMonth(e)}getDate(e){return this._delegate.getDate(e)}getDayOfWeek(e){return this._delegate.getDayOfWeek(e)}getMonthNames(e){return this._delegate.getMonthNames(e)}getDateNames(){return this._delegate.getDateNames()}getDayOfWeekNames(e){return this._delegate.getDayOfWeekNames(e)}getYearName(e){return this._delegate.getYearName(e)}getFirstDayOfWeek(){return this._delegate.getFirstDayOfWeek()}getNumDaysInMonth(e){return this._delegate.getNumDaysInMonth(e)}createDate(e,t,s){return this._delegate.createDate(e,t,s)}today(){return this._delegate.today()}parse(e,t){return this._delegate.parse(e,t)}format(e,t){return this._delegate.format(e,t)}toIso8601(e){return this._delegate.toIso8601(e)}isDateInstance(e){return this._delegate.isDateInstance(e)}isValid(e){return this._delegate.isValid(e)}invalid(){return this._delegate.invalid()}clampDate(e,t,s){return t&&this.compareDatetime(e,t)<0?t:s&&this.compareDatetime(e,s)>0?s:e}}const fb=new v.OlP("mat-datetime-formats");function op(i,e){const t=Array(i);for(let s=0;s<i;s++)t[s]=e(s);return t}function pg(i){return Error(`MatDatetimepickerComponent: No provider found for ${i}. You must import one of the following modules at your application root: MatNativeDatetimeModule, MatMomentDatetimeModule, or provide a custom implementation.`)}op(24,i=>String(i)),op(60,i=>String(i)),(0,Xr.X$)("fadeInContent",[(0,Xr.SB)("showing",(0,Xr.oB)({opacity:1})),(0,Xr.eR)("void => showing",[(0,Xr.oB)({opacity:0}),(0,Xr.jt)("150ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])]),(0,Xr.X$)("slideCalendar",[(0,Xr.eR)("* => left",[(0,Xr.jt)(180,(0,Xr.F4)([(0,Xr.oB)({transform:"translateX(100%)",offset:.5}),(0,Xr.oB)({transform:"translateX(-100%)",offset:.51}),(0,Xr.oB)({transform:"translateX(0)",offset:1})]))]),(0,Xr.eR)("* => right",[(0,Xr.jt)(180,(0,Xr.F4)([(0,Xr.oB)({transform:"translateX(-100%)",offset:.5}),(0,Xr.oB)({transform:"translateX(100%)",offset:.51}),(0,Xr.oB)({transform:"translateX(0)",offset:1})]))])]);var ap=(()=>(function(i){i[i.DATE=0]="DATE",i[i.HOUR=1]="HOUR",i[i.MINUTE=2]="MINUTE"}(ap||(ap={})),ap))();const Ib={provide:te.JU,useExisting:(0,v.Gpc)(()=>gg),multi:!0},Gv={provide:te.Cf,useExisting:(0,v.Gpc)(()=>gg),multi:!0};class hu{constructor(e,t){this.target=e,this.targetElement=t,this.value=this.target.value}}let gg=(()=>{class i{constructor(t,s,l,d){if(this._elementRef=t,this._dateAdapter=s,this._dateFormats=l,this._formField=d,this.dateChange=new v.vpe,this.dateInput=new v.vpe,this._valueChange=new v.vpe,this._disabledChange=new v.vpe,this._datepickerSubscription=Ch.w0.EMPTY,this._localeSubscription=Ch.w0.EMPTY,this._lastValueValid=!1,this._onTouched=()=>{},this._cvaOnChange=()=>{},this._validatorOnChange=()=>{},this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._minValidator=_=>{const S=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(_.value));return!this.min||!S||this._dateAdapter.compareDatetime(this.min,S)<=0?null:{matDatepickerMin:{min:this.min,actual:S}}},this._maxValidator=_=>{const S=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(_.value));return!this.max||!S||this._dateAdapter.compareDatetime(this.max,S)>=0?null:{matDatepickerMax:{max:this.max,actual:S}}},this._filterValidator=_=>{const S=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(_.value));return this._dateFilter&&S&&!this._dateFilter(S,ap.DATE)?{matDatepickerFilter:!0}:null},this._validator=te.kI.compose([this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]),!this._dateAdapter)throw pg("DatetimeAdapter");if(!this._dateFormats)throw pg("MAT_DATETIME_FORMATS");this._localeSubscription=s.localeChanges.subscribe(()=>{this.value=this.value})}set matDatetimepicker(t){this.registerDatepicker(t)}set matDatepickerFilter(t){this._dateFilter=t,this._validatorOnChange()}get value(){return this._value}set value(t){t=this._dateAdapter.deserialize(t),this._lastValueValid=!t||this._dateAdapter.isValid(t),t=this._dateAdapter.getValidDateOrNull(t);const s=this.value;this._value=t,this._formatValue(t),setTimeout(()=>{this._dateAdapter.sameDatetime(s,t)||this._valueChange.emit(t)})}get min(){return this._min}set min(t){this._min=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._validatorOnChange()}get max(){return this._max}set max(t){this._max=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._validatorOnChange()}get disabled(){return!!this._disabled}set disabled(t){const s=(0,ab.Ig)(t);this._disabled!==s&&(this._disabled=s,this._disabledChange.emit(s))}ngAfterContentInit(){this._datepicker&&(this._datepickerSubscription=this._datepicker.selectedChanged.subscribe(t=>{this.value=t,this._cvaOnChange(t),this._onTouched(),this.dateInput.emit(new hu(this,this._elementRef.nativeElement)),this.dateChange.emit(new hu(this,this._elementRef.nativeElement))}))}ngOnDestroy(){this._datepickerSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this._valueChange.complete(),this._disabledChange.complete()}registerOnValidatorChange(t){this._validatorOnChange=t}validate(t){return this._validator?this._validator(t):null}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}writeValue(t){this.value=t}registerOnChange(t){this._cvaOnChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_onKeydown(t){t.altKey&&t.keyCode===dg.JH&&(this._datepicker.open(),t.preventDefault())}_onInput(t){let s=this._dateAdapter.parse(t,this.getParseFormat());this._lastValueValid=!s||this._dateAdapter.isValid(s),s=this._dateAdapter.getValidDateOrNull(s),this._value=s,this._cvaOnChange(s),this._valueChange.emit(s),this.dateInput.emit(new hu(this,this._elementRef.nativeElement))}_onChange(){this.dateChange.emit(new hu(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}registerDatepicker(t){t&&(this._datepicker=t,this._datepicker._registerInput(this))}getDisplayFormat(){switch(this._datepicker.type){case"date":return this._dateFormats.display.dateInput;case"datetime":return this._dateFormats.display.datetimeInput;case"time":return this._dateFormats.display.timeInput;case"month":return this._dateFormats.display.monthInput}}getParseFormat(){let t;switch(this._datepicker.type){case"date":t=this._dateFormats.parse.dateInput;break;case"datetime":t=this._dateFormats.parse.datetimeInput;break;case"time":t=this._dateFormats.parse.timeInput;break;case"month":t=this._dateFormats.parse.monthInput}return t||(t=this._dateFormats.parse.dateInput),t}_formatValue(t){this._elementRef.nativeElement.value=t?this._dateAdapter.format(t,this.getDisplayFormat()):""}}return i.\u0275fac=function(t){return new(t||i)(v.Y36(v.SBq),v.Y36(hb,8),v.Y36(fb,8),v.Y36(Ul.KE,8))},i.\u0275dir=v.lG2({type:i,selectors:[["input","matDatetimepicker",""]],hostVars:5,hostBindings:function(t,s){1&t&&v.NdJ("focus",function(){return s._datepicker._handleFocus()})("input",function(d){return s._onInput(d.target.value)})("change",function(){return s._onChange()})("blur",function(){return s._onBlur()})("keydown",function(d){return s._onKeydown(d)}),2&t&&(v.Ikx("disabled",s.disabled),v.uIk("aria-haspopup",!0)("aria-owns",(null==s._datepicker?null:s._datepicker.opened)&&s._datepicker.id||null)("min",s.min?s._dateAdapter.toIso8601(s.min):null)("max",s.max?s._dateAdapter.toIso8601(s.max):null))},inputs:{matDatetimepicker:"matDatetimepicker",matDatepickerFilter:"matDatepickerFilter",value:"value",min:"min",max:"max",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},exportAs:["matDatepickerInput"],features:[v._Bn([Ib,Gv,{provide:Hl.Jk,useExisting:i}])]}),i})(),_g=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=v.oAB({type:i}),i.\u0275inj=v.cJS({imports:[[a.ez,Cl.ot,cg.Is,rp.Ps,ob.U8,bh.rt]]}),i})(),vg=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=v.oAB({type:i}),i.\u0275inj=v.cJS({imports:[[a.ez,ib,rb.q,te.u5,te.UX,_g]]}),i})()},2340:(on,st,D)=>{D.d(st,{N:()=>a});const a={firebase:{projectId:"todo-app-7f332",appId:"1:240031175481:web:3450ffb1146cb09f6e8ee8",storageBucket:"todo-app-7f332.appspot.com",apiKey:"AIzaSyA8nc97Z-isFSA9D3uBqTzyyF_35Iv8Lkk",authDomain:"todo-app-7f332.firebaseapp.com",messagingSenderId:"240031175481"},production:!0}},2466:(on,st,D)=>{var a=D(6097),R=D(5e3),b=D(198),te=D(3287);const ce=[{path:"auth",loadChildren:()=>Promise.resolve().then(D.bind(D,9963)).then(et=>et.AuthModule)},{path:"dashboard",loadChildren:()=>Promise.resolve().then(D.bind(D,2255)).then(et=>et.DashboardModule)},{path:"**",component:(()=>{class et{constructor(){}ngOnInit(){}}return et.\u0275fac=function(Ke){return new(Ke||et)},et.\u0275cmp=R.Xpm({type:et,selectors:[["app-not-found-page"]],decls:80,vars:0,consts:[["width","1123","height","837","viewBox","0 0 1123 837","fill","none","xmlns","http://www.w3.org/2000/svg"],["width","1123","height","837","fill","black"],["id","sky","filter","url(#filter0_d)"],["id","background","x","30","y","26","width","1063","height","777","rx","20","fill","black"],["id","stars"],["id","Vector","d","M202.12 319.2C204.937 319.2 207.22 316.917 207.22 314.1C207.22 311.283 204.937 309 202.12 309C199.303 309 197.02 311.283 197.02 314.1C197.02 316.917 199.303 319.2 202.12 319.2Z","fill","white"],["id","Vector_2","d","M566.12 615.2C568.937 615.2 571.22 612.917 571.22 610.1C571.22 607.283 568.937 605 566.12 605C563.303 605 561.02 607.283 561.02 610.1C561.02 612.917 563.303 615.2 566.12 615.2Z","fill","white"],["id","Vector_3","d","M351.12 638.95C352.694 638.95 353.97 637.674 353.97 636.1C353.97 634.526 352.694 633.25 351.12 633.25C349.546 633.25 348.27 634.526 348.27 636.1C348.27 637.674 349.546 638.95 351.12 638.95Z","fill","white"],["id","Vector_4","d","M985.11 503.99C986.684 503.99 987.96 502.714 987.96 501.14C987.96 499.566 986.684 498.29 985.11 498.29C983.536 498.29 982.26 499.566 982.26 501.14C982.26 502.714 983.536 503.99 985.11 503.99Z","fill","white"],["id","Vector_5","d","M822.11 247.99C823.684 247.99 824.96 246.714 824.96 245.14C824.96 243.566 823.684 242.29 822.11 242.29C820.536 242.29 819.26 243.566 819.26 245.14C819.26 246.714 820.536 247.99 822.11 247.99Z","fill","white"],["id","Vector_6","d","M1053.11 372.99C1054.68 372.99 1055.96 371.714 1055.96 370.14C1055.96 368.566 1054.68 367.29 1053.11 367.29C1051.54 367.29 1050.26 368.566 1050.26 370.14C1050.26 371.714 1051.54 372.99 1053.11 372.99Z","fill","white"],["id","Vector_7","d","M292.12 152.2C294.937 152.2 297.22 149.917 297.22 147.1C297.22 144.283 294.937 142 292.12 142C289.303 142 287.02 144.283 287.02 147.1C287.02 149.917 289.303 152.2 292.12 152.2Z","fill","white"],["id","Vector_8","d","M151.95 492.17H147.41V487.63H145.56V492.17H141.02V494.02H145.56V498.55H147.41V494.02H151.95V492.17Z","fill","white"],["id","Vector_9","d","M265.95 490.17H261.41V485.63H259.56V490.17H255.02V492.02H259.56V496.55H261.41V492.02H265.95V490.17Z","fill","white"],["id","Vector_10","d","M428.95 582.17H424.41V577.63H422.56V582.17H418.02V584.02H422.56V588.55H424.41V584.02H428.95V582.17Z","fill","white"],["id","Vector_11","d","M776.98 344.67H774.91V342.6H774.07V344.67H772V345.51H774.07V347.58H774.91V345.51H776.98V344.67Z","fill","white"],["id","Vector_12","d","M68.98 422.67H66.91V420.6H66.07V422.67H64V423.51H66.07V425.58H66.91V423.51H68.98V422.67Z","fill","white"],["id","Vector_13","d","M153.98 592.67H151.91V590.6H151.07V592.67H149V593.51H151.07V595.58H151.91V593.51H153.98V592.67Z","fill","white"],["id","Vector_14","d","M297.97 357.71H295.9V355.64H295.06V357.71H292.99V358.55H295.06V360.62H295.9V358.55H297.97V357.71Z","fill","white"],["id","Vector_15","d","M321.98 268.67H319.91V266.6H319.07V268.67H317V269.51H319.07V271.58H319.91V269.51H321.98V268.67Z","fill","white"],["id","Vector_16","d","M956.9 333.07C957.916 333.07 958.74 332.246 958.74 331.23C958.74 330.214 957.916 329.39 956.9 329.39C955.884 329.39 955.06 330.214 955.06 331.23C955.06 332.246 955.884 333.07 956.9 333.07Z","fill","white"],["id","rocket"],["id","Vector_17","d","M635.46 400H466V406.78H635.46V400Z","fill","#535461"],["id","body-rocket"],["id","Vector_18","d","M482.581 674.368H458.851L463.091 645.558H478.341L482.581 674.368Z","fill","#535461"],["id","Vector_19","d","M685.931 674.368H662.211L666.441 645.558H681.701L685.931 674.368Z","fill","#535461"],["id","Group","opacity","0.1"],["id","Vector_20","opacity","0.1","d","M665.261 656.998H682.881L681.701 648.948H666.441L665.261 656.998Z","fill","black"],["id","Vector_21","d","M559.681 674.368H535.961L540.191 645.558H555.451L559.681 674.368Z","fill","#535461"],["id","Vector_22","d","M607.981 674.368H584.261L588.491 645.558H603.741L607.981 674.368Z","fill","#535461"],["id","Group_2","opacity","0.1"],["id","Vector_23","opacity","0.1","d","M587.311 656.998H604.931L603.741 648.948H588.491L587.311 656.998Z","fill","black"],["id","Vector_24","d","M677.861 300.724L677.86 300.724L677.869 300.733C681.479 304.531 686.193 310.849 691.386 320.975C702.335 342.647 707.995 366.605 707.901 390.887V390.888V652.328H633.901L633.901 391.988L633.901 391.986C633.785 367.014 639.733 342.386 651.234 320.22C655.114 312.85 659.549 305.944 664.436 300.73L664.436 300.73L664.442 300.724C665.29 299.787 666.326 299.038 667.481 298.525C668.637 298.012 669.887 297.747 671.151 297.747C672.415 297.747 673.666 298.012 674.821 298.525C675.977 299.038 677.012 299.787 677.861 300.724Z","fill","#E0E0E0","stroke","black"],["id","Vector_25","d","M463.524 300.733L463.524 300.733L463.532 300.724C464.38 299.787 465.416 299.038 466.571 298.525C467.727 298.012 468.977 297.747 470.241 297.747C471.505 297.747 472.755 298.012 473.911 298.525C475.067 299.038 476.102 299.787 476.95 300.724L476.95 300.724L476.957 300.731C481.853 305.944 486.278 312.85 490.168 320.22C501.665 342.388 507.612 367.014 507.501 391.986V391.988V652.328H433.501L433.501 390.888L433.501 390.887C433.408 366.605 439.067 342.647 450.017 320.975C455.2 310.849 459.913 304.531 463.524 300.733Z","fill","#E0E0E0","stroke","black"],["id","Vector_26","d","M490.201 396.448L508.001 396.538V418.478H490.201V396.448Z","fill","#535461"],["id","Vector_27","d","M633.401 396.448L651.191 396.538V418.478H633.401V396.448Z","fill","#535461"],["id","Group_3","opacity","0.1"],["id","Vector_28","opacity","0.1","d","M490.611 319.648C486.711 312.258 482.261 305.308 477.321 300.048C475.926 298.502 474.062 297.456 472.016 297.071C469.969 296.686 467.852 296.984 465.991 297.918C467.063 298.453 468.032 299.175 468.851 300.048C473.781 305.308 478.241 312.258 482.131 319.648C493.671 341.887 499.638 366.595 499.521 391.648V652.468H508.001V391.658C508.115 366.602 502.147 341.892 490.611 319.648V319.648Z","fill","black"],["id","Group_4","opacity","0.1"],["id","Vector_29","opacity","0.1","d","M657.571 320.368C661.461 312.978 665.921 306.028 670.851 300.768C671.773 299.772 672.889 298.976 674.131 298.428C672.298 297.626 670.26 297.421 668.304 297.841C666.348 298.261 664.573 299.285 663.231 300.768C658.291 306.028 653.831 312.978 649.941 320.368C638.407 342.609 632.44 367.315 632.551 392.368V653.228H640.181V392.388C640.061 367.328 646.029 342.613 657.571 320.368V320.368Z","fill","black"],["id","Vector_30","d","M471.041 738.768H470.391C467.331 738.768 464.395 737.553 462.231 735.388C460.067 733.224 458.851 730.289 458.851 727.228V674.368H482.581V727.228C482.581 730.289 481.365 733.224 479.201 735.388C477.037 737.553 474.102 738.768 471.041 738.768Z","fill","url(#paint0_linear)"],["id","Vector_31","d","M548.371 738.518H547.721C544.661 738.518 541.725 737.303 539.561 735.138C537.397 732.974 536.181 730.039 536.181 726.978V674.118H559.911V726.978C559.911 730.039 558.695 732.974 556.531 735.138C554.367 737.303 551.432 738.518 548.371 738.518Z","fill","url(#paint1_linear)"],["id","Vector_32","d","M597.371 738.518H596.721C593.661 738.518 590.725 737.303 588.561 735.138C586.397 732.974 585.181 730.039 585.181 726.978V674.118H608.911V726.978C608.911 730.039 607.695 732.974 605.531 735.138C603.367 737.303 600.432 738.518 597.371 738.518Z","fill","url(#paint2_linear)"],["id","Vector_33","d","M674.371 738.518H673.721C670.661 738.518 667.725 737.303 665.561 735.138C663.397 732.974 662.181 730.039 662.181 726.978V674.118H685.911V726.978C685.911 730.039 684.695 732.974 682.531 735.138C680.367 737.303 677.432 738.518 674.371 738.518Z","fill","url(#paint3_linear)"],["id","Vector_34","d","M578.51 96.4834L578.52 96.4957L578.531 96.5076C583.685 102.221 590.434 111.588 597.797 126.726L597.798 126.73C613.465 158.638 621.544 194.732 621.655 231.32L622.93 650.608L517.93 650.927L516.661 233.319C516.547 195.664 524.762 158.515 541.048 125.774C546.594 114.716 552.917 104.371 559.813 96.561L559.822 96.5507L559.831 96.5402C560.972 95.1742 562.398 94.0744 564.009 93.3179C565.62 92.5615 567.377 92.1667 569.157 92.1613C570.937 92.1559 572.697 92.54 574.312 93.2866C575.928 94.0333 577.361 95.1244 578.51 96.4834Z","fill","#EEEEEE","stroke","black","stroke-width","2"],["id","Vector_35","d","M585.811 142.368H551.971C545.896 142.368 540.971 147.293 540.971 153.368V156.958C540.971 163.034 545.896 167.958 551.971 167.958H585.811C591.886 167.958 596.811 163.034 596.811 156.958V153.368C596.811 147.293 591.886 142.368 585.811 142.368Z","fill","#535461"],["id","Vector_36","d","M433.431 396.448L451.231 396.538V418.478H433.431V396.448Z","fill","#535461"],["id","Vector_37","d","M690.171 396.448L707.961 396.538V418.478H690.171V396.448Z","fill","#535461"],["id","filter0_d","x","0","y","0","width","1123","height","837","filterUnits","userSpaceOnUse","color-interpolation-filters","sRGB"],["flood-opacity","0","result","BackgroundImageFix"],["in","SourceAlpha","type","matrix","values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"],["dy","4"],["stdDeviation","15"],["type","matrix","values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.7 0"],["mode","normal","in2","BackgroundImageFix","result","effect1_dropShadow"],["mode","normal","in","SourceGraphic","in2","effect1_dropShadow","result","shape"],["id","paint0_linear","x1","470.721","y1","674.368","x2","470.721","y2","738.768","gradientUnits","userSpaceOnUse"],["stop-color","#E0E0E0"],["offset","0.31","stop-color","#FCCC63"],["offset","0.77","stop-color","#F55F44"],["id","paint1_linear","x1","548.051","y1","674.118","x2","548.051","y2","738.518","gradientUnits","userSpaceOnUse"],["id","paint2_linear","x1","597.051","y1","674.118","x2","597.051","y2","738.518","gradientUnits","userSpaceOnUse"],["id","paint3_linear","x1","674.051","y1","674.118","x2","674.051","y2","738.518","gradientUnits","userSpaceOnUse"],[1,"text"]],template:function(Ke,_t){1&Ke&&(R.TgZ(0,"body")(1,"div"),R.O4$(),R.TgZ(2,"svg",0),R._UZ(3,"rect",1),R.TgZ(4,"g",2),R._UZ(5,"rect",3),R.TgZ(6,"g",4),R._UZ(7,"path",5)(8,"path",6)(9,"path",7)(10,"path",8)(11,"path",9)(12,"path",10)(13,"path",11)(14,"path",12)(15,"path",13)(16,"path",14)(17,"path",15)(18,"path",16)(19,"path",17)(20,"path",18)(21,"path",19)(22,"path",20),R.qZA(),R.TgZ(23,"g",21),R._UZ(24,"path",22),R.TgZ(25,"g",23),R._UZ(26,"path",24)(27,"path",25),R.TgZ(28,"g",26),R._UZ(29,"path",27),R.qZA(),R._UZ(30,"path",28)(31,"path",29),R.TgZ(32,"g",30),R._UZ(33,"path",31),R.qZA(),R._UZ(34,"path",32)(35,"path",33)(36,"path",34)(37,"path",35),R.TgZ(38,"g",36),R._UZ(39,"path",37),R.qZA(),R.TgZ(40,"g",38),R._UZ(41,"path",39),R.qZA(),R._UZ(42,"path",40)(43,"path",41)(44,"path",42)(45,"path",43)(46,"path",44)(47,"path",45)(48,"path",46)(49,"path",47),R.qZA()()(),R.TgZ(50,"defs")(51,"filter",48),R._UZ(52,"feFlood",49)(53,"feColorMatrix",50)(54,"feOffset",51)(55,"feGaussianBlur",52)(56,"feColorMatrix",53)(57,"feBlend",54)(58,"feBlend",55),R.qZA(),R.TgZ(59,"linearGradient",56),R._UZ(60,"stop",57)(61,"stop",58)(62,"stop",59),R.qZA(),R.TgZ(63,"linearGradient",60),R._UZ(64,"stop",57)(65,"stop",58)(66,"stop",59),R.qZA(),R.TgZ(67,"linearGradient",61),R._UZ(68,"stop",57)(69,"stop",58)(70,"stop",59),R.qZA(),R.TgZ(71,"linearGradient",62),R._UZ(72,"stop",57)(73,"stop",58)(74,"stop",59),R.qZA()()()(),R.kcU(),R.TgZ(75,"div",63)(76,"h1"),R._uU(77,"404 Error"),R.qZA(),R.TgZ(78,"h2"),R._uU(79,"Couldn't launch :("),R.qZA()()())},styles:['@import"https://fonts.googleapis.com/css2?family=Permanent+Marker&family=Fira+Mono:wght@500&display=swap";body[_ngcontent-%COMP%]{height:95vh;background:#000000;text-align:center;color:#e0e0e0;font-family:Fira Mono,monospace}h1[_ngcontent-%COMP%]{font-size:2.5rem;font-family:Permanent Marker,cursive}div[_ngcontent-%COMP%]{transform-style:preserve-3d}svg[_ngcontent-%COMP%]{width:clamp(300px,70%,600px);height:500px}#rocket[_ngcontent-%COMP%]{transform:translateY(750px);animation:launch 2s ease-out forwards}@keyframes launch{0%{transform:translateY(750px)}to{perspective:500px;transform:translateY(0)}}#stars[_ngcontent-%COMP%]{animation:twinkling 2s linear}@keyframes twinkling{0%{transform:scale(0)}to{transform:scale(1)}}.text[_ngcontent-%COMP%]{opacity:0;animation:appear 1s ease-in forwards;animation-delay:1.8s}@keyframes appear{0%{opacity:0}to{opacity:1}}a[_ngcontent-%COMP%]{color:#f66947;text-decoration:none}']}),et})()}];let ye=(()=>{class et{}return et.\u0275fac=function(Ke){return new(Ke||et)},et.\u0275mod=R.oAB({type:et}),et.\u0275inj=R.cJS({imports:[[te.Bz.forRoot(ce)],te.Bz]}),et})(),be=(()=>{class et{constructor(){this.title="todo-list",this.longText="The Shiba Inu is the smallest of the six original and distinct spitz breeds of dog\n  from Japan. A small, agile dog that copes very well with mountainous terrain, the Shiba Inu was\n  originally bred for hunting."}}return et.\u0275fac=function(Ke){return new(Ke||et)},et.\u0275cmp=R.Xpm({type:et,selectors:[["app-root"]],decls:1,vars:0,template:function(Ke,_t){1&Ke&&R._UZ(0,"router-outlet")},directives:[te.lC],styles:[".background[_ngcontent-%COMP%]{background-color:#e4de37}.example-card[_ngcontent-%COMP%]{max-width:400px}"]}),et})();var z=D(6360),B=D(9963),re=D(2340),xe=D(2255),We=D(2011),Fe=D(520);let ot=(()=>{class et{}return et.\u0275fac=function(Ke){return new(Ke||et)},et.\u0275mod=R.oAB({type:et,bootstrap:[be]}),et.\u0275inj=R.cJS({providers:[],imports:[[a.b2,ye,z.PW,b.q,B.AuthModule,xe.DashboardModule,We.hO.initializeApp(re.N.firebase),Fe.JF],b.q]}),et})();re.N.production&&(0,R.G48)(),a.q6().bootstrapModule(ot).catch(et=>console.error(et))},1135:(on,st,D)=>{D.d(st,{X:()=>R});var a=D(7579);class R extends a.x{constructor(te){super(),this._value=te}get value(){return this.getValue()}_subscribe(te){const v=super._subscribe(te);return!v.closed&&te.next(this._value),v}getValue(){const{hasError:te,thrownError:v,_value:ce}=this;if(te)throw v;return this._throwIfClosed(),ce}next(te){super.next(this._value=te)}}},8306:(on,st,D)=>{D.d(st,{y:()=>B});var a=D(930),R=D(727),b=D(8822),te=D(4671);var ye=D(2416),be=D(576),z=D(2806);let B=(()=>{class Fe{constructor(et){et&&(this._subscribe=et)}lift(et){const Re=new Fe;return Re.source=this,Re.operator=et,Re}subscribe(et,Re,Ke){const _t=function We(Fe){return Fe&&Fe instanceof a.Lv||function xe(Fe){return Fe&&(0,be.m)(Fe.next)&&(0,be.m)(Fe.error)&&(0,be.m)(Fe.complete)}(Fe)&&(0,R.Nn)(Fe)}(et)?et:new a.Hp(et,Re,Ke);return(0,z.x)(()=>{const{operator:lt,source:ue}=this;_t.add(lt?lt.call(_t,ue):ue?this._subscribe(_t):this._trySubscribe(_t))}),_t}_trySubscribe(et){try{return this._subscribe(et)}catch(Re){et.error(Re)}}forEach(et,Re){return new(Re=re(Re))((Ke,_t)=>{const lt=new a.Hp({next:ue=>{try{et(ue)}catch(me){_t(me),lt.unsubscribe()}},error:_t,complete:Ke});this.subscribe(lt)})}_subscribe(et){var Re;return null===(Re=this.source)||void 0===Re?void 0:Re.subscribe(et)}[b.L](){return this}pipe(...et){return function ce(Fe){return 0===Fe.length?te.y:1===Fe.length?Fe[0]:function(et){return Fe.reduce((Re,Ke)=>Ke(Re),et)}}(et)(this)}toPromise(et){return new(et=re(et))((Re,Ke)=>{let _t;this.subscribe(lt=>_t=lt,lt=>Ke(lt),()=>Re(_t))})}}return Fe.create=ot=>new Fe(ot),Fe})();function re(Fe){var ot;return null!==(ot=null!=Fe?Fe:ye.v.Promise)&&void 0!==ot?ot:Promise}},7579:(on,st,D)=>{D.d(st,{x:()=>ye});var a=D(8306),R=D(727);const te=(0,D(3888).d)(z=>function(){z(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var v=D(8737),ce=D(2806);let ye=(()=>{class z extends a.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(re){const xe=new be(this,this);return xe.operator=re,xe}_throwIfClosed(){if(this.closed)throw new te}next(re){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const xe of this.currentObservers)xe.next(re)}})}error(re){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=re;const{observers:xe}=this;for(;xe.length;)xe.shift().error(re)}})}complete(){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:re}=this;for(;re.length;)re.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var re;return(null===(re=this.observers)||void 0===re?void 0:re.length)>0}_trySubscribe(re){return this._throwIfClosed(),super._trySubscribe(re)}_subscribe(re){return this._throwIfClosed(),this._checkFinalizedStatuses(re),this._innerSubscribe(re)}_innerSubscribe(re){const{hasError:xe,isStopped:We,observers:Fe}=this;return xe||We?R.Lc:(this.currentObservers=null,Fe.push(re),new R.w0(()=>{this.currentObservers=null,(0,v.P)(Fe,re)}))}_checkFinalizedStatuses(re){const{hasError:xe,thrownError:We,isStopped:Fe}=this;xe?re.error(We):Fe&&re.complete()}asObservable(){const re=new a.y;return re.source=this,re}}return z.create=(B,re)=>new be(B,re),z})();class be extends ye{constructor(B,re){super(),this.destination=B,this.source=re}next(B){var re,xe;null===(xe=null===(re=this.destination)||void 0===re?void 0:re.next)||void 0===xe||xe.call(re,B)}error(B){var re,xe;null===(xe=null===(re=this.destination)||void 0===re?void 0:re.error)||void 0===xe||xe.call(re,B)}complete(){var B,re;null===(re=null===(B=this.destination)||void 0===B?void 0:B.complete)||void 0===re||re.call(B)}_subscribe(B){var re,xe;return null!==(xe=null===(re=this.source)||void 0===re?void 0:re.subscribe(B))&&void 0!==xe?xe:R.Lc}}},930:(on,st,D)=>{D.d(st,{Hp:()=>et,Lv:()=>xe});var a=D(576),R=D(727),b=D(2416),te=D(7849),v=D(5032);const ce=z("C",void 0,void 0);function z(ue,me,Ce){return{kind:ue,value:me,error:Ce}}var B=D(3410),re=D(2806);class xe extends R.w0{constructor(me){super(),this.isStopped=!1,me?(this.destination=me,(0,R.Nn)(me)&&me.add(this)):this.destination=lt}static create(me,Ce,Be){return new et(me,Ce,Be)}next(me){this.isStopped?_t(function be(ue){return z("N",ue,void 0)}(me),this):this._next(me)}error(me){this.isStopped?_t(function ye(ue){return z("E",void 0,ue)}(me),this):(this.isStopped=!0,this._error(me))}complete(){this.isStopped?_t(ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(me){this.destination.next(me)}_error(me){try{this.destination.error(me)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const We=Function.prototype.bind;function Fe(ue,me){return We.call(ue,me)}class ot{constructor(me){this.partialObserver=me}next(me){const{partialObserver:Ce}=this;if(Ce.next)try{Ce.next(me)}catch(Be){Re(Be)}}error(me){const{partialObserver:Ce}=this;if(Ce.error)try{Ce.error(me)}catch(Be){Re(Be)}else Re(me)}complete(){const{partialObserver:me}=this;if(me.complete)try{me.complete()}catch(Ce){Re(Ce)}}}class et extends xe{constructor(me,Ce,Be){let Ge;if(super(),(0,a.m)(me)||!me)Ge={next:null!=me?me:void 0,error:null!=Ce?Ce:void 0,complete:null!=Be?Be:void 0};else{let de;this&&b.v.useDeprecatedNextContext?(de=Object.create(me),de.unsubscribe=()=>this.unsubscribe(),Ge={next:me.next&&Fe(me.next,de),error:me.error&&Fe(me.error,de),complete:me.complete&&Fe(me.complete,de)}):Ge=me}this.destination=new ot(Ge)}}function Re(ue){b.v.useDeprecatedSynchronousErrorHandling?(0,re.O)(ue):(0,te.h)(ue)}function _t(ue,me){const{onStoppedNotification:Ce}=b.v;Ce&&B.z.setTimeout(()=>Ce(ue,me))}const lt={closed:!0,next:v.Z,error:function Ke(ue){throw ue},complete:v.Z}},727:(on,st,D)=>{D.d(st,{Lc:()=>ce,w0:()=>v,Nn:()=>ye});var a=D(576);const b=(0,D(3888).d)(z=>function(re){z(this),this.message=re?`${re.length} errors occurred during unsubscription:\n${re.map((xe,We)=>`${We+1}) ${xe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=re});var te=D(8737);class v{constructor(B){this.initialTeardown=B,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let B;if(!this.closed){this.closed=!0;const{_parentage:re}=this;if(re)if(this._parentage=null,Array.isArray(re))for(const Fe of re)Fe.remove(this);else re.remove(this);const{initialTeardown:xe}=this;if((0,a.m)(xe))try{xe()}catch(Fe){B=Fe instanceof b?Fe.errors:[Fe]}const{_finalizers:We}=this;if(We){this._finalizers=null;for(const Fe of We)try{be(Fe)}catch(ot){B=null!=B?B:[],ot instanceof b?B=[...B,...ot.errors]:B.push(ot)}}if(B)throw new b(B)}}add(B){var re;if(B&&B!==this)if(this.closed)be(B);else{if(B instanceof v){if(B.closed||B._hasParent(this))return;B._addParent(this)}(this._finalizers=null!==(re=this._finalizers)&&void 0!==re?re:[]).push(B)}}_hasParent(B){const{_parentage:re}=this;return re===B||Array.isArray(re)&&re.includes(B)}_addParent(B){const{_parentage:re}=this;this._parentage=Array.isArray(re)?(re.push(B),re):re?[re,B]:B}_removeParent(B){const{_parentage:re}=this;re===B?this._parentage=null:Array.isArray(re)&&(0,te.P)(re,B)}remove(B){const{_finalizers:re}=this;re&&(0,te.P)(re,B),B instanceof v&&B._removeParent(this)}}v.EMPTY=(()=>{const z=new v;return z.closed=!0,z})();const ce=v.EMPTY;function ye(z){return z instanceof v||z&&"closed"in z&&(0,a.m)(z.remove)&&(0,a.m)(z.add)&&(0,a.m)(z.unsubscribe)}function be(z){(0,a.m)(z)?z():z.unsubscribe()}},2416:(on,st,D)=>{D.d(st,{v:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(on,st,D)=>{D.d(st,{z:()=>v});var a=D(8189),b=D(3269),te=D(8996);function v(...ce){return function R(){return(0,a.J)(1)}()((0,te.D)(ce,(0,b.yG)(ce)))}},9770:(on,st,D)=>{D.d(st,{P:()=>b});var a=D(8306),R=D(8421);function b(te){return new a.y(v=>{(0,R.Xf)(te()).subscribe(v)})}},515:(on,st,D)=>{D.d(st,{E:()=>R});const R=new(D(8306).y)(v=>v.complete())},4128:(on,st,D)=>{D.d(st,{D:()=>be});var a=D(8306),R=D(4742),b=D(8421),te=D(3269),v=D(5403),ce=D(3268),ye=D(1810);function be(...z){const B=(0,te.jO)(z),{args:re,keys:xe}=(0,R.D)(z),We=new a.y(Fe=>{const{length:ot}=re;if(!ot)return void Fe.complete();const et=new Array(ot);let Re=ot,Ke=ot;for(let _t=0;_t<ot;_t++){let lt=!1;(0,b.Xf)(re[_t]).subscribe((0,v.x)(Fe,ue=>{lt||(lt=!0,Ke--),et[_t]=ue},()=>Re--,void 0,()=>{(!Re||!lt)&&(Ke||Fe.next(xe?(0,ye.n)(xe,et):et),Fe.complete())}))}});return B?We.pipe((0,ce.Z)(B)):We}},8996:(on,st,D)=>{D.d(st,{D:()=>me});var a=D(8421),R=D(5363),b=D(9468),ce=D(8306),be=D(2202),z=D(576),B=D(9672);function xe(Ce,Be){if(!Ce)throw new Error("Iterable cannot be null");return new ce.y(Ge=>{(0,B.f)(Ge,Be,()=>{const de=Ce[Symbol.asyncIterator]();(0,B.f)(Ge,Be,()=>{de.next().then(ut=>{ut.done?Ge.complete():Ge.next(ut.value)})},0,!0)})})}var We=D(3670),Fe=D(8239),ot=D(1144),et=D(6495),Re=D(2206),Ke=D(4532),_t=D(3260);function me(Ce,Be){return Be?function ue(Ce,Be){if(null!=Ce){if((0,We.c)(Ce))return function te(Ce,Be){return(0,a.Xf)(Ce).pipe((0,b.R)(Be),(0,R.Q)(Be))}(Ce,Be);if((0,ot.z)(Ce))return function ye(Ce,Be){return new ce.y(Ge=>{let de=0;return Be.schedule(function(){de===Ce.length?Ge.complete():(Ge.next(Ce[de++]),Ge.closed||this.schedule())})})}(Ce,Be);if((0,Fe.t)(Ce))return function v(Ce,Be){return(0,a.Xf)(Ce).pipe((0,b.R)(Be),(0,R.Q)(Be))}(Ce,Be);if((0,Re.D)(Ce))return xe(Ce,Be);if((0,et.T)(Ce))return function re(Ce,Be){return new ce.y(Ge=>{let de;return(0,B.f)(Ge,Be,()=>{de=Ce[be.h](),(0,B.f)(Ge,Be,()=>{let ut,Qe;try{({value:ut,done:Qe}=de.next())}catch(jt){return void Ge.error(jt)}Qe?Ge.complete():Ge.next(ut)},0,!0)}),()=>(0,z.m)(null==de?void 0:de.return)&&de.return()})}(Ce,Be);if((0,_t.L)(Ce))return function lt(Ce,Be){return xe((0,_t.Q)(Ce),Be)}(Ce,Be)}throw(0,Ke.z)(Ce)}(Ce,Be):(0,a.Xf)(Ce)}},4968:(on,st,D)=>{D.d(st,{R:()=>B});var a=D(8421),R=D(8306),b=D(5577),te=D(1144),v=D(576),ce=D(3268);const ye=["addListener","removeListener"],be=["addEventListener","removeEventListener"],z=["on","off"];function B(ot,et,Re,Ke){if((0,v.m)(Re)&&(Ke=Re,Re=void 0),Ke)return B(ot,et,Re).pipe((0,ce.Z)(Ke));const[_t,lt]=function Fe(ot){return(0,v.m)(ot.addEventListener)&&(0,v.m)(ot.removeEventListener)}(ot)?be.map(ue=>me=>ot[ue](et,me,Re)):function xe(ot){return(0,v.m)(ot.addListener)&&(0,v.m)(ot.removeListener)}(ot)?ye.map(re(ot,et)):function We(ot){return(0,v.m)(ot.on)&&(0,v.m)(ot.off)}(ot)?z.map(re(ot,et)):[];if(!_t&&(0,te.z)(ot))return(0,b.z)(ue=>B(ue,et,Re))((0,a.Xf)(ot));if(!_t)throw new TypeError("Invalid event target");return new R.y(ue=>{const me=(...Ce)=>ue.next(1<Ce.length?Ce:Ce[0]);return _t(me),()=>lt(me)})}function re(ot,et){return Re=>Ke=>ot[Re](et,Ke)}},8421:(on,st,D)=>{D.d(st,{Xf:()=>We});var a=D(655),R=D(1144),b=D(8239),te=D(8306),v=D(3670),ce=D(2206),ye=D(4532),be=D(6495),z=D(3260),B=D(576),re=D(7849),xe=D(8822);function We(ue){if(ue instanceof te.y)return ue;if(null!=ue){if((0,v.c)(ue))return function Fe(ue){return new te.y(me=>{const Ce=ue[xe.L]();if((0,B.m)(Ce.subscribe))return Ce.subscribe(me);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ue);if((0,R.z)(ue))return function ot(ue){return new te.y(me=>{for(let Ce=0;Ce<ue.length&&!me.closed;Ce++)me.next(ue[Ce]);me.complete()})}(ue);if((0,b.t)(ue))return function et(ue){return new te.y(me=>{ue.then(Ce=>{me.closed||(me.next(Ce),me.complete())},Ce=>me.error(Ce)).then(null,re.h)})}(ue);if((0,ce.D)(ue))return Ke(ue);if((0,be.T)(ue))return function Re(ue){return new te.y(me=>{for(const Ce of ue)if(me.next(Ce),me.closed)return;me.complete()})}(ue);if((0,z.L)(ue))return function _t(ue){return Ke((0,z.Q)(ue))}(ue)}throw(0,ye.z)(ue)}function Ke(ue){return new te.y(me=>{(function lt(ue,me){var Ce,Be,Ge,de;return(0,a.mG)(this,void 0,void 0,function*(){try{for(Ce=(0,a.KL)(ue);!(Be=yield Ce.next()).done;)if(me.next(Be.value),me.closed)return}catch(ut){Ge={error:ut}}finally{try{Be&&!Be.done&&(de=Ce.return)&&(yield de.call(Ce))}finally{if(Ge)throw Ge.error}}me.complete()})})(ue,me).catch(Ce=>me.error(Ce))})}},6451:(on,st,D)=>{D.d(st,{T:()=>ce});var a=D(8189),R=D(8421),b=D(515),te=D(3269),v=D(8996);function ce(...ye){const be=(0,te.yG)(ye),z=(0,te._6)(ye,1/0),B=ye;return B.length?1===B.length?(0,R.Xf)(B[0]):(0,a.J)(z)((0,v.D)(B,be)):b.E}},9646:(on,st,D)=>{D.d(st,{of:()=>b});var a=D(3269),R=D(8996);function b(...te){const v=(0,a.yG)(te);return(0,R.D)(te,v)}},2843:(on,st,D)=>{D.d(st,{_:()=>b});var a=D(8306),R=D(576);function b(te,v){const ce=(0,R.m)(te)?te:()=>te,ye=be=>be.error(ce());return new a.y(v?be=>v.schedule(ye,0,be):ye)}},5963:(on,st,D)=>{D.d(st,{H:()=>v});var a=D(8306),R=D(4986),b=D(3532);function v(ce=0,ye,be=R.P){let z=-1;return null!=ye&&((0,b.K)(ye)?be=ye:z=ye),new a.y(B=>{let re=function te(ce){return ce instanceof Date&&!isNaN(ce)}(ce)?+ce-be.now():ce;re<0&&(re=0);let xe=0;return be.schedule(function(){B.closed||(B.next(xe++),0<=z?this.schedule(void 0,z):B.complete())},re)})}},5403:(on,st,D)=>{D.d(st,{x:()=>R});var a=D(930);function R(te,v,ce,ye,be){return new b(te,v,ce,ye,be)}class b extends a.Lv{constructor(v,ce,ye,be,z,B){super(v),this.onFinalize=z,this.shouldUnsubscribe=B,this._next=ce?function(re){try{ce(re)}catch(xe){v.error(xe)}}:super._next,this._error=be?function(re){try{be(re)}catch(xe){v.error(xe)}finally{this.unsubscribe()}}:super._error,this._complete=ye?function(){try{ye()}catch(re){v.error(re)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var v;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ce}=this;super.unsubscribe(),!ce&&(null===(v=this.onFinalize)||void 0===v||v.call(this))}}}},262:(on,st,D)=>{D.d(st,{K:()=>te});var a=D(8421),R=D(5403),b=D(4482);function te(v){return(0,b.e)((ce,ye)=>{let B,be=null,z=!1;be=ce.subscribe((0,R.x)(ye,void 0,void 0,re=>{B=(0,a.Xf)(v(re,te(v)(ce))),be?(be.unsubscribe(),be=null,B.subscribe(ye)):z=!0})),z&&(be.unsubscribe(),be=null,B.subscribe(ye))})}},4351:(on,st,D)=>{D.d(st,{b:()=>b});var a=D(5577),R=D(576);function b(te,v){return(0,R.m)(v)?(0,a.z)(te,v,1):(0,a.z)(te,1)}},8372:(on,st,D)=>{D.d(st,{b:()=>te});var a=D(4986),R=D(4482),b=D(5403);function te(v,ce=a.z){return(0,R.e)((ye,be)=>{let z=null,B=null,re=null;const xe=()=>{if(z){z.unsubscribe(),z=null;const Fe=B;B=null,be.next(Fe)}};function We(){const Fe=re+v,ot=ce.now();if(ot<Fe)return z=this.schedule(void 0,Fe-ot),void be.add(z);xe()}ye.subscribe((0,b.x)(be,Fe=>{B=Fe,re=ce.now(),z||(z=ce.schedule(We,v),be.add(z))},()=>{xe(),be.complete()},void 0,()=>{B=z=null}))})}},6590:(on,st,D)=>{D.d(st,{d:()=>b});var a=D(4482),R=D(5403);function b(te){return(0,a.e)((v,ce)=>{let ye=!1;v.subscribe((0,R.x)(ce,be=>{ye=!0,ce.next(be)},()=>{ye||ce.next(te),ce.complete()}))})}},1884:(on,st,D)=>{D.d(st,{x:()=>te});var a=D(4671),R=D(4482),b=D(5403);function te(ce,ye=a.y){return ce=null!=ce?ce:v,(0,R.e)((be,z)=>{let B,re=!0;be.subscribe((0,b.x)(z,xe=>{const We=ye(xe);(re||!ce(B,We))&&(re=!1,B=We,z.next(xe))}))})}function v(ce,ye){return ce===ye}},9300:(on,st,D)=>{D.d(st,{h:()=>b});var a=D(4482),R=D(5403);function b(te,v){return(0,a.e)((ce,ye)=>{let be=0;ce.subscribe((0,R.x)(ye,z=>te.call(v,z,be++)&&ye.next(z)))})}},8746:(on,st,D)=>{D.d(st,{x:()=>R});var a=D(4482);function R(b){return(0,a.e)((te,v)=>{try{te.subscribe(v)}finally{v.add(b)}})}},590:(on,st,D)=>{D.d(st,{P:()=>ye});var a=D(6805),R=D(9300),b=D(5698),te=D(6590),v=D(8068),ce=D(4671);function ye(be,z){const B=arguments.length>=2;return re=>re.pipe(be?(0,R.h)((xe,We)=>be(xe,We,re)):ce.y,(0,b.q)(1),B?(0,te.d)(z):(0,v.T)(()=>new a.K))}},4004:(on,st,D)=>{D.d(st,{U:()=>b});var a=D(4482),R=D(5403);function b(te,v){return(0,a.e)((ce,ye)=>{let be=0;ce.subscribe((0,R.x)(ye,z=>{ye.next(te.call(v,z,be++))}))})}},8189:(on,st,D)=>{D.d(st,{J:()=>b});var a=D(5577),R=D(4671);function b(te=1/0){return(0,a.z)(R.y,te)}},5577:(on,st,D)=>{D.d(st,{z:()=>be});var a=D(4004),R=D(8421),b=D(4482),te=D(9672),v=D(5403),ye=D(576);function be(z,B,re=1/0){return(0,ye.m)(B)?be((xe,We)=>(0,a.U)((Fe,ot)=>B(xe,Fe,We,ot))((0,R.Xf)(z(xe,We))),re):("number"==typeof B&&(re=B),(0,b.e)((xe,We)=>function ce(z,B,re,xe,We,Fe,ot,et){const Re=[];let Ke=0,_t=0,lt=!1;const ue=()=>{lt&&!Re.length&&!Ke&&B.complete()},me=Be=>Ke<xe?Ce(Be):Re.push(Be),Ce=Be=>{Fe&&B.next(Be),Ke++;let Ge=!1;(0,R.Xf)(re(Be,_t++)).subscribe((0,v.x)(B,de=>{null==We||We(de),Fe?me(de):B.next(de)},()=>{Ge=!0},void 0,()=>{if(Ge)try{for(Ke--;Re.length&&Ke<xe;){const de=Re.shift();ot?(0,te.f)(B,ot,()=>Ce(de)):Ce(de)}ue()}catch(de){B.error(de)}}))};return z.subscribe((0,v.x)(B,me,()=>{lt=!0,ue()})),()=>{null==et||et()}}(xe,We,z,re)))}},5363:(on,st,D)=>{D.d(st,{Q:()=>te});var a=D(9672),R=D(4482),b=D(5403);function te(v,ce=0){return(0,R.e)((ye,be)=>{ye.subscribe((0,b.x)(be,z=>(0,a.f)(be,v,()=>be.next(z),ce),()=>(0,a.f)(be,v,()=>be.complete(),ce),z=>(0,a.f)(be,v,()=>be.error(z),ce)))})}},5026:(on,st,D)=>{D.d(st,{R:()=>te});var a=D(4482),R=D(5403);function b(v,ce,ye,be,z){return(B,re)=>{let xe=ye,We=ce,Fe=0;B.subscribe((0,R.x)(re,ot=>{const et=Fe++;We=xe?v(We,ot,et):(xe=!0,ot),be&&re.next(We)},z&&(()=>{xe&&re.next(We),re.complete()})))}}function te(v,ce){return(0,a.e)(b(v,ce,arguments.length>=2,!0))}},3099:(on,st,D)=>{D.d(st,{B:()=>v});var a=D(8421),R=D(7579),b=D(930),te=D(4482);function v(ye={}){const{connector:be=(()=>new R.x),resetOnError:z=!0,resetOnComplete:B=!0,resetOnRefCountZero:re=!0}=ye;return xe=>{let We,Fe,ot,et=0,Re=!1,Ke=!1;const _t=()=>{null==Fe||Fe.unsubscribe(),Fe=void 0},lt=()=>{_t(),We=ot=void 0,Re=Ke=!1},ue=()=>{const me=We;lt(),null==me||me.unsubscribe()};return(0,te.e)((me,Ce)=>{et++,!Ke&&!Re&&_t();const Be=ot=null!=ot?ot:be();Ce.add(()=>{et--,0===et&&!Ke&&!Re&&(Fe=ce(ue,re))}),Be.subscribe(Ce),!We&&et>0&&(We=new b.Hp({next:Ge=>Be.next(Ge),error:Ge=>{Ke=!0,_t(),Fe=ce(lt,z,Ge),Be.error(Ge)},complete:()=>{Re=!0,_t(),Fe=ce(lt,B),Be.complete()}}),(0,a.Xf)(me).subscribe(We))})(xe)}}function ce(ye,be,...z){if(!0===be)return void ye();if(!1===be)return;const B=new b.Hp({next:()=>{B.unsubscribe(),ye()}});return be(...z).subscribe(B)}},8675:(on,st,D)=>{D.d(st,{O:()=>te});var a=D(7272),R=D(3269),b=D(4482);function te(...v){const ce=(0,R.yG)(v);return(0,b.e)((ye,be)=>{(ce?(0,a.z)(v,ye,ce):(0,a.z)(v,ye)).subscribe(be)})}},9468:(on,st,D)=>{D.d(st,{R:()=>R});var a=D(4482);function R(b,te=0){return(0,a.e)((v,ce)=>{ce.add(b.schedule(()=>v.subscribe(ce),te))})}},3900:(on,st,D)=>{D.d(st,{w:()=>te});var a=D(8421),R=D(4482),b=D(5403);function te(v,ce){return(0,R.e)((ye,be)=>{let z=null,B=0,re=!1;const xe=()=>re&&!z&&be.complete();ye.subscribe((0,b.x)(be,We=>{null==z||z.unsubscribe();let Fe=0;const ot=B++;(0,a.Xf)(v(We,ot)).subscribe(z=(0,b.x)(be,et=>be.next(ce?ce(We,et,ot,Fe++):et),()=>{z=null,xe()}))},()=>{re=!0,xe()}))})}},5698:(on,st,D)=>{D.d(st,{q:()=>te});var a=D(515),R=D(4482),b=D(5403);function te(v){return v<=0?()=>a.E:(0,R.e)((ce,ye)=>{let be=0;ce.subscribe((0,b.x)(ye,z=>{++be<=v&&(ye.next(z),v<=be&&ye.complete())}))})}},2722:(on,st,D)=>{D.d(st,{R:()=>v});var a=D(4482),R=D(5403),b=D(8421),te=D(5032);function v(ce){return(0,a.e)((ye,be)=>{(0,b.Xf)(ce).subscribe((0,R.x)(be,()=>be.complete(),te.Z)),!be.closed&&ye.subscribe(be)})}},8505:(on,st,D)=>{D.d(st,{b:()=>v});var a=D(576),R=D(4482),b=D(5403),te=D(4671);function v(ce,ye,be){const z=(0,a.m)(ce)||ye||be?{next:ce,error:ye,complete:be}:ce;return z?(0,R.e)((B,re)=>{var xe;null===(xe=z.subscribe)||void 0===xe||xe.call(z);let We=!0;B.subscribe((0,b.x)(re,Fe=>{var ot;null===(ot=z.next)||void 0===ot||ot.call(z,Fe),re.next(Fe)},()=>{var Fe;We=!1,null===(Fe=z.complete)||void 0===Fe||Fe.call(z),re.complete()},Fe=>{var ot;We=!1,null===(ot=z.error)||void 0===ot||ot.call(z,Fe),re.error(Fe)},()=>{var Fe,ot;We&&(null===(Fe=z.unsubscribe)||void 0===Fe||Fe.call(z)),null===(ot=z.finalize)||void 0===ot||ot.call(z)}))}):te.y}},8068:(on,st,D)=>{D.d(st,{T:()=>te});var a=D(6805),R=D(4482),b=D(5403);function te(ce=v){return(0,R.e)((ye,be)=>{let z=!1;ye.subscribe((0,b.x)(be,B=>{z=!0,be.next(B)},()=>z?be.complete():be.error(ce())))})}function v(){return new a.K}},4408:(on,st,D)=>{D.d(st,{o:()=>v});var a=D(727);class R extends a.w0{constructor(ye,be){super()}schedule(ye,be=0){return this}}const b={setInterval(ce,ye,...be){const{delegate:z}=b;return(null==z?void 0:z.setInterval)?z.setInterval(ce,ye,...be):setInterval(ce,ye,...be)},clearInterval(ce){const{delegate:ye}=b;return((null==ye?void 0:ye.clearInterval)||clearInterval)(ce)},delegate:void 0};var te=D(8737);class v extends R{constructor(ye,be){super(ye,be),this.scheduler=ye,this.work=be,this.pending=!1}schedule(ye,be=0){var z;if(this.closed)return this;this.state=ye;const B=this.id,re=this.scheduler;return null!=B&&(this.id=this.recycleAsyncId(re,B,be)),this.pending=!0,this.delay=be,this.id=null!==(z=this.id)&&void 0!==z?z:this.requestAsyncId(re,this.id,be),this}requestAsyncId(ye,be,z=0){return b.setInterval(ye.flush.bind(ye,this),z)}recycleAsyncId(ye,be,z=0){if(null!=z&&this.delay===z&&!1===this.pending)return be;null!=be&&b.clearInterval(be)}execute(ye,be){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const z=this._execute(ye,be);if(z)return z;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ye,be){let B,z=!1;try{this.work(ye)}catch(re){z=!0,B=re||new Error("Scheduled action threw falsy error")}if(z)return this.unsubscribe(),B}unsubscribe(){if(!this.closed){const{id:ye,scheduler:be}=this,{actions:z}=be;this.work=this.state=this.scheduler=null,this.pending=!1,(0,te.P)(z,this),null!=ye&&(this.id=this.recycleAsyncId(be,ye,null)),this.delay=null,super.unsubscribe()}}}},7565:(on,st,D)=>{D.d(st,{v:()=>b});var a=D(6063);class R{constructor(v,ce=R.now){this.schedulerActionCtor=v,this.now=ce}schedule(v,ce=0,ye){return new this.schedulerActionCtor(this,v).schedule(ye,ce)}}R.now=a.l.now;class b extends R{constructor(v,ce=R.now){super(v,ce),this.actions=[],this._active=!1}flush(v){const{actions:ce}=this;if(this._active)return void ce.push(v);let ye;this._active=!0;do{if(ye=v.execute(v.state,v.delay))break}while(v=ce.shift());if(this._active=!1,ye){for(;v=ce.shift();)v.unsubscribe();throw ye}}}},4986:(on,st,D)=>{D.d(st,{P:()=>te,z:()=>b});var a=D(4408);const b=new(D(7565).v)(a.o),te=b},6063:(on,st,D)=>{D.d(st,{l:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},3410:(on,st,D)=>{D.d(st,{z:()=>a});const a={setTimeout(R,b,...te){const{delegate:v}=a;return(null==v?void 0:v.setTimeout)?v.setTimeout(R,b,...te):setTimeout(R,b,...te)},clearTimeout(R){const{delegate:b}=a;return((null==b?void 0:b.clearTimeout)||clearTimeout)(R)},delegate:void 0}},2202:(on,st,D)=>{D.d(st,{h:()=>R});const R=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(on,st,D)=>{D.d(st,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(on,st,D)=>{D.d(st,{K:()=>R});const R=(0,D(3888).d)(b=>function(){b(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(on,st,D)=>{D.d(st,{_6:()=>ce,jO:()=>te,yG:()=>v});var a=D(576),R=D(3532);function b(ye){return ye[ye.length-1]}function te(ye){return(0,a.m)(b(ye))?ye.pop():void 0}function v(ye){return(0,R.K)(b(ye))?ye.pop():void 0}function ce(ye,be){return"number"==typeof b(ye)?ye.pop():be}},4742:(on,st,D)=>{D.d(st,{D:()=>v});const{isArray:a}=Array,{getPrototypeOf:R,prototype:b,keys:te}=Object;function v(ye){if(1===ye.length){const be=ye[0];if(a(be))return{args:be,keys:null};if(function ce(ye){return ye&&"object"==typeof ye&&R(ye)===b}(be)){const z=te(be);return{args:z.map(B=>be[B]),keys:z}}}return{args:ye,keys:null}}},8737:(on,st,D)=>{function a(R,b){if(R){const te=R.indexOf(b);0<=te&&R.splice(te,1)}}D.d(st,{P:()=>a})},3888:(on,st,D)=>{function a(R){const te=R(v=>{Error.call(v),v.stack=(new Error).stack});return te.prototype=Object.create(Error.prototype),te.prototype.constructor=te,te}D.d(st,{d:()=>a})},1810:(on,st,D)=>{function a(R,b){return R.reduce((te,v,ce)=>(te[v]=b[ce],te),{})}D.d(st,{n:()=>a})},2806:(on,st,D)=>{D.d(st,{O:()=>te,x:()=>b});var a=D(2416);let R=null;function b(v){if(a.v.useDeprecatedSynchronousErrorHandling){const ce=!R;if(ce&&(R={errorThrown:!1,error:null}),v(),ce){const{errorThrown:ye,error:be}=R;if(R=null,ye)throw be}}else v()}function te(v){a.v.useDeprecatedSynchronousErrorHandling&&R&&(R.errorThrown=!0,R.error=v)}},9672:(on,st,D)=>{function a(R,b,te,v=0,ce=!1){const ye=b.schedule(function(){te(),ce?R.add(this.schedule(null,v)):this.unsubscribe()},v);if(R.add(ye),!ce)return ye}D.d(st,{f:()=>a})},4671:(on,st,D)=>{function a(R){return R}D.d(st,{y:()=>a})},1144:(on,st,D)=>{D.d(st,{z:()=>a});const a=R=>R&&"number"==typeof R.length&&"function"!=typeof R},2206:(on,st,D)=>{D.d(st,{D:()=>R});var a=D(576);function R(b){return Symbol.asyncIterator&&(0,a.m)(null==b?void 0:b[Symbol.asyncIterator])}},576:(on,st,D)=>{function a(R){return"function"==typeof R}D.d(st,{m:()=>a})},3670:(on,st,D)=>{D.d(st,{c:()=>b});var a=D(8822),R=D(576);function b(te){return(0,R.m)(te[a.L])}},6495:(on,st,D)=>{D.d(st,{T:()=>b});var a=D(2202),R=D(576);function b(te){return(0,R.m)(null==te?void 0:te[a.h])}},8239:(on,st,D)=>{D.d(st,{t:()=>R});var a=D(576);function R(b){return(0,a.m)(null==b?void 0:b.then)}},3260:(on,st,D)=>{D.d(st,{L:()=>te,Q:()=>b});var a=D(655),R=D(576);function b(v){return(0,a.FC)(this,arguments,function*(){const ye=v.getReader();try{for(;;){const{value:be,done:z}=yield(0,a.qq)(ye.read());if(z)return yield(0,a.qq)(void 0);yield yield(0,a.qq)(be)}}finally{ye.releaseLock()}})}function te(v){return(0,R.m)(null==v?void 0:v.getReader)}},3532:(on,st,D)=>{D.d(st,{K:()=>R});var a=D(576);function R(b){return b&&(0,a.m)(b.schedule)}},4482:(on,st,D)=>{D.d(st,{A:()=>R,e:()=>b});var a=D(576);function R(te){return(0,a.m)(null==te?void 0:te.lift)}function b(te){return v=>{if(R(v))return v.lift(function(ce){try{return te(ce,this)}catch(ye){this.error(ye)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(on,st,D)=>{D.d(st,{Z:()=>te});var a=D(4004);const{isArray:R}=Array;function te(v){return(0,a.U)(ce=>function b(v,ce){return R(ce)?v(...ce):v(ce)}(v,ce))}},5032:(on,st,D)=>{function a(){}D.d(st,{Z:()=>a})},7849:(on,st,D)=>{D.d(st,{h:()=>b});var a=D(2416),R=D(3410);function b(te){R.z.setTimeout(()=>{const{onUnhandledError:v}=a.v;if(!v)throw te;v(te)})}},4532:(on,st,D)=>{function a(R){return new TypeError(`You provided ${null!==R&&"object"==typeof R?"an invalid object":`'${R}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}D.d(st,{z:()=>a})},655:(on,st,D)=>{function te(rt,Ft){var xt={};for(var Vt in rt)Object.prototype.hasOwnProperty.call(rt,Vt)&&Ft.indexOf(Vt)<0&&(xt[Vt]=rt[Vt]);if(null!=rt&&"function"==typeof Object.getOwnPropertySymbols){var Rt=0;for(Vt=Object.getOwnPropertySymbols(rt);Rt<Vt.length;Rt++)Ft.indexOf(Vt[Rt])<0&&Object.prototype.propertyIsEnumerable.call(rt,Vt[Rt])&&(xt[Vt[Rt]]=rt[Vt[Rt]])}return xt}function xe(rt,Ft,xt,Vt){return new(xt||(xt=Promise))(function(Lt,dn){function Wt(Pe){try{Ze(Vt.next(Pe))}catch(Le){dn(Le)}}function Ut(Pe){try{Ze(Vt.throw(Pe))}catch(Le){dn(Le)}}function Ze(Pe){Pe.done?Lt(Pe.value):function Rt(Lt){return Lt instanceof xt?Lt:new xt(function(dn){dn(Lt)})}(Pe.value).then(Wt,Ut)}Ze((Vt=Vt.apply(rt,Ft||[])).next())})}function ue(rt){return this instanceof ue?(this.v=rt,this):new ue(rt)}function me(rt,Ft,xt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Rt,Vt=xt.apply(rt,Ft||[]),Lt=[];return Rt={},dn("next"),dn("throw"),dn("return"),Rt[Symbol.asyncIterator]=function(){return this},Rt;function dn(tt){Vt[tt]&&(Rt[tt]=function(Je){return new Promise(function(Mt,rn){Lt.push([tt,Je,Mt,rn])>1||Wt(tt,Je)})})}function Wt(tt,Je){try{!function Ut(tt){tt.value instanceof ue?Promise.resolve(tt.value.v).then(Ze,Pe):Le(Lt[0][2],tt)}(Vt[tt](Je))}catch(Mt){Le(Lt[0][3],Mt)}}function Ze(tt){Wt("next",tt)}function Pe(tt){Wt("throw",tt)}function Le(tt,Je){tt(Je),Lt.shift(),Lt.length&&Wt(Lt[0][0],Lt[0][1])}}function Be(rt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var xt,Ft=rt[Symbol.asyncIterator];return Ft?Ft.call(rt):(rt=function et(rt){var Ft="function"==typeof Symbol&&Symbol.iterator,xt=Ft&&rt[Ft],Vt=0;if(xt)return xt.call(rt);if(rt&&"number"==typeof rt.length)return{next:function(){return rt&&Vt>=rt.length&&(rt=void 0),{value:rt&&rt[Vt++],done:!rt}}};throw new TypeError(Ft?"Object is not iterable.":"Symbol.iterator is not defined.")}(rt),xt={},Vt("next"),Vt("throw"),Vt("return"),xt[Symbol.asyncIterator]=function(){return this},xt);function Vt(Lt){xt[Lt]=rt[Lt]&&function(dn){return new Promise(function(Wt,Ut){!function Rt(Lt,dn,Wt,Ut){Promise.resolve(Ut).then(function(Ze){Lt({value:Ze,done:Wt})},dn)}(Wt,Ut,(dn=rt[Lt](dn)).done,dn.value)})}}}D.d(st,{FC:()=>me,KL:()=>Be,_T:()=>te,mG:()=>xe,qq:()=>ue})},1777:(on,st,D)=>{D.d(st,{F4:()=>B,IO:()=>ot,LC:()=>R,SB:()=>z,X$:()=>te,ZE:()=>_t,ZN:()=>Ke,_j:()=>a,eR:()=>re,jt:()=>v,k1:()=>lt,l3:()=>b,oB:()=>be,pV:()=>We,ru:()=>ce,vP:()=>ye});class a{}class R{}const b="*";function te(ue,me){return{type:7,name:ue,definitions:me,options:{}}}function v(ue,me=null){return{type:4,styles:me,timings:ue}}function ce(ue,me=null){return{type:3,steps:ue,options:me}}function ye(ue,me=null){return{type:2,steps:ue,options:me}}function be(ue){return{type:6,styles:ue,offset:null}}function z(ue,me,Ce){return{type:0,name:ue,styles:me,options:Ce}}function B(ue){return{type:5,steps:ue}}function re(ue,me,Ce=null){return{type:1,expr:ue,animation:me,options:Ce}}function We(ue=null){return{type:9,options:ue}}function ot(ue,me,Ce=null){return{type:11,selector:ue,animation:me,options:Ce}}function Re(ue){Promise.resolve(null).then(ue)}class Ke{constructor(me=0,Ce=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=me+Ce}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(me=>me()),this._onDoneFns=[])}onStart(me){this._onStartFns.push(me)}onDone(me){this._onDoneFns.push(me)}onDestroy(me){this._onDestroyFns.push(me)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Re(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(me=>me()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(me=>me()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(me){this._position=this.totalTime?me*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(me){const Ce="start"==me?this._onStartFns:this._onDoneFns;Ce.forEach(Be=>Be()),Ce.length=0}}class _t{constructor(me){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=me;let Ce=0,Be=0,Ge=0;const de=this.players.length;0==de?Re(()=>this._onFinish()):this.players.forEach(ut=>{ut.onDone(()=>{++Ce==de&&this._onFinish()}),ut.onDestroy(()=>{++Be==de&&this._onDestroy()}),ut.onStart(()=>{++Ge==de&&this._onStart()})}),this.totalTime=this.players.reduce((ut,Qe)=>Math.max(ut,Qe.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(me=>me()),this._onDoneFns=[])}init(){this.players.forEach(me=>me.init())}onStart(me){this._onStartFns.push(me)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(me=>me()),this._onStartFns=[])}onDone(me){this._onDoneFns.push(me)}onDestroy(me){this._onDestroyFns.push(me)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(me=>me.play())}pause(){this.players.forEach(me=>me.pause())}restart(){this.players.forEach(me=>me.restart())}finish(){this._onFinish(),this.players.forEach(me=>me.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(me=>me.destroy()),this._onDestroyFns.forEach(me=>me()),this._onDestroyFns=[])}reset(){this.players.forEach(me=>me.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(me){const Ce=me*this.totalTime;this.players.forEach(Be=>{const Ge=Be.totalTime?Math.min(1,Ce/Be.totalTime):1;Be.setPosition(Ge)})}getPosition(){const me=this.players.reduce((Ce,Be)=>null===Ce||Be.totalTime>Ce.totalTime?Be:Ce,null);return null!=me?me.getPosition():0}beforeDestroy(){this.players.forEach(me=>{me.beforeDestroy&&me.beforeDestroy()})}triggerCallback(me){const Ce="start"==me?this._onStartFns:this._onDoneFns;Ce.forEach(Be=>Be()),Ce.length=0}}const lt="!"},8255:(on,st,D)=>{D.d(st,{rt:()=>At,Em:()=>rt,tE:()=>ii,qV:()=>fn,qm:()=>Sn,ic:()=>xt,X6:()=>vt,yG:()=>Ht});var a=D(9808),R=D(5e3),b=D(925),te=D(7579),v=D(727),ce=D(1135),ye=D(9646),be=D(1159),z=D(9300),re=D(8505),xe=D(8372),We=D(4004),Fe=D(5698),ot=D(1884),et=D(2722),Re=D(3191),Ke=D(7144);class rt extends class bt{constructor(O){this._items=O,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new te.x,this._typeaheadSubscription=v.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=m=>m.disabled,this._pressedLetters=[],this.tabOut=new te.x,this.change=new te.x,O instanceof R.n_E&&O.changes.subscribe(m=>{if(this._activeItem){const U=m.toArray().indexOf(this._activeItem);U>-1&&U!==this._activeItemIndex&&(this._activeItemIndex=U)}})}skipPredicate(O){return this._skipPredicateFn=O,this}withWrap(O=!0){return this._wrap=O,this}withVerticalOrientation(O=!0){return this._vertical=O,this}withHorizontalOrientation(O){return this._horizontal=O,this}withAllowedModifierKeys(O){return this._allowedModifierKeys=O,this}withTypeAhead(O=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,re.b)(m=>this._pressedLetters.push(m)),(0,xe.b)(O),(0,z.h)(()=>this._pressedLetters.length>0),(0,We.U)(()=>this._pressedLetters.join(""))).subscribe(m=>{const x=this._getItemsArray();for(let U=1;U<x.length+1;U++){const Se=(this._activeItemIndex+U)%x.length,Me=x[Se];if(!this._skipPredicateFn(Me)&&0===Me.getLabel().toUpperCase().trim().indexOf(m)){this.setActiveItem(Se);break}}this._pressedLetters=[]}),this}withHomeAndEnd(O=!0){return this._homeAndEnd=O,this}setActiveItem(O){const m=this._activeItem;this.updateActiveItem(O),this._activeItem!==m&&this.change.next(this._activeItemIndex)}onKeydown(O){const m=O.keyCode,U=["altKey","ctrlKey","metaKey","shiftKey"].every(Se=>!O[Se]||this._allowedModifierKeys.indexOf(Se)>-1);switch(m){case be.Mf:return void this.tabOut.next();case be.JH:if(this._vertical&&U){this.setNextItemActive();break}return;case be.LH:if(this._vertical&&U){this.setPreviousItemActive();break}return;case be.SV:if(this._horizontal&&U){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case be.oh:if(this._horizontal&&U){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case be.Sd:if(this._homeAndEnd&&U){this.setFirstItemActive();break}return;case be.uR:if(this._homeAndEnd&&U){this.setLastItemActive();break}return;default:return void((U||(0,be.Vb)(O,"shiftKey"))&&(O.key&&1===O.key.length?this._letterKeyStream.next(O.key.toLocaleUpperCase()):(m>=be.A&&m<=be.Z||m>=be.xE&&m<=be.aO)&&this._letterKeyStream.next(String.fromCharCode(m))))}this._pressedLetters=[],O.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(O){const m=this._getItemsArray(),x="number"==typeof O?O:m.indexOf(O),U=m[x];this._activeItem=null==U?null:U,this._activeItemIndex=x}_setActiveItemByDelta(O){this._wrap?this._setActiveInWrapMode(O):this._setActiveInDefaultMode(O)}_setActiveInWrapMode(O){const m=this._getItemsArray();for(let x=1;x<=m.length;x++){const U=(this._activeItemIndex+O*x+m.length)%m.length;if(!this._skipPredicateFn(m[U]))return void this.setActiveItem(U)}}_setActiveInDefaultMode(O){this._setActiveItemByIndex(this._activeItemIndex+O,O)}_setActiveItemByIndex(O,m){const x=this._getItemsArray();if(x[O]){for(;this._skipPredicateFn(x[O]);)if(!x[O+=m])return;this.setActiveItem(O)}}_getItemsArray(){return this._items instanceof R.n_E?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(O){return this._origin=O,this}setActiveItem(O){super.setActiveItem(O),this.activeItem&&this.activeItem.focus(this._origin)}}let xt=(()=>{class W{constructor(m){this._platform=m}isDisabled(m){return m.hasAttribute("disabled")}isVisible(m){return function Rt(W){return!!(W.offsetWidth||W.offsetHeight||"function"==typeof W.getClientRects&&W.getClientRects().length)}(m)&&"visible"===getComputedStyle(m).visibility}isTabbable(m){if(!this._platform.isBrowser)return!1;const x=function Vt(W){try{return W.frameElement}catch(O){return null}}(function Mt(W){return W.ownerDocument&&W.ownerDocument.defaultView||window}(m));if(x&&(-1===Le(x)||!this.isVisible(x)))return!1;let U=m.nodeName.toLowerCase(),Se=Le(m);return m.hasAttribute("contenteditable")?-1!==Se:!("iframe"===U||"object"===U||this._platform.WEBKIT&&this._platform.IOS&&!function tt(W){let O=W.nodeName.toLowerCase(),m="input"===O&&W.type;return"text"===m||"password"===m||"select"===O||"textarea"===O}(m))&&("audio"===U?!!m.hasAttribute("controls")&&-1!==Se:"video"===U?-1!==Se&&(null!==Se||this._platform.FIREFOX||m.hasAttribute("controls")):m.tabIndex>=0)}isFocusable(m,x){return function Je(W){return!function dn(W){return function Ut(W){return"input"==W.nodeName.toLowerCase()}(W)&&"hidden"==W.type}(W)&&(function Lt(W){let O=W.nodeName.toLowerCase();return"input"===O||"select"===O||"button"===O||"textarea"===O}(W)||function Wt(W){return function Ze(W){return"a"==W.nodeName.toLowerCase()}(W)&&W.hasAttribute("href")}(W)||W.hasAttribute("contenteditable")||Pe(W))}(m)&&!this.isDisabled(m)&&((null==x?void 0:x.ignoreVisibility)||this.isVisible(m))}}return W.\u0275fac=function(m){return new(m||W)(R.LFG(b.t4))},W.\u0275prov=R.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"}),W})();function Pe(W){if(!W.hasAttribute("tabindex")||void 0===W.tabIndex)return!1;let O=W.getAttribute("tabindex");return!(!O||isNaN(parseInt(O,10)))}function Le(W){if(!Pe(W))return null;const O=parseInt(W.getAttribute("tabindex")||"",10);return isNaN(O)?-1:O}class rn{constructor(O,m,x,U,Se=!1){this._element=O,this._checker=m,this._ngZone=x,this._document=U,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,Se||this.attachAnchors()}get enabled(){return this._enabled}set enabled(O){this._enabled=O,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(O,this._startAnchor),this._toggleAnchorTabIndex(O,this._endAnchor))}destroy(){const O=this._startAnchor,m=this._endAnchor;O&&(O.removeEventListener("focus",this.startAnchorListener),O.remove()),m&&(m.removeEventListener("focus",this.endAnchorListener),m.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(O){return new Promise(m=>{this._executeOnStable(()=>m(this.focusInitialElement(O)))})}focusFirstTabbableElementWhenReady(O){return new Promise(m=>{this._executeOnStable(()=>m(this.focusFirstTabbableElement(O)))})}focusLastTabbableElementWhenReady(O){return new Promise(m=>{this._executeOnStable(()=>m(this.focusLastTabbableElement(O)))})}_getRegionBoundary(O){const m=this._element.querySelectorAll(`[cdk-focus-region-${O}], [cdkFocusRegion${O}], [cdk-focus-${O}]`);return"start"==O?m.length?m[0]:this._getFirstTabbableElement(this._element):m.length?m[m.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(O){const m=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(m){if(!this._checker.isFocusable(m)){const x=this._getFirstTabbableElement(m);return null==x||x.focus(O),!!x}return m.focus(O),!0}return this.focusFirstTabbableElement(O)}focusFirstTabbableElement(O){const m=this._getRegionBoundary("start");return m&&m.focus(O),!!m}focusLastTabbableElement(O){const m=this._getRegionBoundary("end");return m&&m.focus(O),!!m}hasAttached(){return this._hasAttached}_getFirstTabbableElement(O){if(this._checker.isFocusable(O)&&this._checker.isTabbable(O))return O;const m=O.children;for(let x=0;x<m.length;x++){const U=m[x].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(m[x]):null;if(U)return U}return null}_getLastTabbableElement(O){if(this._checker.isFocusable(O)&&this._checker.isTabbable(O))return O;const m=O.children;for(let x=m.length-1;x>=0;x--){const U=m[x].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(m[x]):null;if(U)return U}return null}_createAnchor(){const O=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,O),O.classList.add("cdk-visually-hidden"),O.classList.add("cdk-focus-trap-anchor"),O.setAttribute("aria-hidden","true"),O}_toggleAnchorTabIndex(O,m){O?m.setAttribute("tabindex","0"):m.removeAttribute("tabindex")}toggleAnchors(O){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(O,this._startAnchor),this._toggleAnchorTabIndex(O,this._endAnchor))}_executeOnStable(O){this._ngZone.isStable?O():this._ngZone.onStable.pipe((0,Fe.q)(1)).subscribe(O)}}let fn=(()=>{class W{constructor(m,x,U){this._checker=m,this._ngZone=x,this._document=U}create(m,x=!1){return new rn(m,this._checker,this._ngZone,this._document,x)}}return W.\u0275fac=function(m){return new(m||W)(R.LFG(xt),R.LFG(R.R0b),R.LFG(a.K0))},W.\u0275prov=R.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"}),W})();function vt(W){return 0===W.buttons||0===W.offsetX&&0===W.offsetY}function Ht(W){const O=W.touches&&W.touches[0]||W.changedTouches&&W.changedTouches[0];return!(!O||-1!==O.identifier||null!=O.radiusX&&1!==O.radiusX||null!=O.radiusY&&1!==O.radiusY)}const Ye=new R.OlP("cdk-input-modality-detector-options"),ct={ignoreKeys:[be.zL,be.jx,be.b2,be.MW,be.JU]},oe=(0,b.i$)({passive:!0,capture:!0});let _e=(()=>{class W{constructor(m,x,U,Se){this._platform=m,this._mostRecentTarget=null,this._modality=new ce.X(null),this._lastTouchMs=0,this._onKeydown=Me=>{var Ie,je;(null===(je=null===(Ie=this._options)||void 0===Ie?void 0:Ie.ignoreKeys)||void 0===je?void 0:je.some(It=>It===Me.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=(0,b.sA)(Me))},this._onMousedown=Me=>{Date.now()-this._lastTouchMs<650||(this._modality.next(vt(Me)?"keyboard":"mouse"),this._mostRecentTarget=(0,b.sA)(Me))},this._onTouchstart=Me=>{Ht(Me)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,b.sA)(Me))},this._options=Object.assign(Object.assign({},ct),Se),this.modalityDetected=this._modality.pipe(function B(W){return(0,z.h)((O,m)=>W<=m)}(1)),this.modalityChanged=this.modalityDetected.pipe((0,ot.x)()),m.isBrowser&&x.runOutsideAngular(()=>{U.addEventListener("keydown",this._onKeydown,oe),U.addEventListener("mousedown",this._onMousedown,oe),U.addEventListener("touchstart",this._onTouchstart,oe)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,oe),document.removeEventListener("mousedown",this._onMousedown,oe),document.removeEventListener("touchstart",this._onTouchstart,oe))}}return W.\u0275fac=function(m){return new(m||W)(R.LFG(b.t4),R.LFG(R.R0b),R.LFG(a.K0),R.LFG(Ye,8))},W.\u0275prov=R.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"}),W})();const kn=new R.OlP("cdk-focus-monitor-default-options"),Fn=(0,b.i$)({passive:!0,capture:!0});let ii=(()=>{class W{constructor(m,x,U,Se,Me){this._ngZone=m,this._platform=x,this._inputModalityDetector=U,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new te.x,this._rootNodeFocusAndBlurListener=Ie=>{const je=(0,b.sA)(Ie),It="focus"===Ie.type?this._onFocus:this._onBlur;for(let Et=je;Et;Et=Et.parentElement)It.call(this,Ie,Et)},this._document=Se,this._detectionMode=(null==Me?void 0:Me.detectionMode)||0}monitor(m,x=!1){const U=(0,Re.fI)(m);if(!this._platform.isBrowser||1!==U.nodeType)return(0,ye.of)(null);const Se=(0,b.kV)(U)||this._getDocument(),Me=this._elementInfo.get(U);if(Me)return x&&(Me.checkChildren=!0),Me.subject;const Ie={checkChildren:x,subject:new te.x,rootNode:Se};return this._elementInfo.set(U,Ie),this._registerGlobalListeners(Ie),Ie.subject}stopMonitoring(m){const x=(0,Re.fI)(m),U=this._elementInfo.get(x);U&&(U.subject.complete(),this._setClasses(x),this._elementInfo.delete(x),this._removeGlobalListeners(U))}focusVia(m,x,U){const Se=(0,Re.fI)(m);Se===this._getDocument().activeElement?this._getClosestElementsInfo(Se).forEach(([Ie,je])=>this._originChanged(Ie,x,je)):(this._setOrigin(x),"function"==typeof Se.focus&&Se.focus(U))}ngOnDestroy(){this._elementInfo.forEach((m,x)=>this.stopMonitoring(x))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(m){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(m)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(m){return 1===this._detectionMode||!!(null==m?void 0:m.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(m,x){m.classList.toggle("cdk-focused",!!x),m.classList.toggle("cdk-touch-focused","touch"===x),m.classList.toggle("cdk-keyboard-focused","keyboard"===x),m.classList.toggle("cdk-mouse-focused","mouse"===x),m.classList.toggle("cdk-program-focused","program"===x)}_setOrigin(m,x=!1){this._ngZone.runOutsideAngular(()=>{this._origin=m,this._originFromTouchInteraction="touch"===m&&x,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(m,x){const U=this._elementInfo.get(x),Se=(0,b.sA)(m);!U||!U.checkChildren&&x!==Se||this._originChanged(x,this._getFocusOrigin(Se),U)}_onBlur(m,x){const U=this._elementInfo.get(x);!U||U.checkChildren&&m.relatedTarget instanceof Node&&x.contains(m.relatedTarget)||(this._setClasses(x),this._emitOrigin(U.subject,null))}_emitOrigin(m,x){this._ngZone.run(()=>m.next(x))}_registerGlobalListeners(m){if(!this._platform.isBrowser)return;const x=m.rootNode,U=this._rootNodeFocusListenerCount.get(x)||0;U||this._ngZone.runOutsideAngular(()=>{x.addEventListener("focus",this._rootNodeFocusAndBlurListener,Fn),x.addEventListener("blur",this._rootNodeFocusAndBlurListener,Fn)}),this._rootNodeFocusListenerCount.set(x,U+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,et.R)(this._stopInputModalityDetector)).subscribe(Se=>{this._setOrigin(Se,!0)}))}_removeGlobalListeners(m){const x=m.rootNode;if(this._rootNodeFocusListenerCount.has(x)){const U=this._rootNodeFocusListenerCount.get(x);U>1?this._rootNodeFocusListenerCount.set(x,U-1):(x.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Fn),x.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Fn),this._rootNodeFocusListenerCount.delete(x))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(m,x,U){this._setClasses(m,x),this._emitOrigin(U.subject,x),this._lastFocusOrigin=x}_getClosestElementsInfo(m){const x=[];return this._elementInfo.forEach((U,Se)=>{(Se===m||U.checkChildren&&Se.contains(m))&&x.push([Se,U])}),x}}return W.\u0275fac=function(m){return new(m||W)(R.LFG(R.R0b),R.LFG(b.t4),R.LFG(_e),R.LFG(a.K0,8),R.LFG(kn,8))},W.\u0275prov=R.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"}),W})();const ri="cdk-high-contrast-black-on-white",mn="cdk-high-contrast-white-on-black",mi="cdk-high-contrast-active";let Sn=(()=>{class W{constructor(m,x){this._platform=m,this._document=x}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const m=this._document.createElement("div");m.style.backgroundColor="rgb(1,2,3)",m.style.position="absolute",this._document.body.appendChild(m);const x=this._document.defaultView||window,U=x&&x.getComputedStyle?x.getComputedStyle(m):null,Se=(U&&U.backgroundColor||"").replace(/ /g,"");switch(m.remove(),Se){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const m=this._document.body.classList;m.remove(mi),m.remove(ri),m.remove(mn),this._hasCheckedHighContrastMode=!0;const x=this.getHighContrastMode();1===x?(m.add(mi),m.add(ri)):2===x&&(m.add(mi),m.add(mn))}}}return W.\u0275fac=function(m){return new(m||W)(R.LFG(b.t4),R.LFG(a.K0))},W.\u0275prov=R.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"}),W})(),At=(()=>{class W{constructor(m){m._applyBodyHighContrastModeCssClasses()}}return W.\u0275fac=function(m){return new(m||W)(R.LFG(Sn))},W.\u0275mod=R.oAB({type:W}),W.\u0275inj=R.cJS({imports:[[Ke.Q8]]}),W})()},226:(on,st,D)=>{D.d(st,{Is:()=>ye,vT:()=>z});var a=D(5e3),R=D(9808);const b=new a.OlP("cdk-dir-doc",{providedIn:"root",factory:function te(){return(0,a.f3M)(R.K0)}}),v=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let ye=(()=>{class B{constructor(xe){if(this.value="ltr",this.change=new a.vpe,xe){const Fe=xe.documentElement?xe.documentElement.dir:null;this.value=function ce(B){const re=(null==B?void 0:B.toLowerCase())||"";return"auto"===re&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?v.test(navigator.language)?"rtl":"ltr":"rtl"===re?"rtl":"ltr"}((xe.body?xe.body.dir:null)||Fe||"ltr")}}ngOnDestroy(){this.change.complete()}}return B.\u0275fac=function(xe){return new(xe||B)(a.LFG(b,8))},B.\u0275prov=a.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"}),B})(),z=(()=>{class B{}return B.\u0275fac=function(xe){return new(xe||B)},B.\u0275mod=a.oAB({type:B}),B.\u0275inj=a.cJS({}),B})()},3191:(on,st,D)=>{D.d(st,{Eq:()=>v,HM:()=>ce,Ig:()=>R,fI:()=>ye,su:()=>b});var a=D(5e3);function R(z){return null!=z&&"false"!=`${z}`}function b(z,B=0){return function te(z){return!isNaN(parseFloat(z))&&!isNaN(Number(z))}(z)?Number(z):B}function v(z){return Array.isArray(z)?z:[z]}function ce(z){return null==z?"":"string"==typeof z?z:`${z}px`}function ye(z){return z instanceof a.SBq?z.nativeElement:z}},449:(on,st,D)=>{D.d(st,{Ov:()=>be,Z9:()=>te,eX:()=>ye,k:()=>re,yy:()=>ce});var a=D(7579),R=D(5e3);function te(xe){return xe&&"function"==typeof xe.connect}class ce{applyChanges(We,Fe,ot,et,Re){We.forEachOperation((Ke,_t,lt)=>{let ue,me;if(null==Ke.previousIndex){const Ce=ot(Ke,_t,lt);ue=Fe.createEmbeddedView(Ce.templateRef,Ce.context,Ce.index),me=1}else null==lt?(Fe.remove(_t),me=3):(ue=Fe.get(_t),Fe.move(ue,lt),me=2);Re&&Re({context:null==ue?void 0:ue.context,operation:me,record:Ke})})}detach(){}}class ye{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(We,Fe,ot,et,Re){We.forEachOperation((Ke,_t,lt)=>{let ue,me;null==Ke.previousIndex?(ue=this._insertView(()=>ot(Ke,_t,lt),lt,Fe,et(Ke)),me=ue?1:0):null==lt?(this._detachAndCacheView(_t,Fe),me=3):(ue=this._moveView(_t,lt,Fe,et(Ke)),me=2),Re&&Re({context:null==ue?void 0:ue.context,operation:me,record:Ke})})}detach(){for(const We of this._viewCache)We.destroy();this._viewCache=[]}_insertView(We,Fe,ot,et){const Re=this._insertViewFromCache(Fe,ot);if(Re)return void(Re.context.$implicit=et);const Ke=We();return ot.createEmbeddedView(Ke.templateRef,Ke.context,Ke.index)}_detachAndCacheView(We,Fe){const ot=Fe.detach(We);this._maybeCacheView(ot,Fe)}_moveView(We,Fe,ot,et){const Re=ot.get(We);return ot.move(Re,Fe),Re.context.$implicit=et,Re}_maybeCacheView(We,Fe){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(We);else{const ot=Fe.indexOf(We);-1===ot?We.destroy():Fe.remove(ot)}}_insertViewFromCache(We,Fe){const ot=this._viewCache.pop();return ot&&Fe.insert(ot,We),ot||null}}class be{constructor(We=!1,Fe,ot=!0){this._multiple=We,this._emitChanges=ot,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new a.x,Fe&&Fe.length&&(We?Fe.forEach(et=>this._markSelected(et)):this._markSelected(Fe[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...We){this._verifyValueAssignment(We),We.forEach(Fe=>this._markSelected(Fe)),this._emitChangeEvent()}deselect(...We){this._verifyValueAssignment(We),We.forEach(Fe=>this._unmarkSelected(Fe)),this._emitChangeEvent()}toggle(We){this.isSelected(We)?this.deselect(We):this.select(We)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(We){return this._selection.has(We)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(We){this._multiple&&this.selected&&this._selected.sort(We)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(We){this.isSelected(We)||(this._multiple||this._unmarkAll(),this._selection.add(We),this._emitChanges&&this._selectedToEmit.push(We))}_unmarkSelected(We){this.isSelected(We)&&(this._selection.delete(We),this._emitChanges&&this._deselectedToEmit.push(We))}_unmarkAll(){this.isEmpty()||this._selection.forEach(We=>this._unmarkSelected(We))}_verifyValueAssignment(We){}}const re=new R.OlP("_ViewRepeater")},1159:(on,st,D)=>{D.d(st,{A:()=>Wt,JH:()=>lt,JU:()=>ce,K5:()=>v,LH:()=>Ke,L_:()=>xe,MW:()=>nn,Mf:()=>b,SV:()=>_t,Sd:()=>et,Vb:()=>Dt,Z:()=>qt,aO:()=>xt,b2:()=>Pt,hY:()=>re,jx:()=>ye,oh:()=>Re,uR:()=>ot,xE:()=>Ge,zL:()=>be});const b=9,v=13,ce=16,ye=17,be=18,re=27,xe=32,ot=35,et=36,Re=37,Ke=38,_t=39,lt=40,Ge=48,xt=57,Wt=65,qt=90,nn=91,Pt=224;function Dt(St,...an){return an.length?an.some(_n=>St[_n]):St.altKey||St.shiftKey||St.ctrlKey||St.metaKey}},7144:(on,st,D)=>{D.d(st,{Q8:()=>z,wD:()=>be});var a=D(3191),R=D(5e3),b=D(8306),te=D(7579),v=D(8372);let ce=(()=>{class B{create(xe){return"undefined"==typeof MutationObserver?null:new MutationObserver(xe)}}return B.\u0275fac=function(xe){return new(xe||B)},B.\u0275prov=R.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"}),B})(),ye=(()=>{class B{constructor(xe){this._mutationObserverFactory=xe,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((xe,We)=>this._cleanupObserver(We))}observe(xe){const We=(0,a.fI)(xe);return new b.y(Fe=>{const et=this._observeElement(We).subscribe(Fe);return()=>{et.unsubscribe(),this._unobserveElement(We)}})}_observeElement(xe){if(this._observedElements.has(xe))this._observedElements.get(xe).count++;else{const We=new te.x,Fe=this._mutationObserverFactory.create(ot=>We.next(ot));Fe&&Fe.observe(xe,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(xe,{observer:Fe,stream:We,count:1})}return this._observedElements.get(xe).stream}_unobserveElement(xe){this._observedElements.has(xe)&&(this._observedElements.get(xe).count--,this._observedElements.get(xe).count||this._cleanupObserver(xe))}_cleanupObserver(xe){if(this._observedElements.has(xe)){const{observer:We,stream:Fe}=this._observedElements.get(xe);We&&We.disconnect(),Fe.complete(),this._observedElements.delete(xe)}}}return B.\u0275fac=function(xe){return new(xe||B)(R.LFG(ce))},B.\u0275prov=R.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"}),B})(),be=(()=>{class B{constructor(xe,We,Fe){this._contentObserver=xe,this._elementRef=We,this._ngZone=Fe,this.event=new R.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(xe){this._disabled=(0,a.Ig)(xe),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(xe){this._debounce=(0,a.su)(xe),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const xe=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?xe.pipe((0,v.b)(this.debounce)):xe).subscribe(this.event)})}_unsubscribe(){var xe;null===(xe=this._currentSubscription)||void 0===xe||xe.unsubscribe()}}return B.\u0275fac=function(xe){return new(xe||B)(R.Y36(ye),R.Y36(R.SBq),R.Y36(R.R0b))},B.\u0275dir=R.lG2({type:B,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),B})(),z=(()=>{class B{}return B.\u0275fac=function(xe){return new(xe||B)},B.\u0275mod=R.oAB({type:B}),B.\u0275inj=R.cJS({providers:[ce]}),B})()},1314:(on,st,D)=>{D.d(st,{U8:()=>Qn,X_:()=>me,Xj:()=>jt,aV:()=>Le});var a=D(8962),R=D(9808),b=D(5e3),te=D(3191),v=D(925),ce=D(226),ye=D(7429),be=D(7579),z=D(727),B=D(6451),re=D(5698),xe=D(2722);const We=(0,v.Mq)();class Fe{constructor(fe,$e){this._viewportRuler=fe,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=$e}attach(){}enable(){if(this._canBeEnabled()){const fe=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=fe.style.left||"",this._previousHTMLStyles.top=fe.style.top||"",fe.style.left=(0,te.HM)(-this._previousScrollPosition.left),fe.style.top=(0,te.HM)(-this._previousScrollPosition.top),fe.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const fe=this._document.documentElement,vt=fe.style,Ht=this._document.body.style,Ye=vt.scrollBehavior||"",ct=Ht.scrollBehavior||"";this._isEnabled=!1,vt.left=this._previousHTMLStyles.left,vt.top=this._previousHTMLStyles.top,fe.classList.remove("cdk-global-scrollblock"),We&&(vt.scrollBehavior=Ht.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),We&&(vt.scrollBehavior=Ye,Ht.scrollBehavior=ct)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const $e=this._document.body,vt=this._viewportRuler.getViewportSize();return $e.scrollHeight>vt.height||$e.scrollWidth>vt.width}}class et{constructor(fe,$e,vt,Ht){this._scrollDispatcher=fe,this._ngZone=$e,this._viewportRuler=vt,this._config=Ht,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(fe){this._overlayRef=fe}enable(){if(this._scrollSubscription)return;const fe=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=fe.subscribe(()=>{const $e=this._viewportRuler.getViewportScrollPosition().top;Math.abs($e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=fe.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Re{enable(){}disable(){}attach(){}}function Ke(Qt,fe){return fe.some($e=>Qt.bottom<$e.top||Qt.top>$e.bottom||Qt.right<$e.left||Qt.left>$e.right)}function _t(Qt,fe){return fe.some($e=>Qt.top<$e.top||Qt.bottom>$e.bottom||Qt.left<$e.left||Qt.right>$e.right)}class lt{constructor(fe,$e,vt,Ht){this._scrollDispatcher=fe,this._viewportRuler=$e,this._ngZone=vt,this._config=Ht,this._scrollSubscription=null}attach(fe){this._overlayRef=fe}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const $e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:vt,height:Ht}=this._viewportRuler.getViewportSize();Ke($e,[{width:vt,height:Ht,bottom:Ht,right:vt,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let ue=(()=>{class Qt{constructor($e,vt,Ht,Ye){this._scrollDispatcher=$e,this._viewportRuler=vt,this._ngZone=Ht,this.noop=()=>new Re,this.close=ct=>new et(this._scrollDispatcher,this._ngZone,this._viewportRuler,ct),this.block=()=>new Fe(this._viewportRuler,this._document),this.reposition=ct=>new lt(this._scrollDispatcher,this._viewportRuler,this._ngZone,ct),this._document=Ye}}return Qt.\u0275fac=function($e){return new($e||Qt)(b.LFG(a.mF),b.LFG(a.rL),b.LFG(b.R0b),b.LFG(R.K0))},Qt.\u0275prov=b.Yz7({token:Qt,factory:Qt.\u0275fac,providedIn:"root"}),Qt})();class me{constructor(fe){if(this.scrollStrategy=new Re,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,fe){const $e=Object.keys(fe);for(const vt of $e)void 0!==fe[vt]&&(this[vt]=fe[vt])}}}class Ge{constructor(fe,$e){this.connectionPair=fe,this.scrollableViewProperties=$e}}class Qe{constructor(fe,$e,vt,Ht,Ye,ct,X,oe,_e){this._portalOutlet=fe,this._host=$e,this._pane=vt,this._config=Ht,this._ngZone=Ye,this._keyboardDispatcher=ct,this._document=X,this._location=oe,this._outsideClickDispatcher=_e,this._backdropElement=null,this._backdropClick=new be.x,this._attachments=new be.x,this._detachments=new be.x,this._locationChanges=z.w0.EMPTY,this._backdropClickHandler=dt=>this._backdropClick.next(dt),this._backdropTransitionendHandler=dt=>{this._disposeBackdrop(dt.target)},this._keydownEvents=new be.x,this._outsidePointerEvents=new be.x,Ht.scrollStrategy&&(this._scrollStrategy=Ht.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=Ht.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(fe){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const $e=this._portalOutlet.attach(fe);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,re.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),$e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const fe=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),fe}dispose(){var fe;const $e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(fe=this._host)||void 0===fe||fe.remove(),this._previousHostParent=this._pane=this._host=null,$e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(fe){fe!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=fe,this.hasAttached()&&(fe.attach(this),this.updatePosition()))}updateSize(fe){this._config=Object.assign(Object.assign({},this._config),fe),this._updateElementSize()}setDirection(fe){this._config=Object.assign(Object.assign({},this._config),{direction:fe}),this._updateElementDirection()}addPanelClass(fe){this._pane&&this._toggleClasses(this._pane,fe,!0)}removePanelClass(fe){this._pane&&this._toggleClasses(this._pane,fe,!1)}getDirection(){const fe=this._config.direction;return fe?"string"==typeof fe?fe:fe.value:"ltr"}updateScrollStrategy(fe){fe!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=fe,this.hasAttached()&&(fe.attach(this),fe.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const fe=this._pane.style;fe.width=(0,te.HM)(this._config.width),fe.height=(0,te.HM)(this._config.height),fe.minWidth=(0,te.HM)(this._config.minWidth),fe.minHeight=(0,te.HM)(this._config.minHeight),fe.maxWidth=(0,te.HM)(this._config.maxWidth),fe.maxHeight=(0,te.HM)(this._config.maxHeight)}_togglePointerEvents(fe){this._pane.style.pointerEvents=fe?"":"none"}_attachBackdrop(){const fe="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(fe)})}):this._backdropElement.classList.add(fe)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const fe=this._backdropElement;!fe||(fe.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{fe.addEventListener("transitionend",this._backdropTransitionendHandler)}),fe.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(fe)},500)))}_toggleClasses(fe,$e,vt){const Ht=(0,te.Eq)($e||[]).filter(Ye=>!!Ye);Ht.length&&(vt?fe.classList.add(...Ht):fe.classList.remove(...Ht))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const fe=this._ngZone.onStable.pipe((0,xe.R)((0,B.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),fe.unsubscribe())})})}_disposeScrollStrategy(){const fe=this._scrollStrategy;fe&&(fe.disable(),fe.detach&&fe.detach())}_disposeBackdrop(fe){fe&&(fe.removeEventListener("click",this._backdropClickHandler),fe.removeEventListener("transitionend",this._backdropTransitionendHandler),fe.remove(),this._backdropElement===fe&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let jt=(()=>{class Qt{constructor($e,vt){this._platform=vt,this._document=$e}ngOnDestroy(){var $e;null===($e=this._containerElement)||void 0===$e||$e.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const $e="cdk-overlay-container";if(this._platform.isBrowser||(0,v.Oy)()){const Ht=this._document.querySelectorAll(`.${$e}[platform="server"], .${$e}[platform="test"]`);for(let Ye=0;Ye<Ht.length;Ye++)Ht[Ye].remove()}const vt=this._document.createElement("div");vt.classList.add($e),(0,v.Oy)()?vt.setAttribute("platform","test"):this._platform.isBrowser||vt.setAttribute("platform","server"),this._document.body.appendChild(vt),this._containerElement=vt}}return Qt.\u0275fac=function($e){return new($e||Qt)(b.LFG(R.K0),b.LFG(v.t4))},Qt.\u0275prov=b.Yz7({token:Qt,factory:Qt.\u0275fac,providedIn:"root"}),Qt})();const bt="cdk-overlay-connected-position-bounding-box",zt=/([A-Za-z%]+)$/;class rt{constructor(fe,$e,vt,Ht,Ye){this._viewportRuler=$e,this._document=vt,this._platform=Ht,this._overlayContainer=Ye,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new be.x,this._resizeSubscription=z.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(fe)}get positions(){return this._preferredPositions}attach(fe){this._validatePositions(),fe.hostElement.classList.add(bt),this._overlayRef=fe,this._boundingBox=fe.hostElement,this._pane=fe.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const fe=this._originRect,$e=this._overlayRect,vt=this._viewportRect,Ht=this._containerRect,Ye=[];let ct;for(let X of this._preferredPositions){let oe=this._getOriginPoint(fe,Ht,X),_e=this._getOverlayPoint(oe,$e,X),dt=this._getOverlayFit(_e,$e,vt,X);if(dt.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(X,oe);this._canFitWithFlexibleDimensions(dt,_e,vt)?Ye.push({position:X,origin:oe,overlayRect:$e,boundingBoxRect:this._calculateBoundingBoxRect(oe,X)}):(!ct||ct.overlayFit.visibleArea<dt.visibleArea)&&(ct={overlayFit:dt,overlayPoint:_e,originPoint:oe,position:X,overlayRect:$e})}if(Ye.length){let X=null,oe=-1;for(const _e of Ye){const dt=_e.boundingBoxRect.width*_e.boundingBoxRect.height*(_e.position.weight||1);dt>oe&&(oe=dt,X=_e)}return this._isPushed=!1,void this._applyPosition(X.position,X.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(ct.position,ct.originPoint);this._applyPosition(ct.position,ct.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ft(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(bt),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const fe=this._lastPosition;if(fe){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const $e=this._getOriginPoint(this._originRect,this._containerRect,fe);this._applyPosition(fe,$e)}else this.apply()}withScrollableContainers(fe){return this._scrollables=fe,this}withPositions(fe){return this._preferredPositions=fe,-1===fe.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(fe){return this._viewportMargin=fe,this}withFlexibleDimensions(fe=!0){return this._hasFlexibleDimensions=fe,this}withGrowAfterOpen(fe=!0){return this._growAfterOpen=fe,this}withPush(fe=!0){return this._canPush=fe,this}withLockedPosition(fe=!0){return this._positionLocked=fe,this}setOrigin(fe){return this._origin=fe,this}withDefaultOffsetX(fe){return this._offsetX=fe,this}withDefaultOffsetY(fe){return this._offsetY=fe,this}withTransformOriginOn(fe){return this._transformOriginSelector=fe,this}_getOriginPoint(fe,$e,vt){let Ht,Ye;if("center"==vt.originX)Ht=fe.left+fe.width/2;else{const ct=this._isRtl()?fe.right:fe.left,X=this._isRtl()?fe.left:fe.right;Ht="start"==vt.originX?ct:X}return $e.left<0&&(Ht-=$e.left),Ye="center"==vt.originY?fe.top+fe.height/2:"top"==vt.originY?fe.top:fe.bottom,$e.top<0&&(Ye-=$e.top),{x:Ht,y:Ye}}_getOverlayPoint(fe,$e,vt){let Ht,Ye;return Ht="center"==vt.overlayX?-$e.width/2:"start"===vt.overlayX?this._isRtl()?-$e.width:0:this._isRtl()?0:-$e.width,Ye="center"==vt.overlayY?-$e.height/2:"top"==vt.overlayY?0:-$e.height,{x:fe.x+Ht,y:fe.y+Ye}}_getOverlayFit(fe,$e,vt,Ht){const Ye=Vt($e);let{x:ct,y:X}=fe,oe=this._getOffset(Ht,"x"),_e=this._getOffset(Ht,"y");oe&&(ct+=oe),_e&&(X+=_e);let qt=0-X,nn=X+Ye.height-vt.height,Tn=this._subtractOverflows(Ye.width,0-ct,ct+Ye.width-vt.width),kn=this._subtractOverflows(Ye.height,qt,nn),Fn=Tn*kn;return{visibleArea:Fn,isCompletelyWithinViewport:Ye.width*Ye.height===Fn,fitsInViewportVertically:kn===Ye.height,fitsInViewportHorizontally:Tn==Ye.width}}_canFitWithFlexibleDimensions(fe,$e,vt){if(this._hasFlexibleDimensions){const Ht=vt.bottom-$e.y,Ye=vt.right-$e.x,ct=xt(this._overlayRef.getConfig().minHeight),X=xt(this._overlayRef.getConfig().minWidth),_e=fe.fitsInViewportHorizontally||null!=X&&X<=Ye;return(fe.fitsInViewportVertically||null!=ct&&ct<=Ht)&&_e}return!1}_pushOverlayOnScreen(fe,$e,vt){if(this._previousPushAmount&&this._positionLocked)return{x:fe.x+this._previousPushAmount.x,y:fe.y+this._previousPushAmount.y};const Ht=Vt($e),Ye=this._viewportRect,ct=Math.max(fe.x+Ht.width-Ye.width,0),X=Math.max(fe.y+Ht.height-Ye.height,0),oe=Math.max(Ye.top-vt.top-fe.y,0),_e=Math.max(Ye.left-vt.left-fe.x,0);let dt=0,Tt=0;return dt=Ht.width<=Ye.width?_e||-ct:fe.x<this._viewportMargin?Ye.left-vt.left-fe.x:0,Tt=Ht.height<=Ye.height?oe||-X:fe.y<this._viewportMargin?Ye.top-vt.top-fe.y:0,this._previousPushAmount={x:dt,y:Tt},{x:fe.x+dt,y:fe.y+Tt}}_applyPosition(fe,$e){if(this._setTransformOrigin(fe),this._setOverlayElementStyles($e,fe),this._setBoundingBoxStyles($e,fe),fe.panelClass&&this._addPanelClasses(fe.panelClass),this._lastPosition=fe,this._positionChanges.observers.length){const vt=this._getScrollVisibility(),Ht=new Ge(fe,vt);this._positionChanges.next(Ht)}this._isInitialRender=!1}_setTransformOrigin(fe){if(!this._transformOriginSelector)return;const $e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let vt,Ht=fe.overlayY;vt="center"===fe.overlayX?"center":this._isRtl()?"start"===fe.overlayX?"right":"left":"start"===fe.overlayX?"left":"right";for(let Ye=0;Ye<$e.length;Ye++)$e[Ye].style.transformOrigin=`${vt} ${Ht}`}_calculateBoundingBoxRect(fe,$e){const vt=this._viewportRect,Ht=this._isRtl();let Ye,ct,X,dt,Tt,qt;if("top"===$e.overlayY)ct=fe.y,Ye=vt.height-ct+this._viewportMargin;else if("bottom"===$e.overlayY)X=vt.height-fe.y+2*this._viewportMargin,Ye=vt.height-X+this._viewportMargin;else{const nn=Math.min(vt.bottom-fe.y+vt.top,fe.y),Tn=this._lastBoundingBoxSize.height;Ye=2*nn,ct=fe.y-nn,Ye>Tn&&!this._isInitialRender&&!this._growAfterOpen&&(ct=fe.y-Tn/2)}if("end"===$e.overlayX&&!Ht||"start"===$e.overlayX&&Ht)qt=vt.width-fe.x+this._viewportMargin,dt=fe.x-this._viewportMargin;else if("start"===$e.overlayX&&!Ht||"end"===$e.overlayX&&Ht)Tt=fe.x,dt=vt.right-fe.x;else{const nn=Math.min(vt.right-fe.x+vt.left,fe.x),Tn=this._lastBoundingBoxSize.width;dt=2*nn,Tt=fe.x-nn,dt>Tn&&!this._isInitialRender&&!this._growAfterOpen&&(Tt=fe.x-Tn/2)}return{top:ct,left:Tt,bottom:X,right:qt,width:dt,height:Ye}}_setBoundingBoxStyles(fe,$e){const vt=this._calculateBoundingBoxRect(fe,$e);!this._isInitialRender&&!this._growAfterOpen&&(vt.height=Math.min(vt.height,this._lastBoundingBoxSize.height),vt.width=Math.min(vt.width,this._lastBoundingBoxSize.width));const Ht={};if(this._hasExactPosition())Ht.top=Ht.left="0",Ht.bottom=Ht.right=Ht.maxHeight=Ht.maxWidth="",Ht.width=Ht.height="100%";else{const Ye=this._overlayRef.getConfig().maxHeight,ct=this._overlayRef.getConfig().maxWidth;Ht.height=(0,te.HM)(vt.height),Ht.top=(0,te.HM)(vt.top),Ht.bottom=(0,te.HM)(vt.bottom),Ht.width=(0,te.HM)(vt.width),Ht.left=(0,te.HM)(vt.left),Ht.right=(0,te.HM)(vt.right),Ht.alignItems="center"===$e.overlayX?"center":"end"===$e.overlayX?"flex-end":"flex-start",Ht.justifyContent="center"===$e.overlayY?"center":"bottom"===$e.overlayY?"flex-end":"flex-start",Ye&&(Ht.maxHeight=(0,te.HM)(Ye)),ct&&(Ht.maxWidth=(0,te.HM)(ct))}this._lastBoundingBoxSize=vt,Ft(this._boundingBox.style,Ht)}_resetBoundingBoxStyles(){Ft(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ft(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(fe,$e){const vt={},Ht=this._hasExactPosition(),Ye=this._hasFlexibleDimensions,ct=this._overlayRef.getConfig();if(Ht){const dt=this._viewportRuler.getViewportScrollPosition();Ft(vt,this._getExactOverlayY($e,fe,dt)),Ft(vt,this._getExactOverlayX($e,fe,dt))}else vt.position="static";let X="",oe=this._getOffset($e,"x"),_e=this._getOffset($e,"y");oe&&(X+=`translateX(${oe}px) `),_e&&(X+=`translateY(${_e}px)`),vt.transform=X.trim(),ct.maxHeight&&(Ht?vt.maxHeight=(0,te.HM)(ct.maxHeight):Ye&&(vt.maxHeight="")),ct.maxWidth&&(Ht?vt.maxWidth=(0,te.HM)(ct.maxWidth):Ye&&(vt.maxWidth="")),Ft(this._pane.style,vt)}_getExactOverlayY(fe,$e,vt){let Ht={top:"",bottom:""},Ye=this._getOverlayPoint($e,this._overlayRect,fe);return this._isPushed&&(Ye=this._pushOverlayOnScreen(Ye,this._overlayRect,vt)),"bottom"===fe.overlayY?Ht.bottom=this._document.documentElement.clientHeight-(Ye.y+this._overlayRect.height)+"px":Ht.top=(0,te.HM)(Ye.y),Ht}_getExactOverlayX(fe,$e,vt){let ct,Ht={left:"",right:""},Ye=this._getOverlayPoint($e,this._overlayRect,fe);return this._isPushed&&(Ye=this._pushOverlayOnScreen(Ye,this._overlayRect,vt)),ct=this._isRtl()?"end"===fe.overlayX?"left":"right":"end"===fe.overlayX?"right":"left","right"===ct?Ht.right=this._document.documentElement.clientWidth-(Ye.x+this._overlayRect.width)+"px":Ht.left=(0,te.HM)(Ye.x),Ht}_getScrollVisibility(){const fe=this._getOriginRect(),$e=this._pane.getBoundingClientRect(),vt=this._scrollables.map(Ht=>Ht.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:_t(fe,vt),isOriginOutsideView:Ke(fe,vt),isOverlayClipped:_t($e,vt),isOverlayOutsideView:Ke($e,vt)}}_subtractOverflows(fe,...$e){return $e.reduce((vt,Ht)=>vt-Math.max(Ht,0),fe)}_getNarrowedViewportRect(){const fe=this._document.documentElement.clientWidth,$e=this._document.documentElement.clientHeight,vt=this._viewportRuler.getViewportScrollPosition();return{top:vt.top+this._viewportMargin,left:vt.left+this._viewportMargin,right:vt.left+fe-this._viewportMargin,bottom:vt.top+$e-this._viewportMargin,width:fe-2*this._viewportMargin,height:$e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(fe,$e){return"x"===$e?null==fe.offsetX?this._offsetX:fe.offsetX:null==fe.offsetY?this._offsetY:fe.offsetY}_validatePositions(){}_addPanelClasses(fe){this._pane&&(0,te.Eq)(fe).forEach($e=>{""!==$e&&-1===this._appliedPanelClasses.indexOf($e)&&(this._appliedPanelClasses.push($e),this._pane.classList.add($e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(fe=>{this._pane.classList.remove(fe)}),this._appliedPanelClasses=[])}_getOriginRect(){const fe=this._origin;if(fe instanceof b.SBq)return fe.nativeElement.getBoundingClientRect();if(fe instanceof Element)return fe.getBoundingClientRect();const $e=fe.width||0,vt=fe.height||0;return{top:fe.y,bottom:fe.y+vt,left:fe.x,right:fe.x+$e,height:vt,width:$e}}}function Ft(Qt,fe){for(let $e in fe)fe.hasOwnProperty($e)&&(Qt[$e]=fe[$e]);return Qt}function xt(Qt){if("number"!=typeof Qt&&null!=Qt){const[fe,$e]=Qt.split(zt);return $e&&"px"!==$e?null:parseFloat(fe)}return Qt||null}function Vt(Qt){return{top:Math.floor(Qt.top),right:Math.floor(Qt.right),bottom:Math.floor(Qt.bottom),left:Math.floor(Qt.left),width:Math.floor(Qt.width),height:Math.floor(Qt.height)}}const Rt="cdk-global-overlay-wrapper";class Lt{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(fe){const $e=fe.getConfig();this._overlayRef=fe,this._width&&!$e.width&&fe.updateSize({width:this._width}),this._height&&!$e.height&&fe.updateSize({height:this._height}),fe.hostElement.classList.add(Rt),this._isDisposed=!1}top(fe=""){return this._bottomOffset="",this._topOffset=fe,this._alignItems="flex-start",this}left(fe=""){return this._rightOffset="",this._leftOffset=fe,this._justifyContent="flex-start",this}bottom(fe=""){return this._topOffset="",this._bottomOffset=fe,this._alignItems="flex-end",this}right(fe=""){return this._leftOffset="",this._rightOffset=fe,this._justifyContent="flex-end",this}width(fe=""){return this._overlayRef?this._overlayRef.updateSize({width:fe}):this._width=fe,this}height(fe=""){return this._overlayRef?this._overlayRef.updateSize({height:fe}):this._height=fe,this}centerHorizontally(fe=""){return this.left(fe),this._justifyContent="center",this}centerVertically(fe=""){return this.top(fe),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const fe=this._overlayRef.overlayElement.style,$e=this._overlayRef.hostElement.style,vt=this._overlayRef.getConfig(),{width:Ht,height:Ye,maxWidth:ct,maxHeight:X}=vt,oe=!("100%"!==Ht&&"100vw"!==Ht||ct&&"100%"!==ct&&"100vw"!==ct),_e=!("100%"!==Ye&&"100vh"!==Ye||X&&"100%"!==X&&"100vh"!==X);fe.position=this._cssPosition,fe.marginLeft=oe?"0":this._leftOffset,fe.marginTop=_e?"0":this._topOffset,fe.marginBottom=this._bottomOffset,fe.marginRight=this._rightOffset,oe?$e.justifyContent="flex-start":"center"===this._justifyContent?$e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?$e.justifyContent="flex-end":"flex-end"===this._justifyContent&&($e.justifyContent="flex-start"):$e.justifyContent=this._justifyContent,$e.alignItems=_e?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const fe=this._overlayRef.overlayElement.style,$e=this._overlayRef.hostElement,vt=$e.style;$e.classList.remove(Rt),vt.justifyContent=vt.alignItems=fe.marginTop=fe.marginBottom=fe.marginLeft=fe.marginRight=fe.position="",this._overlayRef=null,this._isDisposed=!0}}let dn=(()=>{class Qt{constructor($e,vt,Ht,Ye){this._viewportRuler=$e,this._document=vt,this._platform=Ht,this._overlayContainer=Ye}global(){return new Lt}flexibleConnectedTo($e){return new rt($e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return Qt.\u0275fac=function($e){return new($e||Qt)(b.LFG(a.rL),b.LFG(R.K0),b.LFG(v.t4),b.LFG(jt))},Qt.\u0275prov=b.Yz7({token:Qt,factory:Qt.\u0275fac,providedIn:"root"}),Qt})(),Wt=(()=>{class Qt{constructor($e){this._attachedOverlays=[],this._document=$e}ngOnDestroy(){this.detach()}add($e){this.remove($e),this._attachedOverlays.push($e)}remove($e){const vt=this._attachedOverlays.indexOf($e);vt>-1&&this._attachedOverlays.splice(vt,1),0===this._attachedOverlays.length&&this.detach()}}return Qt.\u0275fac=function($e){return new($e||Qt)(b.LFG(R.K0))},Qt.\u0275prov=b.Yz7({token:Qt,factory:Qt.\u0275fac,providedIn:"root"}),Qt})(),Ut=(()=>{class Qt extends Wt{constructor($e,vt){super($e),this._ngZone=vt,this._keydownListener=Ht=>{const Ye=this._attachedOverlays;for(let ct=Ye.length-1;ct>-1;ct--)if(Ye[ct]._keydownEvents.observers.length>0){const X=Ye[ct]._keydownEvents;this._ngZone?this._ngZone.run(()=>X.next(Ht)):X.next(Ht);break}}}add($e){super.add($e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return Qt.\u0275fac=function($e){return new($e||Qt)(b.LFG(R.K0),b.LFG(b.R0b,8))},Qt.\u0275prov=b.Yz7({token:Qt,factory:Qt.\u0275fac,providedIn:"root"}),Qt})(),Ze=(()=>{class Qt extends Wt{constructor($e,vt,Ht){super($e),this._platform=vt,this._ngZone=Ht,this._cursorStyleIsSet=!1,this._pointerDownListener=Ye=>{this._pointerDownEventTarget=(0,v.sA)(Ye)},this._clickListener=Ye=>{const ct=(0,v.sA)(Ye),X="click"===Ye.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:ct;this._pointerDownEventTarget=null;const oe=this._attachedOverlays.slice();for(let _e=oe.length-1;_e>-1;_e--){const dt=oe[_e];if(dt._outsidePointerEvents.observers.length<1||!dt.hasAttached())continue;if(dt.overlayElement.contains(ct)||dt.overlayElement.contains(X))break;const Tt=dt._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>Tt.next(Ye)):Tt.next(Ye)}}}add($e){if(super.add($e),!this._isAttached){const vt=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(vt)):this._addEventListeners(vt),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=vt.style.cursor,vt.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const $e=this._document.body;$e.removeEventListener("pointerdown",this._pointerDownListener,!0),$e.removeEventListener("click",this._clickListener,!0),$e.removeEventListener("auxclick",this._clickListener,!0),$e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&($e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners($e){$e.addEventListener("pointerdown",this._pointerDownListener,!0),$e.addEventListener("click",this._clickListener,!0),$e.addEventListener("auxclick",this._clickListener,!0),$e.addEventListener("contextmenu",this._clickListener,!0)}}return Qt.\u0275fac=function($e){return new($e||Qt)(b.LFG(R.K0),b.LFG(v.t4),b.LFG(b.R0b,8))},Qt.\u0275prov=b.Yz7({token:Qt,factory:Qt.\u0275fac,providedIn:"root"}),Qt})(),Pe=0,Le=(()=>{class Qt{constructor($e,vt,Ht,Ye,ct,X,oe,_e,dt,Tt,qt){this.scrollStrategies=$e,this._overlayContainer=vt,this._componentFactoryResolver=Ht,this._positionBuilder=Ye,this._keyboardDispatcher=ct,this._injector=X,this._ngZone=oe,this._document=_e,this._directionality=dt,this._location=Tt,this._outsideClickDispatcher=qt}create($e){const vt=this._createHostElement(),Ht=this._createPaneElement(vt),Ye=this._createPortalOutlet(Ht),ct=new me($e);return ct.direction=ct.direction||this._directionality.value,new Qe(Ye,vt,Ht,ct,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement($e){const vt=this._document.createElement("div");return vt.id="cdk-overlay-"+Pe++,vt.classList.add("cdk-overlay-pane"),$e.appendChild(vt),vt}_createHostElement(){const $e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild($e),$e}_createPortalOutlet($e){return this._appRef||(this._appRef=this._injector.get(b.z2F)),new ye.u0($e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return Qt.\u0275fac=function($e){return new($e||Qt)(b.LFG(ue),b.LFG(jt),b.LFG(b._Vd),b.LFG(dn),b.LFG(Ut),b.LFG(b.zs3),b.LFG(b.R0b),b.LFG(R.K0),b.LFG(ce.Is),b.LFG(R.Ye),b.LFG(Ze))},Qt.\u0275prov=b.Yz7({token:Qt,factory:Qt.\u0275fac}),Qt})();const vn={provide:new b.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Le],useFactory:function fn(Qt){return()=>Qt.scrollStrategies.reposition()}};let Qn=(()=>{class Qt{}return Qt.\u0275fac=function($e){return new($e||Qt)},Qt.\u0275mod=b.oAB({type:Qt}),Qt.\u0275inj=b.cJS({providers:[Le,vn],imports:[[ce.vT,ye.eL,a.Cl],a.Cl]}),Qt})()},925:(on,st,D)=>{D.d(st,{Mq:()=>Fe,Oy:()=>ue,ht:()=>_t,i$:()=>re,kV:()=>Ke,qK:()=>be,sA:()=>lt,t4:()=>te});var a=D(5e3),R=D(9808);let b;try{b="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(me){b=!1}let ce,te=(()=>{class me{constructor(Be){this._platformId=Be,this.isBrowser=this._platformId?(0,R.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!b)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return me.\u0275fac=function(Be){return new(Be||me)(a.LFG(a.Lbi))},me.\u0275prov=a.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"}),me})();const ye=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function be(){if(ce)return ce;if("object"!=typeof document||!document)return ce=new Set(ye),ce;let me=document.createElement("input");return ce=new Set(ye.filter(Ce=>(me.setAttribute("type",Ce),me.type===Ce))),ce}let z,We,et;function re(me){return function B(){if(null==z&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>z=!0}))}finally{z=z||!1}return z}()?me:!!me.capture}function Fe(){if(null==We){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return We=!1,We;if("scrollBehavior"in document.documentElement.style)We=!0;else{const me=Element.prototype.scrollTo;We=!!me&&!/\{\s*\[native code\]\s*\}/.test(me.toString())}}return We}function Ke(me){if(function Re(){if(null==et){const me="undefined"!=typeof document?document.head:null;et=!(!me||!me.createShadowRoot&&!me.attachShadow)}return et}()){const Ce=me.getRootNode?me.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&Ce instanceof ShadowRoot)return Ce}return null}function _t(){let me="undefined"!=typeof document&&document?document.activeElement:null;for(;me&&me.shadowRoot;){const Ce=me.shadowRoot.activeElement;if(Ce===me)break;me=Ce}return me}function lt(me){return me.composedPath?me.composedPath()[0]:me.target}function ue(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}},7429:(on,st,D)=>{D.d(st,{C5:()=>B,Pl:()=>_t,UE:()=>re,eL:()=>ue,en:()=>We,u0:()=>ot});var a=D(5e3),R=D(9808);class z{attach(Be){return this._attachedHost=Be,Be.attach(this)}detach(){let Be=this._attachedHost;null!=Be&&(this._attachedHost=null,Be.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(Be){this._attachedHost=Be}}class B extends z{constructor(Be,Ge,de,ut){super(),this.component=Be,this.viewContainerRef=Ge,this.injector=de,this.componentFactoryResolver=ut}}class re extends z{constructor(Be,Ge,de){super(),this.templateRef=Be,this.viewContainerRef=Ge,this.context=de}get origin(){return this.templateRef.elementRef}attach(Be,Ge=this.context){return this.context=Ge,super.attach(Be)}detach(){return this.context=void 0,super.detach()}}class xe extends z{constructor(Be){super(),this.element=Be instanceof a.SBq?Be.nativeElement:Be}}class We{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(Be){return Be instanceof B?(this._attachedPortal=Be,this.attachComponentPortal(Be)):Be instanceof re?(this._attachedPortal=Be,this.attachTemplatePortal(Be)):this.attachDomPortal&&Be instanceof xe?(this._attachedPortal=Be,this.attachDomPortal(Be)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(Be){this._disposeFn=Be}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class ot extends We{constructor(Be,Ge,de,ut,Qe){super(),this.outletElement=Be,this._componentFactoryResolver=Ge,this._appRef=de,this._defaultInjector=ut,this.attachDomPortal=jt=>{const bt=jt.element,zt=this._document.createComment("dom-portal");bt.parentNode.insertBefore(zt,bt),this.outletElement.appendChild(bt),this._attachedPortal=jt,super.setDisposeFn(()=>{zt.parentNode&&zt.parentNode.replaceChild(bt,zt)})},this._document=Qe}attachComponentPortal(Be){const de=(Be.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Be.component);let ut;return Be.viewContainerRef?(ut=Be.viewContainerRef.createComponent(de,Be.viewContainerRef.length,Be.injector||Be.viewContainerRef.injector),this.setDisposeFn(()=>ut.destroy())):(ut=de.create(Be.injector||this._defaultInjector||a.zs3.NULL),this._appRef.attachView(ut.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(ut.hostView),ut.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(ut)),this._attachedPortal=Be,ut}attachTemplatePortal(Be){let Ge=Be.viewContainerRef,de=Ge.createEmbeddedView(Be.templateRef,Be.context);return de.rootNodes.forEach(ut=>this.outletElement.appendChild(ut)),de.detectChanges(),this.setDisposeFn(()=>{let ut=Ge.indexOf(de);-1!==ut&&Ge.remove(ut)}),this._attachedPortal=Be,de}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(Be){return Be.hostView.rootNodes[0]}}let _t=(()=>{class Ce extends We{constructor(Ge,de,ut){super(),this._componentFactoryResolver=Ge,this._viewContainerRef=de,this._isInitialized=!1,this.attached=new a.vpe,this.attachDomPortal=Qe=>{const jt=Qe.element,bt=this._document.createComment("dom-portal");Qe.setAttachedHost(this),jt.parentNode.insertBefore(bt,jt),this._getRootNode().appendChild(jt),this._attachedPortal=Qe,super.setDisposeFn(()=>{bt.parentNode&&bt.parentNode.replaceChild(jt,bt)})},this._document=ut}get portal(){return this._attachedPortal}set portal(Ge){this.hasAttached()&&!Ge&&!this._isInitialized||(this.hasAttached()&&super.detach(),Ge&&super.attach(Ge),this._attachedPortal=Ge||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(Ge){Ge.setAttachedHost(this);const de=null!=Ge.viewContainerRef?Ge.viewContainerRef:this._viewContainerRef,Qe=(Ge.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Ge.component),jt=de.createComponent(Qe,de.length,Ge.injector||de.injector);return de!==this._viewContainerRef&&this._getRootNode().appendChild(jt.hostView.rootNodes[0]),super.setDisposeFn(()=>jt.destroy()),this._attachedPortal=Ge,this._attachedRef=jt,this.attached.emit(jt),jt}attachTemplatePortal(Ge){Ge.setAttachedHost(this);const de=this._viewContainerRef.createEmbeddedView(Ge.templateRef,Ge.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=Ge,this._attachedRef=de,this.attached.emit(de),de}_getRootNode(){const Ge=this._viewContainerRef.element.nativeElement;return Ge.nodeType===Ge.ELEMENT_NODE?Ge:Ge.parentNode}}return Ce.\u0275fac=function(Ge){return new(Ge||Ce)(a.Y36(a._Vd),a.Y36(a.s_b),a.Y36(R.K0))},Ce.\u0275dir=a.lG2({type:Ce,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[a.qOj]}),Ce})(),ue=(()=>{class Ce{}return Ce.\u0275fac=function(Ge){return new(Ge||Ce)},Ce.\u0275mod=a.oAB({type:Ce}),Ce.\u0275inj=a.cJS({}),Ce})()},8962:(on,st,D)=>{D.d(st,{ZD:()=>vt,mF:()=>Mt,Cl:()=>Ht,rL:()=>vn});var a=D(3191),R=D(5e3),b=D(4408),te=D(727);const v={schedule(Ye){let ct=requestAnimationFrame,X=cancelAnimationFrame;const{delegate:oe}=v;oe&&(ct=oe.requestAnimationFrame,X=oe.cancelAnimationFrame);const _e=ct(dt=>{X=void 0,Ye(dt)});return new te.w0(()=>null==X?void 0:X(_e))},requestAnimationFrame(...Ye){const{delegate:ct}=v;return((null==ct?void 0:ct.requestAnimationFrame)||requestAnimationFrame)(...Ye)},cancelAnimationFrame(...Ye){const{delegate:ct}=v;return((null==ct?void 0:ct.cancelAnimationFrame)||cancelAnimationFrame)(...Ye)},delegate:void 0};var ye=D(7565);new class be extends ye.v{flush(ct){this._active=!0;const X=this._scheduled;this._scheduled=void 0;const{actions:oe}=this;let _e;ct=ct||oe.shift();do{if(_e=ct.execute(ct.state,ct.delay))break}while((ct=oe[0])&&ct.id===X&&oe.shift());if(this._active=!1,_e){for(;(ct=oe[0])&&ct.id===X&&oe.shift();)ct.unsubscribe();throw _e}}}(class ce extends b.o{constructor(ct,X){super(ct,X),this.scheduler=ct,this.work=X}requestAsyncId(ct,X,oe=0){return null!==oe&&oe>0?super.requestAsyncId(ct,X,oe):(ct.actions.push(this),ct._scheduled||(ct._scheduled=v.requestAnimationFrame(()=>ct.flush(void 0))))}recycleAsyncId(ct,X,oe=0){var _e;if(null!=oe?oe>0:this.delay>0)return super.recycleAsyncId(ct,X,oe);const{actions:dt}=ct;null!=X&&(null===(_e=dt[dt.length-1])||void 0===_e?void 0:_e.id)!==X&&(v.cancelAnimationFrame(X),ct._scheduled=void 0)}});let xe,re=1;const We={};function Fe(Ye){return Ye in We&&(delete We[Ye],!0)}const ot={setImmediate(Ye){const ct=re++;return We[ct]=!0,xe||(xe=Promise.resolve()),xe.then(()=>Fe(ct)&&Ye()),ct},clearImmediate(Ye){Fe(Ye)}},{setImmediate:Re,clearImmediate:Ke}=ot,_t={setImmediate(...Ye){const{delegate:ct}=_t;return((null==ct?void 0:ct.setImmediate)||Re)(...Ye)},clearImmediate(Ye){const{delegate:ct}=_t;return((null==ct?void 0:ct.clearImmediate)||Ke)(Ye)},delegate:void 0};new class ue extends ye.v{flush(ct){this._active=!0;const X=this._scheduled;this._scheduled=void 0;const{actions:oe}=this;let _e;ct=ct||oe.shift();do{if(_e=ct.execute(ct.state,ct.delay))break}while((ct=oe[0])&&ct.id===X&&oe.shift());if(this._active=!1,_e){for(;(ct=oe[0])&&ct.id===X&&oe.shift();)ct.unsubscribe();throw _e}}}(class lt extends b.o{constructor(ct,X){super(ct,X),this.scheduler=ct,this.work=X}requestAsyncId(ct,X,oe=0){return null!==oe&&oe>0?super.requestAsyncId(ct,X,oe):(ct.actions.push(this),ct._scheduled||(ct._scheduled=_t.setImmediate(ct.flush.bind(ct,void 0))))}recycleAsyncId(ct,X,oe=0){var _e;if(null!=oe?oe>0:this.delay>0)return super.recycleAsyncId(ct,X,oe);const{actions:dt}=ct;null!=X&&(null===(_e=dt[dt.length-1])||void 0===_e?void 0:_e.id)!==X&&(_t.clearImmediate(X),ct._scheduled=void 0)}});var Be=D(7579),Ge=D(9646),de=D(8306),ut=D(4968),Qe=D(4986),jt=D(4482),bt=D(8421),zt=D(5403),Ft=D(5963);function xt(Ye,ct=Qe.z){return function rt(Ye){return(0,jt.e)((ct,X)=>{let oe=!1,_e=null,dt=null,Tt=!1;const qt=()=>{if(null==dt||dt.unsubscribe(),dt=null,oe){oe=!1;const Tn=_e;_e=null,X.next(Tn)}Tt&&X.complete()},nn=()=>{dt=null,Tt&&X.complete()};ct.subscribe((0,zt.x)(X,Tn=>{oe=!0,_e=Tn,dt||(0,bt.Xf)(Ye(Tn)).subscribe(dt=(0,zt.x)(X,qt,nn))},()=>{Tt=!0,(!oe||!dt||dt.closed)&&X.complete()}))})}(()=>(0,Ft.H)(Ye,ct))}var Vt=D(9300),Rt=D(9808),Lt=D(925),dn=D(226);let Mt=(()=>{class Ye{constructor(X,oe,_e){this._ngZone=X,this._platform=oe,this._scrolled=new Be.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=_e}register(X){this.scrollContainers.has(X)||this.scrollContainers.set(X,X.elementScrolled().subscribe(()=>this._scrolled.next(X)))}deregister(X){const oe=this.scrollContainers.get(X);oe&&(oe.unsubscribe(),this.scrollContainers.delete(X))}scrolled(X=20){return this._platform.isBrowser?new de.y(oe=>{this._globalSubscription||this._addGlobalListener();const _e=X>0?this._scrolled.pipe(xt(X)).subscribe(oe):this._scrolled.subscribe(oe);return this._scrolledCount++,()=>{_e.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Ge.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((X,oe)=>this.deregister(oe)),this._scrolled.complete()}ancestorScrolled(X,oe){const _e=this.getAncestorScrollContainers(X);return this.scrolled(oe).pipe((0,Vt.h)(dt=>!dt||_e.indexOf(dt)>-1))}getAncestorScrollContainers(X){const oe=[];return this.scrollContainers.forEach((_e,dt)=>{this._scrollableContainsElement(dt,X)&&oe.push(dt)}),oe}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(X,oe){let _e=(0,a.fI)(oe),dt=X.getElementRef().nativeElement;do{if(_e==dt)return!0}while(_e=_e.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const X=this._getWindow();return(0,ut.R)(X.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return Ye.\u0275fac=function(X){return new(X||Ye)(R.LFG(R.R0b),R.LFG(Lt.t4),R.LFG(Rt.K0,8))},Ye.\u0275prov=R.Yz7({token:Ye,factory:Ye.\u0275fac,providedIn:"root"}),Ye})(),vn=(()=>{class Ye{constructor(X,oe,_e){this._platform=X,this._change=new Be.x,this._changeListener=dt=>{this._change.next(dt)},this._document=_e,oe.runOutsideAngular(()=>{if(X.isBrowser){const dt=this._getWindow();dt.addEventListener("resize",this._changeListener),dt.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const X=this._getWindow();X.removeEventListener("resize",this._changeListener),X.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const X={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),X}getViewportRect(){const X=this.getViewportScrollPosition(),{width:oe,height:_e}=this.getViewportSize();return{top:X.top,left:X.left,bottom:X.top+_e,right:X.left+oe,height:_e,width:oe}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const X=this._document,oe=this._getWindow(),_e=X.documentElement,dt=_e.getBoundingClientRect();return{top:-dt.top||X.body.scrollTop||oe.scrollY||_e.scrollTop||0,left:-dt.left||X.body.scrollLeft||oe.scrollX||_e.scrollLeft||0}}change(X=20){return X>0?this._change.pipe(xt(X)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const X=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:X.innerWidth,height:X.innerHeight}:{width:0,height:0}}}return Ye.\u0275fac=function(X){return new(X||Ye)(R.LFG(Lt.t4),R.LFG(R.R0b),R.LFG(Rt.K0,8))},Ye.\u0275prov=R.Yz7({token:Ye,factory:Ye.\u0275fac,providedIn:"root"}),Ye})(),vt=(()=>{class Ye{}return Ye.\u0275fac=function(X){return new(X||Ye)},Ye.\u0275mod=R.oAB({type:Ye}),Ye.\u0275inj=R.cJS({}),Ye})(),Ht=(()=>{class Ye{}return Ye.\u0275fac=function(X){return new(X||Ye)},Ye.\u0275mod=R.oAB({type:Ye}),Ye.\u0275inj=R.cJS({imports:[[dn.vT,vt],dn.vT,vt]}),Ye})()},9808:(on,st,D)=>{D.d(st,{Do:()=>ue,EM:()=>Fs,HT:()=>v,JF:()=>xi,K0:()=>ye,Mx:()=>Si,NF:()=>Ki,O5:()=>Dt,Ov:()=>To,PC:()=>kr,PM:()=>bs,RF:()=>Rn,S$:()=>Re,V_:()=>B,Ye:()=>me,b0:()=>lt,bD:()=>$r,ez:()=>Ps,lw:()=>be,mk:()=>er,mr:()=>_t,n9:()=>Xn,q:()=>b,sg:()=>fi,tP:()=>Es,uU:()=>go,w_:()=>ce});var a=D(5e3);let R=null;function b(){return R}function v(K){R||(R=K)}class ce{}const ye=new a.OlP("DocumentToken");let be=(()=>{class K{historyGo($){throw new Error("Not implemented")}}return K.\u0275fac=function($){return new($||K)},K.\u0275prov=a.Yz7({token:K,factory:function(){return function z(){return(0,a.LFG)(re)}()},providedIn:"platform"}),K})();const B=new a.OlP("Location Initialized");let re=(()=>{class K extends be{constructor($){super(),this._doc=$,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return b().getBaseHref(this._doc)}onPopState($){const Ae=b().getGlobalEventTarget(this._doc,"window");return Ae.addEventListener("popstate",$,!1),()=>Ae.removeEventListener("popstate",$)}onHashChange($){const Ae=b().getGlobalEventTarget(this._doc,"window");return Ae.addEventListener("hashchange",$,!1),()=>Ae.removeEventListener("hashchange",$)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname($){this.location.pathname=$}pushState($,Ae,yt){xe()?this._history.pushState($,Ae,yt):this.location.hash=yt}replaceState($,Ae,yt){xe()?this._history.replaceState($,Ae,yt):this.location.hash=yt}forward(){this._history.forward()}back(){this._history.back()}historyGo($=0){this._history.go($)}getState(){return this._history.state}}return K.\u0275fac=function($){return new($||K)(a.LFG(ye))},K.\u0275prov=a.Yz7({token:K,factory:function(){return function We(){return new re((0,a.LFG)(ye))}()},providedIn:"platform"}),K})();function xe(){return!!window.history.pushState}function Fe(K,Ee){if(0==K.length)return Ee;if(0==Ee.length)return K;let $=0;return K.endsWith("/")&&$++,Ee.startsWith("/")&&$++,2==$?K+Ee.substring(1):1==$?K+Ee:K+"/"+Ee}function ot(K){const Ee=K.match(/#|\?|$/),$=Ee&&Ee.index||K.length;return K.slice(0,$-("/"===K[$-1]?1:0))+K.slice($)}function et(K){return K&&"?"!==K[0]?"?"+K:K}let Re=(()=>{class K{historyGo($){throw new Error("Not implemented")}}return K.\u0275fac=function($){return new($||K)},K.\u0275prov=a.Yz7({token:K,factory:function(){return function Ke(K){const Ee=(0,a.LFG)(ye).location;return new lt((0,a.LFG)(be),Ee&&Ee.origin||"")}()},providedIn:"root"}),K})();const _t=new a.OlP("appBaseHref");let lt=(()=>{class K extends Re{constructor($,Ae){if(super(),this._platformLocation=$,this._removeListenerFns=[],null==Ae&&(Ae=this._platformLocation.getBaseHrefFromDOM()),null==Ae)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=Ae}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState($){this._removeListenerFns.push(this._platformLocation.onPopState($),this._platformLocation.onHashChange($))}getBaseHref(){return this._baseHref}prepareExternalUrl($){return Fe(this._baseHref,$)}path($=!1){const Ae=this._platformLocation.pathname+et(this._platformLocation.search),yt=this._platformLocation.hash;return yt&&$?`${Ae}${yt}`:Ae}pushState($,Ae,yt,Xt){const un=this.prepareExternalUrl(yt+et(Xt));this._platformLocation.pushState($,Ae,un)}replaceState($,Ae,yt,Xt){const un=this.prepareExternalUrl(yt+et(Xt));this._platformLocation.replaceState($,Ae,un)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo($=0){var Ae,yt;null===(yt=(Ae=this._platformLocation).historyGo)||void 0===yt||yt.call(Ae,$)}}return K.\u0275fac=function($){return new($||K)(a.LFG(be),a.LFG(_t,8))},K.\u0275prov=a.Yz7({token:K,factory:K.\u0275fac}),K})(),ue=(()=>{class K extends Re{constructor($,Ae){super(),this._platformLocation=$,this._baseHref="",this._removeListenerFns=[],null!=Ae&&(this._baseHref=Ae)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState($){this._removeListenerFns.push(this._platformLocation.onPopState($),this._platformLocation.onHashChange($))}getBaseHref(){return this._baseHref}path($=!1){let Ae=this._platformLocation.hash;return null==Ae&&(Ae="#"),Ae.length>0?Ae.substring(1):Ae}prepareExternalUrl($){const Ae=Fe(this._baseHref,$);return Ae.length>0?"#"+Ae:Ae}pushState($,Ae,yt,Xt){let un=this.prepareExternalUrl(yt+et(Xt));0==un.length&&(un=this._platformLocation.pathname),this._platformLocation.pushState($,Ae,un)}replaceState($,Ae,yt,Xt){let un=this.prepareExternalUrl(yt+et(Xt));0==un.length&&(un=this._platformLocation.pathname),this._platformLocation.replaceState($,Ae,un)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo($=0){var Ae,yt;null===(yt=(Ae=this._platformLocation).historyGo)||void 0===yt||yt.call(Ae,$)}}return K.\u0275fac=function($){return new($||K)(a.LFG(be),a.LFG(_t,8))},K.\u0275prov=a.Yz7({token:K,factory:K.\u0275fac}),K})(),me=(()=>{class K{constructor($,Ae){this._subject=new a.vpe,this._urlChangeListeners=[],this._platformStrategy=$;const yt=this._platformStrategy.getBaseHref();this._platformLocation=Ae,this._baseHref=ot(Ge(yt)),this._platformStrategy.onPopState(Xt=>{this._subject.emit({url:this.path(!0),pop:!0,state:Xt.state,type:Xt.type})})}path($=!1){return this.normalize(this._platformStrategy.path($))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo($,Ae=""){return this.path()==this.normalize($+et(Ae))}normalize($){return K.stripTrailingSlash(function Be(K,Ee){return K&&Ee.startsWith(K)?Ee.substring(K.length):Ee}(this._baseHref,Ge($)))}prepareExternalUrl($){return $&&"/"!==$[0]&&($="/"+$),this._platformStrategy.prepareExternalUrl($)}go($,Ae="",yt=null){this._platformStrategy.pushState(yt,"",$,Ae),this._notifyUrlChangeListeners(this.prepareExternalUrl($+et(Ae)),yt)}replaceState($,Ae="",yt=null){this._platformStrategy.replaceState(yt,"",$,Ae),this._notifyUrlChangeListeners(this.prepareExternalUrl($+et(Ae)),yt)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo($=0){var Ae,yt;null===(yt=(Ae=this._platformStrategy).historyGo)||void 0===yt||yt.call(Ae,$)}onUrlChange($){this._urlChangeListeners.push($),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Ae=>{this._notifyUrlChangeListeners(Ae.url,Ae.state)}))}_notifyUrlChangeListeners($="",Ae){this._urlChangeListeners.forEach(yt=>yt($,Ae))}subscribe($,Ae,yt){return this._subject.subscribe({next:$,error:Ae,complete:yt})}}return K.normalizeQueryParams=et,K.joinWithSlash=Fe,K.stripTrailingSlash=ot,K.\u0275fac=function($){return new($||K)(a.LFG(Re),a.LFG(be))},K.\u0275prov=a.Yz7({token:K,factory:function(){return function Ce(){return new me((0,a.LFG)(Re),(0,a.LFG)(be))}()},providedIn:"root"}),K})();function Ge(K){return K.replace(/\/index.html$/,"")}var jt=(()=>((jt=jt||{})[jt.Format=0]="Format",jt[jt.Standalone=1]="Standalone",jt))(),bt=(()=>((bt=bt||{})[bt.Narrow=0]="Narrow",bt[bt.Abbreviated=1]="Abbreviated",bt[bt.Wide=2]="Wide",bt[bt.Short=3]="Short",bt))(),zt=(()=>((zt=zt||{})[zt.Short=0]="Short",zt[zt.Medium=1]="Medium",zt[zt.Long=2]="Long",zt[zt.Full=3]="Full",zt))(),rt=(()=>((rt=rt||{})[rt.Decimal=0]="Decimal",rt[rt.Group=1]="Group",rt[rt.List=2]="List",rt[rt.PercentSign=3]="PercentSign",rt[rt.PlusSign=4]="PlusSign",rt[rt.MinusSign=5]="MinusSign",rt[rt.Exponential=6]="Exponential",rt[rt.SuperscriptingExponent=7]="SuperscriptingExponent",rt[rt.PerMille=8]="PerMille",rt[rt.Infinity=9]="Infinity",rt[rt.NaN=10]="NaN",rt[rt.TimeSeparator=11]="TimeSeparator",rt[rt.CurrencyDecimal=12]="CurrencyDecimal",rt[rt.CurrencyGroup=13]="CurrencyGroup",rt))();function Ze(K,Ee){return vt((0,a.cg1)(K)[a.wAp.DateFormat],Ee)}function Pe(K,Ee){return vt((0,a.cg1)(K)[a.wAp.TimeFormat],Ee)}function Le(K,Ee){return vt((0,a.cg1)(K)[a.wAp.DateTimeFormat],Ee)}function tt(K,Ee){const $=(0,a.cg1)(K),Ae=$[a.wAp.NumberSymbols][Ee];if(void 0===Ae){if(Ee===rt.CurrencyDecimal)return $[a.wAp.NumberSymbols][rt.Decimal];if(Ee===rt.CurrencyGroup)return $[a.wAp.NumberSymbols][rt.Group]}return Ae}function ni(K){if(!K[a.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${K[a.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function vt(K,Ee){for(let $=Ee;$>-1;$--)if(void 0!==K[$])return K[$];throw new Error("Locale data API: locale data undefined")}function Ht(K){const[Ee,$]=K.split(":");return{hours:+Ee,minutes:+$}}const oe=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,_e={},dt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Tt=(()=>((Tt=Tt||{})[Tt.Short=0]="Short",Tt[Tt.ShortGMT=1]="ShortGMT",Tt[Tt.Long=2]="Long",Tt[Tt.Extended=3]="Extended",Tt))(),qt=(()=>((qt=qt||{})[qt.FullYear=0]="FullYear",qt[qt.Month=1]="Month",qt[qt.Date=2]="Date",qt[qt.Hours=3]="Hours",qt[qt.Minutes=4]="Minutes",qt[qt.Seconds=5]="Seconds",qt[qt.FractionalSeconds=6]="FractionalSeconds",qt[qt.Day=7]="Day",qt))(),nn=(()=>((nn=nn||{})[nn.DayPeriods=0]="DayPeriods",nn[nn.Days=1]="Days",nn[nn.Months=2]="Months",nn[nn.Eras=3]="Eras",nn))();function Tn(K,Ee,$,Ae){let yt=function ze(K){if(pt(K))return K;if("number"==typeof K&&!isNaN(K))return new Date(K);if("string"==typeof K){if(K=K.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(K)){const[yt,Xt=1,un=1]=K.split("-").map(Vn=>+Vn);return kn(yt,Xt-1,un)}const $=parseFloat(K);if(!isNaN(K-$))return new Date($);let Ae;if(Ae=K.match(oe))return function Ve(K){const Ee=new Date(0);let $=0,Ae=0;const yt=K[8]?Ee.setUTCFullYear:Ee.setFullYear,Xt=K[8]?Ee.setUTCHours:Ee.setHours;K[9]&&($=Number(K[9]+K[10]),Ae=Number(K[9]+K[11])),yt.call(Ee,Number(K[1]),Number(K[2])-1,Number(K[3]));const un=Number(K[4]||0)-$,Vn=Number(K[5]||0)-Ae,ci=Number(K[6]||0),Oi=Math.floor(1e3*parseFloat("0."+(K[7]||0)));return Xt.call(Ee,un,Vn,ci,Oi),Ee}(Ae)}const Ee=new Date(K);if(!pt(Ee))throw new Error(`Unable to convert "${K}" into a date`);return Ee}(K);Ee=Fn($,Ee)||Ee;let Vn,un=[];for(;Ee;){if(Vn=dt.exec(Ee),!Vn){un.push(Ee);break}{un=un.concat(Vn.slice(1));const Jn=un.pop();if(!Jn)break;Ee=Jn}}let ci=yt.getTimezoneOffset();Ae&&(ci=It(Ae,ci),yt=function He(K,Ee,$){const Ae=$?-1:1,yt=K.getTimezoneOffset();return function Et(K,Ee){return(K=new Date(K.getTime())).setMinutes(K.getMinutes()+Ee),K}(K,Ae*(It(Ee,yt)-yt))}(yt,Ae,!0));let Oi="";return un.forEach(Jn=>{const Ei=function je(K){if(Ie[K])return Ie[K];let Ee;switch(K){case"G":case"GG":case"GGG":Ee=Sn(nn.Eras,bt.Abbreviated);break;case"GGGG":Ee=Sn(nn.Eras,bt.Wide);break;case"GGGGG":Ee=Sn(nn.Eras,bt.Narrow);break;case"y":Ee=mn(qt.FullYear,1,0,!1,!0);break;case"yy":Ee=mn(qt.FullYear,2,0,!0,!0);break;case"yyy":Ee=mn(qt.FullYear,3,0,!1,!0);break;case"yyyy":Ee=mn(qt.FullYear,4,0,!1,!0);break;case"Y":Ee=Me(1);break;case"YY":Ee=Me(2,!0);break;case"YYY":Ee=Me(3);break;case"YYYY":Ee=Me(4);break;case"M":case"L":Ee=mn(qt.Month,1,1);break;case"MM":case"LL":Ee=mn(qt.Month,2,1);break;case"MMM":Ee=Sn(nn.Months,bt.Abbreviated);break;case"MMMM":Ee=Sn(nn.Months,bt.Wide);break;case"MMMMM":Ee=Sn(nn.Months,bt.Narrow);break;case"LLL":Ee=Sn(nn.Months,bt.Abbreviated,jt.Standalone);break;case"LLLL":Ee=Sn(nn.Months,bt.Wide,jt.Standalone);break;case"LLLLL":Ee=Sn(nn.Months,bt.Narrow,jt.Standalone);break;case"w":Ee=Se(1);break;case"ww":Ee=Se(2);break;case"W":Ee=Se(1,!0);break;case"d":Ee=mn(qt.Date,1);break;case"dd":Ee=mn(qt.Date,2);break;case"c":case"cc":Ee=mn(qt.Day,1);break;case"ccc":Ee=Sn(nn.Days,bt.Abbreviated,jt.Standalone);break;case"cccc":Ee=Sn(nn.Days,bt.Wide,jt.Standalone);break;case"ccccc":Ee=Sn(nn.Days,bt.Narrow,jt.Standalone);break;case"cccccc":Ee=Sn(nn.Days,bt.Short,jt.Standalone);break;case"E":case"EE":case"EEE":Ee=Sn(nn.Days,bt.Abbreviated);break;case"EEEE":Ee=Sn(nn.Days,bt.Wide);break;case"EEEEE":Ee=Sn(nn.Days,bt.Narrow);break;case"EEEEEE":Ee=Sn(nn.Days,bt.Short);break;case"a":case"aa":case"aaa":Ee=Sn(nn.DayPeriods,bt.Abbreviated);break;case"aaaa":Ee=Sn(nn.DayPeriods,bt.Wide);break;case"aaaaa":Ee=Sn(nn.DayPeriods,bt.Narrow);break;case"b":case"bb":case"bbb":Ee=Sn(nn.DayPeriods,bt.Abbreviated,jt.Standalone,!0);break;case"bbbb":Ee=Sn(nn.DayPeriods,bt.Wide,jt.Standalone,!0);break;case"bbbbb":Ee=Sn(nn.DayPeriods,bt.Narrow,jt.Standalone,!0);break;case"B":case"BB":case"BBB":Ee=Sn(nn.DayPeriods,bt.Abbreviated,jt.Format,!0);break;case"BBBB":Ee=Sn(nn.DayPeriods,bt.Wide,jt.Format,!0);break;case"BBBBB":Ee=Sn(nn.DayPeriods,bt.Narrow,jt.Format,!0);break;case"h":Ee=mn(qt.Hours,1,-12);break;case"hh":Ee=mn(qt.Hours,2,-12);break;case"H":Ee=mn(qt.Hours,1);break;case"HH":Ee=mn(qt.Hours,2);break;case"m":Ee=mn(qt.Minutes,1);break;case"mm":Ee=mn(qt.Minutes,2);break;case"s":Ee=mn(qt.Seconds,1);break;case"ss":Ee=mn(qt.Seconds,2);break;case"S":Ee=mn(qt.FractionalSeconds,1);break;case"SS":Ee=mn(qt.FractionalSeconds,2);break;case"SSS":Ee=mn(qt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":Ee=W(Tt.Short);break;case"ZZZZZ":Ee=W(Tt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Ee=W(Tt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":Ee=W(Tt.Long);break;default:return null}return Ie[K]=Ee,Ee}(Jn);Oi+=Ei?Ei(yt,$,ci):"''"===Jn?"'":Jn.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Oi}function kn(K,Ee,$){const Ae=new Date(0);return Ae.setFullYear(K,Ee,$),Ae.setHours(0,0,0),Ae}function Fn(K,Ee){const $=function xt(K){return(0,a.cg1)(K)[a.wAp.LocaleId]}(K);if(_e[$]=_e[$]||{},_e[$][Ee])return _e[$][Ee];let Ae="";switch(Ee){case"shortDate":Ae=Ze(K,zt.Short);break;case"mediumDate":Ae=Ze(K,zt.Medium);break;case"longDate":Ae=Ze(K,zt.Long);break;case"fullDate":Ae=Ze(K,zt.Full);break;case"shortTime":Ae=Pe(K,zt.Short);break;case"mediumTime":Ae=Pe(K,zt.Medium);break;case"longTime":Ae=Pe(K,zt.Long);break;case"fullTime":Ae=Pe(K,zt.Full);break;case"short":const yt=Fn(K,"shortTime"),Xt=Fn(K,"shortDate");Ae=ii(Le(K,zt.Short),[yt,Xt]);break;case"medium":const un=Fn(K,"mediumTime"),Vn=Fn(K,"mediumDate");Ae=ii(Le(K,zt.Medium),[un,Vn]);break;case"long":const ci=Fn(K,"longTime"),Oi=Fn(K,"longDate");Ae=ii(Le(K,zt.Long),[ci,Oi]);break;case"full":const Jn=Fn(K,"fullTime"),Ei=Fn(K,"fullDate");Ae=ii(Le(K,zt.Full),[Jn,Ei])}return Ae&&(_e[$][Ee]=Ae),Ae}function ii(K,Ee){return Ee&&(K=K.replace(/\{([^}]+)}/g,function($,Ae){return null!=Ee&&Ae in Ee?Ee[Ae]:$})),K}function wi(K,Ee,$="-",Ae,yt){let Xt="";(K<0||yt&&K<=0)&&(yt?K=1-K:(K=-K,Xt=$));let un=String(K);for(;un.length<Ee;)un="0"+un;return Ae&&(un=un.substr(un.length-Ee)),Xt+un}function mn(K,Ee,$=0,Ae=!1,yt=!1){return function(Xt,un){let Vn=function mi(K,Ee){switch(K){case qt.FullYear:return Ee.getFullYear();case qt.Month:return Ee.getMonth();case qt.Date:return Ee.getDate();case qt.Hours:return Ee.getHours();case qt.Minutes:return Ee.getMinutes();case qt.Seconds:return Ee.getSeconds();case qt.FractionalSeconds:return Ee.getMilliseconds();case qt.Day:return Ee.getDay();default:throw new Error(`Unknown DateType value "${K}".`)}}(K,Xt);if(($>0||Vn>-$)&&(Vn+=$),K===qt.Hours)0===Vn&&-12===$&&(Vn=12);else if(K===qt.FractionalSeconds)return function ri(K,Ee){return wi(K,3).substr(0,Ee)}(Vn,Ee);const ci=tt(un,rt.MinusSign);return wi(Vn,Ee,ci,Ae,yt)}}function Sn(K,Ee,$=jt.Format,Ae=!1){return function(yt,Xt){return function At(K,Ee,$,Ae,yt,Xt){switch($){case nn.Months:return function Lt(K,Ee,$){const Ae=(0,a.cg1)(K),Xt=vt([Ae[a.wAp.MonthsFormat],Ae[a.wAp.MonthsStandalone]],Ee);return vt(Xt,$)}(Ee,yt,Ae)[K.getMonth()];case nn.Days:return function Rt(K,Ee,$){const Ae=(0,a.cg1)(K),Xt=vt([Ae[a.wAp.DaysFormat],Ae[a.wAp.DaysStandalone]],Ee);return vt(Xt,$)}(Ee,yt,Ae)[K.getDay()];case nn.DayPeriods:const un=K.getHours(),Vn=K.getMinutes();if(Xt){const Oi=function Qt(K){const Ee=(0,a.cg1)(K);return ni(Ee),(Ee[a.wAp.ExtraData][2]||[]).map(Ae=>"string"==typeof Ae?Ht(Ae):[Ht(Ae[0]),Ht(Ae[1])])}(Ee),Jn=function fe(K,Ee,$){const Ae=(0,a.cg1)(K);ni(Ae);const Xt=vt([Ae[a.wAp.ExtraData][0],Ae[a.wAp.ExtraData][1]],Ee)||[];return vt(Xt,$)||[]}(Ee,yt,Ae),Ei=Oi.findIndex(or=>{if(Array.isArray(or)){const[Ri,qi]=or,Z=un>=Ri.hours&&Vn>=Ri.minutes,j=un<qi.hours||un===qi.hours&&Vn<qi.minutes;if(Ri.hours<qi.hours){if(Z&&j)return!0}else if(Z||j)return!0}else if(or.hours===un&&or.minutes===Vn)return!0;return!1});if(-1!==Ei)return Jn[Ei]}return function Vt(K,Ee,$){const Ae=(0,a.cg1)(K),Xt=vt([Ae[a.wAp.DayPeriodsFormat],Ae[a.wAp.DayPeriodsStandalone]],Ee);return vt(Xt,$)}(Ee,yt,Ae)[un<12?0:1];case nn.Eras:return function dn(K,Ee){return vt((0,a.cg1)(K)[a.wAp.Eras],Ee)}(Ee,Ae)[K.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${$}`)}}(yt,Xt,K,Ee,$,Ae)}}function W(K){return function(Ee,$,Ae){const yt=-1*Ae,Xt=tt($,rt.MinusSign),un=yt>0?Math.floor(yt/60):Math.ceil(yt/60);switch(K){case Tt.Short:return(yt>=0?"+":"")+wi(un,2,Xt)+wi(Math.abs(yt%60),2,Xt);case Tt.ShortGMT:return"GMT"+(yt>=0?"+":"")+wi(un,1,Xt);case Tt.Long:return"GMT"+(yt>=0?"+":"")+wi(un,2,Xt)+":"+wi(Math.abs(yt%60),2,Xt);case Tt.Extended:return 0===Ae?"Z":(yt>=0?"+":"")+wi(un,2,Xt)+":"+wi(Math.abs(yt%60),2,Xt);default:throw new Error(`Unknown zone width "${K}"`)}}}function U(K){return kn(K.getFullYear(),K.getMonth(),K.getDate()+(4-K.getDay()))}function Se(K,Ee=!1){return function($,Ae){let yt;if(Ee){const Xt=new Date($.getFullYear(),$.getMonth(),1).getDay()-1,un=$.getDate();yt=1+Math.floor((un+Xt)/7)}else{const Xt=U($),un=function x(K){const Ee=kn(K,0,1).getDay();return kn(K,0,1+(Ee<=4?4:11)-Ee)}(Xt.getFullYear()),Vn=Xt.getTime()-un.getTime();yt=1+Math.round(Vn/6048e5)}return wi(yt,K,tt(Ae,rt.MinusSign))}}function Me(K,Ee=!1){return function($,Ae){return wi(U($).getFullYear(),K,tt(Ae,rt.MinusSign),Ee)}}const Ie={};function It(K,Ee){K=K.replace(/:/g,"");const $=Date.parse("Jan 01, 1970 00:00:00 "+K)/6e4;return isNaN($)?Ee:$}function pt(K){return K instanceof Date&&!isNaN(K.valueOf())}function Si(K,Ee){Ee=encodeURIComponent(Ee);for(const $ of K.split(";")){const Ae=$.indexOf("="),[yt,Xt]=-1==Ae?[$,""]:[$.slice(0,Ae),$.slice(Ae+1)];if(yt.trim()===Ee)return decodeURIComponent(Xt)}return null}let er=(()=>{class K{constructor($,Ae,yt,Xt){this._iterableDiffers=$,this._keyValueDiffers=Ae,this._ngEl=yt,this._renderer=Xt,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass($){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof $?$.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass($){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof $?$.split(/\s+/):$,this._rawClass&&((0,a.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const $=this._iterableDiffer.diff(this._rawClass);$&&this._applyIterableChanges($)}else if(this._keyValueDiffer){const $=this._keyValueDiffer.diff(this._rawClass);$&&this._applyKeyValueChanges($)}}_applyKeyValueChanges($){$.forEachAddedItem(Ae=>this._toggleClass(Ae.key,Ae.currentValue)),$.forEachChangedItem(Ae=>this._toggleClass(Ae.key,Ae.currentValue)),$.forEachRemovedItem(Ae=>{Ae.previousValue&&this._toggleClass(Ae.key,!1)})}_applyIterableChanges($){$.forEachAddedItem(Ae=>{if("string"!=typeof Ae.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,a.AaK)(Ae.item)}`);this._toggleClass(Ae.item,!0)}),$.forEachRemovedItem(Ae=>this._toggleClass(Ae.item,!1))}_applyClasses($){$&&(Array.isArray($)||$ instanceof Set?$.forEach(Ae=>this._toggleClass(Ae,!0)):Object.keys($).forEach(Ae=>this._toggleClass(Ae,!!$[Ae])))}_removeClasses($){$&&(Array.isArray($)||$ instanceof Set?$.forEach(Ae=>this._toggleClass(Ae,!1)):Object.keys($).forEach(Ae=>this._toggleClass(Ae,!1)))}_toggleClass($,Ae){($=$.trim())&&$.split(/\s+/g).forEach(yt=>{Ae?this._renderer.addClass(this._ngEl.nativeElement,yt):this._renderer.removeClass(this._ngEl.nativeElement,yt)})}}return K.\u0275fac=function($){return new($||K)(a.Y36(a.ZZ4),a.Y36(a.aQg),a.Y36(a.SBq),a.Y36(a.Qsj))},K.\u0275dir=a.lG2({type:K,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),K})();class Wi{constructor(Ee,$,Ae,yt){this.$implicit=Ee,this.ngForOf=$,this.index=Ae,this.count=yt}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let fi=(()=>{class K{constructor($,Ae,yt){this._viewContainer=$,this._template=Ae,this._differs=yt,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf($){this._ngForOf=$,this._ngForOfDirty=!0}set ngForTrackBy($){this._trackByFn=$}get ngForTrackBy(){return this._trackByFn}set ngForTemplate($){$&&(this._template=$)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const $=this._ngForOf;!this._differ&&$&&(this._differ=this._differs.find($).create(this.ngForTrackBy))}if(this._differ){const $=this._differ.diff(this._ngForOf);$&&this._applyChanges($)}}_applyChanges($){const Ae=this._viewContainer;$.forEachOperation((yt,Xt,un)=>{if(null==yt.previousIndex)Ae.createEmbeddedView(this._template,new Wi(yt.item,this._ngForOf,-1,-1),null===un?void 0:un);else if(null==un)Ae.remove(null===Xt?void 0:Xt);else if(null!==Xt){const Vn=Ae.get(Xt);Ae.move(Vn,un),Gr(Vn,yt)}});for(let yt=0,Xt=Ae.length;yt<Xt;yt++){const Vn=Ae.get(yt).context;Vn.index=yt,Vn.count=Xt,Vn.ngForOf=this._ngForOf}$.forEachIdentityChange(yt=>{Gr(Ae.get(yt.currentIndex),yt)})}static ngTemplateContextGuard($,Ae){return!0}}return K.\u0275fac=function($){return new($||K)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},K.\u0275dir=a.lG2({type:K,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),K})();function Gr(K,Ee){K.context.$implicit=Ee.item}let Dt=(()=>{class K{constructor($,Ae){this._viewContainer=$,this._context=new St,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Ae}set ngIf($){this._context.$implicit=this._context.ngIf=$,this._updateView()}set ngIfThen($){an("ngIfThen",$),this._thenTemplateRef=$,this._thenViewRef=null,this._updateView()}set ngIfElse($){an("ngIfElse",$),this._elseTemplateRef=$,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard($,Ae){return!0}}return K.\u0275fac=function($){return new($||K)(a.Y36(a.s_b),a.Y36(a.Rgc))},K.\u0275dir=a.lG2({type:K,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),K})();class St{constructor(){this.$implicit=null,this.ngIf=null}}function an(K,Ee){if(Ee&&!Ee.createEmbeddedView)throw new Error(`${K} must be a TemplateRef, but received '${(0,a.AaK)(Ee)}'.`)}class _n{constructor(Ee,$){this._viewContainerRef=Ee,this._templateRef=$,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(Ee){Ee&&!this._created?this.create():!Ee&&this._created&&this.destroy()}}let Rn=(()=>{class K{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch($){this._ngSwitch=$,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault($){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push($)}_matchCase($){const Ae=$==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||Ae,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Ae}_updateDefaultCases($){if(this._defaultViews&&$!==this._defaultUsed){this._defaultUsed=$;for(let Ae=0;Ae<this._defaultViews.length;Ae++)this._defaultViews[Ae].enforceState($)}}}return K.\u0275fac=function($){return new($||K)},K.\u0275dir=a.lG2({type:K,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),K})(),Xn=(()=>{class K{constructor($,Ae,yt){this.ngSwitch=yt,yt._addCase(),this._view=new _n($,Ae)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return K.\u0275fac=function($){return new($||K)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(Rn,9))},K.\u0275dir=a.lG2({type:K,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),K})(),kr=(()=>{class K{constructor($,Ae,yt){this._ngEl=$,this._differs=Ae,this._renderer=yt,this._ngStyle=null,this._differ=null}set ngStyle($){this._ngStyle=$,!this._differ&&$&&(this._differ=this._differs.find($).create())}ngDoCheck(){if(this._differ){const $=this._differ.diff(this._ngStyle);$&&this._applyChanges($)}}_setStyle($,Ae){const[yt,Xt]=$.split(".");null!=(Ae=null!=Ae&&Xt?`${Ae}${Xt}`:Ae)?this._renderer.setStyle(this._ngEl.nativeElement,yt,Ae):this._renderer.removeStyle(this._ngEl.nativeElement,yt)}_applyChanges($){$.forEachRemovedItem(Ae=>this._setStyle(Ae.key,null)),$.forEachAddedItem(Ae=>this._setStyle(Ae.key,Ae.currentValue)),$.forEachChangedItem(Ae=>this._setStyle(Ae.key,Ae.currentValue))}}return K.\u0275fac=function($){return new($||K)(a.Y36(a.SBq),a.Y36(a.aQg),a.Y36(a.Qsj))},K.\u0275dir=a.lG2({type:K,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),K})(),Es=(()=>{class K{constructor($){this._viewContainerRef=$,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges($){if($.ngTemplateOutlet){const Ae=this._viewContainerRef;this._viewRef&&Ae.remove(Ae.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?Ae.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&$.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return K.\u0275fac=function($){return new($||K)(a.Y36(a.s_b))},K.\u0275dir=a.lG2({type:K,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[a.TTD]}),K})();function mr(K,Ee){return new a.vHH(2100,"")}class Ms{createSubscription(Ee,$){return Ee.subscribe({next:$,error:Ae=>{throw Ae}})}dispose(Ee){Ee.unsubscribe()}onDestroy(Ee){Ee.unsubscribe()}}class us{createSubscription(Ee,$){return Ee.then($,Ae=>{throw Ae})}dispose(Ee){}onDestroy(Ee){}}const Is=new us,Vr=new Ms;let To=(()=>{class K{constructor($){this._ref=$,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform($){return this._obj?$!==this._obj?(this._dispose(),this.transform($)):this._latestValue:($&&this._subscribe($),this._latestValue)}_subscribe($){this._obj=$,this._strategy=this._selectStrategy($),this._subscription=this._strategy.createSubscription($,Ae=>this._updateLatestValue($,Ae))}_selectStrategy($){if((0,a.QGY)($))return Is;if((0,a.F4k)($))return Vr;throw mr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue($,Ae){$===this._obj&&(this._latestValue=Ae,this._ref.markForCheck())}}return K.\u0275fac=function($){return new($||K)(a.Y36(a.sBO,16))},K.\u0275pipe=a.Yjl({name:"async",type:K,pure:!1}),K})();const Uo=new a.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let go=(()=>{class K{constructor($,Ae){this.locale=$,this.defaultTimezone=Ae}transform($,Ae="mediumDate",yt,Xt){var un;if(null==$||""===$||$!=$)return null;try{return Tn($,Ae,Xt||this.locale,null!==(un=null!=yt?yt:this.defaultTimezone)&&void 0!==un?un:void 0)}catch(Vn){throw mr()}}}return K.\u0275fac=function($){return new($||K)(a.Y36(a.soG,16),a.Y36(Uo,24))},K.\u0275pipe=a.Yjl({name:"date",type:K,pure:!0}),K})(),Ps=(()=>{class K{}return K.\u0275fac=function($){return new($||K)},K.\u0275mod=a.oAB({type:K}),K.\u0275inj=a.cJS({}),K})();const $r="browser";function Ki(K){return K===$r}function bs(K){return"server"===K}let Fs=(()=>{class K{}return K.\u0275prov=(0,a.Yz7)({token:K,providedIn:"root",factory:()=>new Ss((0,a.LFG)(ye),window)}),K})();class Ss{constructor(Ee,$){this.document=Ee,this.window=$,this.offset=()=>[0,0]}setOffset(Ee){this.offset=Array.isArray(Ee)?()=>Ee:Ee}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Ee){this.supportsScrolling()&&this.window.scrollTo(Ee[0],Ee[1])}scrollToAnchor(Ee){if(!this.supportsScrolling())return;const $=function Pr(K,Ee){const $=K.getElementById(Ee)||K.getElementsByName(Ee)[0];if($)return $;if("function"==typeof K.createTreeWalker&&K.body&&(K.body.createShadowRoot||K.body.attachShadow)){const Ae=K.createTreeWalker(K.body,NodeFilter.SHOW_ELEMENT);let yt=Ae.currentNode;for(;yt;){const Xt=yt.shadowRoot;if(Xt){const un=Xt.getElementById(Ee)||Xt.querySelector(`[name="${Ee}"]`);if(un)return un}yt=Ae.nextNode()}}return null}(this.document,Ee);$&&(this.scrollToElement($),$.focus())}setHistoryScrollRestoration(Ee){if(this.supportScrollRestoration()){const $=this.window.history;$&&$.scrollRestoration&&($.scrollRestoration=Ee)}}scrollToElement(Ee){const $=Ee.getBoundingClientRect(),Ae=$.left+this.window.pageXOffset,yt=$.top+this.window.pageYOffset,Xt=this.offset();this.window.scrollTo(Ae-Xt[0],yt-Xt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const Ee=qs(this.window.history)||qs(Object.getPrototypeOf(this.window.history));return!(!Ee||!Ee.writable&&!Ee.set)}catch(Ee){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(Ee){return!1}}}function qs(K){return Object.getOwnPropertyDescriptor(K,"scrollRestoration")}class xi{}},520:(on,st,D)=>{D.d(st,{JF:()=>Ht,eN:()=>rt});var a=D(9808),R=D(5e3),b=D(9646),te=D(8306),v=D(4351),ce=D(9300),ye=D(4004);class be{}class z{}class B{constructor(oe){this.normalizedNames=new Map,this.lazyUpdate=null,oe?this.lazyInit="string"==typeof oe?()=>{this.headers=new Map,oe.split("\n").forEach(_e=>{const dt=_e.indexOf(":");if(dt>0){const Tt=_e.slice(0,dt),qt=Tt.toLowerCase(),nn=_e.slice(dt+1).trim();this.maybeSetNormalizedName(Tt,qt),this.headers.has(qt)?this.headers.get(qt).push(nn):this.headers.set(qt,[nn])}})}:()=>{this.headers=new Map,Object.keys(oe).forEach(_e=>{let dt=oe[_e];const Tt=_e.toLowerCase();"string"==typeof dt&&(dt=[dt]),dt.length>0&&(this.headers.set(Tt,dt),this.maybeSetNormalizedName(_e,Tt))})}:this.headers=new Map}has(oe){return this.init(),this.headers.has(oe.toLowerCase())}get(oe){this.init();const _e=this.headers.get(oe.toLowerCase());return _e&&_e.length>0?_e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(oe){return this.init(),this.headers.get(oe.toLowerCase())||null}append(oe,_e){return this.clone({name:oe,value:_e,op:"a"})}set(oe,_e){return this.clone({name:oe,value:_e,op:"s"})}delete(oe,_e){return this.clone({name:oe,value:_e,op:"d"})}maybeSetNormalizedName(oe,_e){this.normalizedNames.has(_e)||this.normalizedNames.set(_e,oe)}init(){this.lazyInit&&(this.lazyInit instanceof B?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(oe=>this.applyUpdate(oe)),this.lazyUpdate=null))}copyFrom(oe){oe.init(),Array.from(oe.headers.keys()).forEach(_e=>{this.headers.set(_e,oe.headers.get(_e)),this.normalizedNames.set(_e,oe.normalizedNames.get(_e))})}clone(oe){const _e=new B;return _e.lazyInit=this.lazyInit&&this.lazyInit instanceof B?this.lazyInit:this,_e.lazyUpdate=(this.lazyUpdate||[]).concat([oe]),_e}applyUpdate(oe){const _e=oe.name.toLowerCase();switch(oe.op){case"a":case"s":let dt=oe.value;if("string"==typeof dt&&(dt=[dt]),0===dt.length)return;this.maybeSetNormalizedName(oe.name,_e);const Tt=("a"===oe.op?this.headers.get(_e):void 0)||[];Tt.push(...dt),this.headers.set(_e,Tt);break;case"d":const qt=oe.value;if(qt){let nn=this.headers.get(_e);if(!nn)return;nn=nn.filter(Tn=>-1===qt.indexOf(Tn)),0===nn.length?(this.headers.delete(_e),this.normalizedNames.delete(_e)):this.headers.set(_e,nn)}else this.headers.delete(_e),this.normalizedNames.delete(_e)}}forEach(oe){this.init(),Array.from(this.normalizedNames.keys()).forEach(_e=>oe(this.normalizedNames.get(_e),this.headers.get(_e)))}}class re{encodeKey(oe){return ot(oe)}encodeValue(oe){return ot(oe)}decodeKey(oe){return decodeURIComponent(oe)}decodeValue(oe){return decodeURIComponent(oe)}}const We=/%(\d[a-f0-9])/gi,Fe={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function ot(X){return encodeURIComponent(X).replace(We,(oe,_e)=>{var dt;return null!==(dt=Fe[_e])&&void 0!==dt?dt:oe})}function et(X){return`${X}`}class Re{constructor(oe={}){if(this.updates=null,this.cloneFrom=null,this.encoder=oe.encoder||new re,oe.fromString){if(oe.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function xe(X,oe){const _e=new Map;return X.length>0&&X.replace(/^\?/,"").split("&").forEach(Tt=>{const qt=Tt.indexOf("="),[nn,Tn]=-1==qt?[oe.decodeKey(Tt),""]:[oe.decodeKey(Tt.slice(0,qt)),oe.decodeValue(Tt.slice(qt+1))],kn=_e.get(nn)||[];kn.push(Tn),_e.set(nn,kn)}),_e}(oe.fromString,this.encoder)}else oe.fromObject?(this.map=new Map,Object.keys(oe.fromObject).forEach(_e=>{const dt=oe.fromObject[_e];this.map.set(_e,Array.isArray(dt)?dt:[dt])})):this.map=null}has(oe){return this.init(),this.map.has(oe)}get(oe){this.init();const _e=this.map.get(oe);return _e?_e[0]:null}getAll(oe){return this.init(),this.map.get(oe)||null}keys(){return this.init(),Array.from(this.map.keys())}append(oe,_e){return this.clone({param:oe,value:_e,op:"a"})}appendAll(oe){const _e=[];return Object.keys(oe).forEach(dt=>{const Tt=oe[dt];Array.isArray(Tt)?Tt.forEach(qt=>{_e.push({param:dt,value:qt,op:"a"})}):_e.push({param:dt,value:Tt,op:"a"})}),this.clone(_e)}set(oe,_e){return this.clone({param:oe,value:_e,op:"s"})}delete(oe,_e){return this.clone({param:oe,value:_e,op:"d"})}toString(){return this.init(),this.keys().map(oe=>{const _e=this.encoder.encodeKey(oe);return this.map.get(oe).map(dt=>_e+"="+this.encoder.encodeValue(dt)).join("&")}).filter(oe=>""!==oe).join("&")}clone(oe){const _e=new Re({encoder:this.encoder});return _e.cloneFrom=this.cloneFrom||this,_e.updates=(this.updates||[]).concat(oe),_e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(oe=>this.map.set(oe,this.cloneFrom.map.get(oe))),this.updates.forEach(oe=>{switch(oe.op){case"a":case"s":const _e=("a"===oe.op?this.map.get(oe.param):void 0)||[];_e.push(et(oe.value)),this.map.set(oe.param,_e);break;case"d":if(void 0===oe.value){this.map.delete(oe.param);break}{let dt=this.map.get(oe.param)||[];const Tt=dt.indexOf(et(oe.value));-1!==Tt&&dt.splice(Tt,1),dt.length>0?this.map.set(oe.param,dt):this.map.delete(oe.param)}}}),this.cloneFrom=this.updates=null)}}class _t{constructor(){this.map=new Map}set(oe,_e){return this.map.set(oe,_e),this}get(oe){return this.map.has(oe)||this.map.set(oe,oe.defaultValue()),this.map.get(oe)}delete(oe){return this.map.delete(oe),this}has(oe){return this.map.has(oe)}keys(){return this.map.keys()}}function ue(X){return"undefined"!=typeof ArrayBuffer&&X instanceof ArrayBuffer}function me(X){return"undefined"!=typeof Blob&&X instanceof Blob}function Ce(X){return"undefined"!=typeof FormData&&X instanceof FormData}class Ge{constructor(oe,_e,dt,Tt){let qt;if(this.url=_e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=oe.toUpperCase(),function lt(X){switch(X){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Tt?(this.body=void 0!==dt?dt:null,qt=Tt):qt=dt,qt&&(this.reportProgress=!!qt.reportProgress,this.withCredentials=!!qt.withCredentials,qt.responseType&&(this.responseType=qt.responseType),qt.headers&&(this.headers=qt.headers),qt.context&&(this.context=qt.context),qt.params&&(this.params=qt.params)),this.headers||(this.headers=new B),this.context||(this.context=new _t),this.params){const nn=this.params.toString();if(0===nn.length)this.urlWithParams=_e;else{const Tn=_e.indexOf("?");this.urlWithParams=_e+(-1===Tn?"?":Tn<_e.length-1?"&":"")+nn}}else this.params=new Re,this.urlWithParams=_e}serializeBody(){return null===this.body?null:ue(this.body)||me(this.body)||Ce(this.body)||function Be(X){return"undefined"!=typeof URLSearchParams&&X instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Re?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ce(this.body)?null:me(this.body)?this.body.type||null:ue(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Re?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(oe={}){var _e;const dt=oe.method||this.method,Tt=oe.url||this.url,qt=oe.responseType||this.responseType,nn=void 0!==oe.body?oe.body:this.body,Tn=void 0!==oe.withCredentials?oe.withCredentials:this.withCredentials,kn=void 0!==oe.reportProgress?oe.reportProgress:this.reportProgress;let Fn=oe.headers||this.headers,ii=oe.params||this.params;const wi=null!==(_e=oe.context)&&void 0!==_e?_e:this.context;return void 0!==oe.setHeaders&&(Fn=Object.keys(oe.setHeaders).reduce((ri,mn)=>ri.set(mn,oe.setHeaders[mn]),Fn)),oe.setParams&&(ii=Object.keys(oe.setParams).reduce((ri,mn)=>ri.set(mn,oe.setParams[mn]),ii)),new Ge(dt,Tt,nn,{params:ii,headers:Fn,context:wi,reportProgress:kn,responseType:qt,withCredentials:Tn})}}var de=(()=>((de=de||{})[de.Sent=0]="Sent",de[de.UploadProgress=1]="UploadProgress",de[de.ResponseHeader=2]="ResponseHeader",de[de.DownloadProgress=3]="DownloadProgress",de[de.Response=4]="Response",de[de.User=5]="User",de))();class ut{constructor(oe,_e=200,dt="OK"){this.headers=oe.headers||new B,this.status=void 0!==oe.status?oe.status:_e,this.statusText=oe.statusText||dt,this.url=oe.url||null,this.ok=this.status>=200&&this.status<300}}class Qe extends ut{constructor(oe={}){super(oe),this.type=de.ResponseHeader}clone(oe={}){return new Qe({headers:oe.headers||this.headers,status:void 0!==oe.status?oe.status:this.status,statusText:oe.statusText||this.statusText,url:oe.url||this.url||void 0})}}class jt extends ut{constructor(oe={}){super(oe),this.type=de.Response,this.body=void 0!==oe.body?oe.body:null}clone(oe={}){return new jt({body:void 0!==oe.body?oe.body:this.body,headers:oe.headers||this.headers,status:void 0!==oe.status?oe.status:this.status,statusText:oe.statusText||this.statusText,url:oe.url||this.url||void 0})}}class bt extends ut{constructor(oe){super(oe,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${oe.url||"(unknown url)"}`:`Http failure response for ${oe.url||"(unknown url)"}: ${oe.status} ${oe.statusText}`,this.error=oe.error||null}}function zt(X,oe){return{body:oe,headers:X.headers,context:X.context,observe:X.observe,params:X.params,reportProgress:X.reportProgress,responseType:X.responseType,withCredentials:X.withCredentials}}let rt=(()=>{class X{constructor(_e){this.handler=_e}request(_e,dt,Tt={}){let qt;if(_e instanceof Ge)qt=_e;else{let kn,Fn;kn=Tt.headers instanceof B?Tt.headers:new B(Tt.headers),Tt.params&&(Fn=Tt.params instanceof Re?Tt.params:new Re({fromObject:Tt.params})),qt=new Ge(_e,dt,void 0!==Tt.body?Tt.body:null,{headers:kn,context:Tt.context,params:Fn,reportProgress:Tt.reportProgress,responseType:Tt.responseType||"json",withCredentials:Tt.withCredentials})}const nn=(0,b.of)(qt).pipe((0,v.b)(kn=>this.handler.handle(kn)));if(_e instanceof Ge||"events"===Tt.observe)return nn;const Tn=nn.pipe((0,ce.h)(kn=>kn instanceof jt));switch(Tt.observe||"body"){case"body":switch(qt.responseType){case"arraybuffer":return Tn.pipe((0,ye.U)(kn=>{if(null!==kn.body&&!(kn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return kn.body}));case"blob":return Tn.pipe((0,ye.U)(kn=>{if(null!==kn.body&&!(kn.body instanceof Blob))throw new Error("Response is not a Blob.");return kn.body}));case"text":return Tn.pipe((0,ye.U)(kn=>{if(null!==kn.body&&"string"!=typeof kn.body)throw new Error("Response is not a string.");return kn.body}));default:return Tn.pipe((0,ye.U)(kn=>kn.body))}case"response":return Tn;default:throw new Error(`Unreachable: unhandled observe type ${Tt.observe}}`)}}delete(_e,dt={}){return this.request("DELETE",_e,dt)}get(_e,dt={}){return this.request("GET",_e,dt)}head(_e,dt={}){return this.request("HEAD",_e,dt)}jsonp(_e,dt){return this.request("JSONP",_e,{params:(new Re).append(dt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(_e,dt={}){return this.request("OPTIONS",_e,dt)}patch(_e,dt,Tt={}){return this.request("PATCH",_e,zt(Tt,dt))}post(_e,dt,Tt={}){return this.request("POST",_e,zt(Tt,dt))}put(_e,dt,Tt={}){return this.request("PUT",_e,zt(Tt,dt))}}return X.\u0275fac=function(_e){return new(_e||X)(R.LFG(be))},X.\u0275prov=R.Yz7({token:X,factory:X.\u0275fac}),X})();class Ft{constructor(oe,_e){this.next=oe,this.interceptor=_e}handle(oe){return this.interceptor.intercept(oe,this.next)}}const xt=new R.OlP("HTTP_INTERCEPTORS");let Vt=(()=>{class X{intercept(_e,dt){return dt.handle(_e)}}return X.\u0275fac=function(_e){return new(_e||X)},X.\u0275prov=R.Yz7({token:X,factory:X.\u0275fac}),X})();const tt=/^\)\]\}',?\n/;let Mt=(()=>{class X{constructor(_e){this.xhrFactory=_e}handle(_e){if("JSONP"===_e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new te.y(dt=>{const Tt=this.xhrFactory.build();if(Tt.open(_e.method,_e.urlWithParams),_e.withCredentials&&(Tt.withCredentials=!0),_e.headers.forEach((mn,mi)=>Tt.setRequestHeader(mn,mi.join(","))),_e.headers.has("Accept")||Tt.setRequestHeader("Accept","application/json, text/plain, */*"),!_e.headers.has("Content-Type")){const mn=_e.detectContentTypeHeader();null!==mn&&Tt.setRequestHeader("Content-Type",mn)}if(_e.responseType){const mn=_e.responseType.toLowerCase();Tt.responseType="json"!==mn?mn:"text"}const qt=_e.serializeBody();let nn=null;const Tn=()=>{if(null!==nn)return nn;const mn=Tt.statusText||"OK",mi=new B(Tt.getAllResponseHeaders()),Sn=function Je(X){return"responseURL"in X&&X.responseURL?X.responseURL:/^X-Request-URL:/m.test(X.getAllResponseHeaders())?X.getResponseHeader("X-Request-URL"):null}(Tt)||_e.url;return nn=new Qe({headers:mi,status:Tt.status,statusText:mn,url:Sn}),nn},kn=()=>{let{headers:mn,status:mi,statusText:Sn,url:At}=Tn(),W=null;204!==mi&&(W=void 0===Tt.response?Tt.responseText:Tt.response),0===mi&&(mi=W?200:0);let O=mi>=200&&mi<300;if("json"===_e.responseType&&"string"==typeof W){const m=W;W=W.replace(tt,"");try{W=""!==W?JSON.parse(W):null}catch(x){W=m,O&&(O=!1,W={error:x,text:W})}}O?(dt.next(new jt({body:W,headers:mn,status:mi,statusText:Sn,url:At||void 0})),dt.complete()):dt.error(new bt({error:W,headers:mn,status:mi,statusText:Sn,url:At||void 0}))},Fn=mn=>{const{url:mi}=Tn(),Sn=new bt({error:mn,status:Tt.status||0,statusText:Tt.statusText||"Unknown Error",url:mi||void 0});dt.error(Sn)};let ii=!1;const wi=mn=>{ii||(dt.next(Tn()),ii=!0);let mi={type:de.DownloadProgress,loaded:mn.loaded};mn.lengthComputable&&(mi.total=mn.total),"text"===_e.responseType&&!!Tt.responseText&&(mi.partialText=Tt.responseText),dt.next(mi)},ri=mn=>{let mi={type:de.UploadProgress,loaded:mn.loaded};mn.lengthComputable&&(mi.total=mn.total),dt.next(mi)};return Tt.addEventListener("load",kn),Tt.addEventListener("error",Fn),Tt.addEventListener("timeout",Fn),Tt.addEventListener("abort",Fn),_e.reportProgress&&(Tt.addEventListener("progress",wi),null!==qt&&Tt.upload&&Tt.upload.addEventListener("progress",ri)),Tt.send(qt),dt.next({type:de.Sent}),()=>{Tt.removeEventListener("error",Fn),Tt.removeEventListener("abort",Fn),Tt.removeEventListener("load",kn),Tt.removeEventListener("timeout",Fn),_e.reportProgress&&(Tt.removeEventListener("progress",wi),null!==qt&&Tt.upload&&Tt.upload.removeEventListener("progress",ri)),Tt.readyState!==Tt.DONE&&Tt.abort()}})}}return X.\u0275fac=function(_e){return new(_e||X)(R.LFG(a.JF))},X.\u0275prov=R.Yz7({token:X,factory:X.\u0275fac}),X})();const rn=new R.OlP("XSRF_COOKIE_NAME"),fn=new R.OlP("XSRF_HEADER_NAME");class vn{}let Qn=(()=>{class X{constructor(_e,dt,Tt){this.doc=_e,this.platform=dt,this.cookieName=Tt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const _e=this.doc.cookie||"";return _e!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,a.Mx)(_e,this.cookieName),this.lastCookieString=_e),this.lastToken}}return X.\u0275fac=function(_e){return new(_e||X)(R.LFG(a.K0),R.LFG(R.Lbi),R.LFG(rn))},X.\u0275prov=R.Yz7({token:X,factory:X.\u0275fac}),X})(),ni=(()=>{class X{constructor(_e,dt){this.tokenService=_e,this.headerName=dt}intercept(_e,dt){const Tt=_e.url.toLowerCase();if("GET"===_e.method||"HEAD"===_e.method||Tt.startsWith("http://")||Tt.startsWith("https://"))return dt.handle(_e);const qt=this.tokenService.getToken();return null!==qt&&!_e.headers.has(this.headerName)&&(_e=_e.clone({headers:_e.headers.set(this.headerName,qt)})),dt.handle(_e)}}return X.\u0275fac=function(_e){return new(_e||X)(R.LFG(vn),R.LFG(fn))},X.\u0275prov=R.Yz7({token:X,factory:X.\u0275fac}),X})(),Qt=(()=>{class X{constructor(_e,dt){this.backend=_e,this.injector=dt,this.chain=null}handle(_e){if(null===this.chain){const dt=this.injector.get(xt,[]);this.chain=dt.reduceRight((Tt,qt)=>new Ft(Tt,qt),this.backend)}return this.chain.handle(_e)}}return X.\u0275fac=function(_e){return new(_e||X)(R.LFG(z),R.LFG(R.zs3))},X.\u0275prov=R.Yz7({token:X,factory:X.\u0275fac}),X})(),vt=(()=>{class X{static disable(){return{ngModule:X,providers:[{provide:ni,useClass:Vt}]}}static withOptions(_e={}){return{ngModule:X,providers:[_e.cookieName?{provide:rn,useValue:_e.cookieName}:[],_e.headerName?{provide:fn,useValue:_e.headerName}:[]]}}}return X.\u0275fac=function(_e){return new(_e||X)},X.\u0275mod=R.oAB({type:X}),X.\u0275inj=R.cJS({providers:[ni,{provide:xt,useExisting:ni,multi:!0},{provide:vn,useClass:Qn},{provide:rn,useValue:"XSRF-TOKEN"},{provide:fn,useValue:"X-XSRF-TOKEN"}]}),X})(),Ht=(()=>{class X{}return X.\u0275fac=function(_e){return new(_e||X)},X.\u0275mod=R.oAB({type:X}),X.\u0275inj=R.cJS({providers:[rt,{provide:be,useClass:Qt},Mt,{provide:z,useExisting:Mt}],imports:[[vt.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),X})()},5e3:(on,st,D)=>{D.d(st,{$8M:()=>Oo,$Z:()=>x_,AFp:()=>nw,ALo:()=>kv,AaK:()=>be,AsE:()=>Lf,BQk:()=>Sf,CHM:()=>ao,CRH:()=>vb,CZH:()=>Tb,CqO:()=>xm,EJc:()=>zw,EiD:()=>xd,EpF:()=>Yy,F$t:()=>N_,F4k:()=>Us,FYo:()=>gv,FiY:()=>Gi,G48:()=>fD,Gf:()=>gb,GfV:()=>tp,GkF:()=>cs,Gpc:()=>re,HTZ:()=>Mv,Hsn:()=>L_,Ikx:()=>$m,JOm:()=>ya,JVY:()=>io,L6k:()=>Ca,LAX:()=>Ph,LFG:()=>G,LSH:()=>Od,Lbi:()=>Hw,MAs:()=>mm,NdJ:()=>Am,O4$:()=>fs,OlP:()=>Tr,Oqu:()=>Nf,PXZ:()=>sD,Q6J:()=>Ef,QGY:()=>k_,Qsj:()=>ag,R0b:()=>jl,RDi:()=>qs,Rgc:()=>sp,SBq:()=>Jf,Sil:()=>Yw,Suo:()=>_b,TTD:()=>ts,TgZ:()=>Mf,Tol:()=>sh,Udp:()=>Xu,VKq:()=>ll,VLi:()=>nD,WFA:()=>km,WLB:()=>Ev,X6Q:()=>hD,XFs:()=>fe,Xpm:()=>U,Y36:()=>th,YKP:()=>Cv,YNc:()=>_f,Yjl:()=>Ve,Yz7:()=>Ze,ZZ4:()=>Hb,_Bn:()=>Qf,_UZ:()=>Tm,_Vd:()=>Xf,_c5:()=>xD,_uU:()=>W_,aQg:()=>jb,c2e:()=>jw,cJS:()=>Le,cg1:()=>Uf,d8E:()=>Ym,dDg:()=>lw,deG:()=>xa,dqk:()=>Fn,eBb:()=>Hc,eFA:()=>dw,ekj:()=>Of,f3M:()=>it,g9A:()=>rw,h0i:()=>Hl,hGG:()=>AD,hij:()=>ch,iGM:()=>mb,ifc:()=>Tt,ip1:()=>tw,kL8:()=>Wm,kcU:()=>So,l5B:()=>vh,lG2:()=>ze,lcZ:()=>nb,mCW:()=>jc,n5z:()=>ha,n_E:()=>Ch,oAB:()=>It,oxw:()=>F_,pB0:()=>ra,q3G:()=>Ds,q4F:()=>vv,qLn:()=>Ou,qOj:()=>im,qZA:()=>If,qzn:()=>_l,sBO:()=>pD,sIi:()=>su,s_b:()=>fg,soG:()=>xb,tBr:()=>hi,tb:()=>sw,tp0:()=>no,uIk:()=>dm,vHH:()=>ot,vpe:()=>Xr,wAp:()=>Ti,xi3:()=>Ov,xp6:()=>Dp,yhl:()=>Tu,ynx:()=>Tf,z2F:()=>Fb,z3N:()=>xr,zSh:()=>ef,zs3:()=>yl});var a=D(7579),R=D(727),b=D(8306),te=D(6451),v=D(3099);function ce(n){for(let r in n)if(n[r]===ce)return r;throw Error("Could not find renamed property on target object.")}function ye(n,r){for(const o in r)r.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=r[o])}function be(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(be).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const o=r.indexOf("\n");return-1===o?r:r.substring(0,o)}function z(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const B=ce({__forward_ref__:ce});function re(n){return n.__forward_ref__=re,n.toString=function(){return be(this())},n}function xe(n){return We(n)?n():n}function We(n){return"function"==typeof n&&n.hasOwnProperty(B)&&n.__forward_ref__===re}class ot extends Error{constructor(r,o){super(function et(n,r){return`NG0${Math.abs(n)}${r?": "+r:""}`}(r,o)),this.code=r}}function Re(n){return"string"==typeof n?n:null==n?"":String(n)}function Ke(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Re(n)}function me(n,r){const o=r?` in ${r}`:"";throw new ot(-201,`No provider for ${Ke(n)} found${o}`)}function Rt(n,r){null==n&&function Lt(n,r,o,c){throw new Error(`ASSERTION ERROR: ${n}`+(null==c?"":` [Expected=> ${o} ${c} ${r} <=Actual]`))}(r,n,null,"!=")}function Ze(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Le(n){return{providers:n.providers||[],imports:n.imports||[]}}function tt(n){return Je(n,vn)||Je(n,ni)}function Je(n,r){return n.hasOwnProperty(r)?n[r]:null}function fn(n){return n&&(n.hasOwnProperty(Qn)||n.hasOwnProperty(Qt))?n[Qn]:null}const vn=ce({\u0275prov:ce}),Qn=ce({\u0275inj:ce}),ni=ce({ngInjectableDef:ce}),Qt=ce({ngInjectorDef:ce});var fe=(()=>((fe=fe||{})[fe.Default=0]="Default",fe[fe.Host=1]="Host",fe[fe.Self=2]="Self",fe[fe.SkipSelf=4]="SkipSelf",fe[fe.Optional=8]="Optional",fe))();let $e;function Ht(n){const r=$e;return $e=n,r}function Ye(n,r,o){const c=tt(n);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:o&fe.Optional?null:void 0!==r?r:void me(be(n),"Injector")}function X(n){return{toString:n}.toString()}var oe=(()=>((oe=oe||{})[oe.OnPush=0]="OnPush",oe[oe.Default=1]="Default",oe))(),Tt=(()=>{return(n=Tt||(Tt={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Tt;var n})();const qt="undefined"!=typeof globalThis&&globalThis,nn="undefined"!=typeof window&&window,Tn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Fn=qt||"undefined"!=typeof global&&global||nn||Tn,ri={},mn=[],mi=ce({\u0275cmp:ce}),Sn=ce({\u0275dir:ce}),At=ce({\u0275pipe:ce}),W=ce({\u0275mod:ce}),O=ce({\u0275fac:ce}),m=ce({__NG_ELEMENT_ID__:ce});let x=0;function U(n){return X(()=>{const o={},c={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===oe.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||mn,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Tt.Emulated,id:"c",styles:n.styles||mn,_:null,setInput:null,schemas:n.schemas||null,tView:null},u=n.directives,p=n.features,w=n.pipes;return c.id+=x++,c.inputs=He(n.inputs,o),c.outputs=He(n.outputs),p&&p.forEach(k=>k(c)),c.directiveDefs=u?()=>("function"==typeof u?u():u).map(Me):null,c.pipeDefs=w?()=>("function"==typeof w?w():w).map(Ie):null,c})}function Me(n){return pt(n)||function Gt(n){return n[Sn]||null}(n)}function Ie(n){return function Mn(n){return n[At]||null}(n)}const je={};function It(n){return X(()=>{const r={type:n.type,bootstrap:n.bootstrap||mn,declarations:n.declarations||mn,imports:n.imports||mn,exports:n.exports||mn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(je[n.id]=n.type),r})}function He(n,r){if(null==n)return ri;const o={};for(const c in n)if(n.hasOwnProperty(c)){let u=n[c],p=u;Array.isArray(u)&&(p=u[1],u=u[0]),o[u]=c,r&&(r[u]=p)}return o}const ze=U;function Ve(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function pt(n){return n[mi]||null}function En(n,r){const o=n[W]||null;if(!o&&!0===r)throw new Error(`Type ${be(n)} does not have '\u0275mod' property.`);return o}function Rn(n){return Array.isArray(n)&&"object"==typeof n[1]}function Xn(n){return Array.isArray(n)&&!0===n[1]}function $i(n){return 0!=(8&n.flags)}function Fi(n){return 2==(2&n.flags)}function pr(n){return 1==(1&n.flags)}function Lr(n){return null!==n.template}function kr(n){return 0!=(512&n[2])}function Or(n,r){return n.hasOwnProperty(O)?n[O]:null}class Gs{constructor(r,o,c){this.previousValue=r,this.currentValue=o,this.firstChange=c}isFirstChange(){return this.firstChange}}function ts(){return ns}function ns(n){return n.type.prototype.ngOnChanges&&(n.setInput=Br),zs}function zs(){const n=$r(this),r=null==n?void 0:n.current;if(r){const o=n.previous;if(o===ri)n.previous=r;else for(let c in r)o[c]=r[c];n.current=null,this.ngOnChanges(r)}}function Br(n,r,o,c){const u=$r(n)||function Ts(n,r){return n[Ps]=r}(n,{previous:ri,current:null}),p=u.current||(u.current={}),w=u.previous,k=this.declaredInputs[o],N=w[k];p[k]=new Gs(N&&N.currentValue,r,w===ri),n[c]=r}ts.ngInherit=!0;const Ps="__ngSimpleChanges__";function $r(n){return n[Ps]||null}let Ss;function qs(n){Ss=n}function xi(n){return!!n.listen}const K={createRenderer:(n,r)=>function Pr(){return void 0!==Ss?Ss:"undefined"!=typeof document?document:void 0}()};function $(n){for(;Array.isArray(n);)n=n[0];return n}function Xt(n,r){return $(r[n])}function un(n,r){return $(r[n.index])}function ci(n,r){return n.data[r]}function Oi(n,r){return n[r]}function Jn(n,r){const o=r[n];return Rn(o)?o:o[0]}function Ei(n){return 4==(4&n[2])}function or(n){return 128==(128&n[2])}function qi(n,r){return null==r?null:n[r]}function Z(n){n[18]=0}function j(n,r){n[5]+=r;let o=n,c=n[3];for(;null!==c&&(1===r&&1===o[5]||-1===r&&0===o[5]);)c[5]+=r,o=c,c=c[3]}const F={lFrame:li(null),bindingsEnabled:!0};function hs(){return F.bindingsEnabled}function pn(){return F.lFrame.lView}function Ui(){return F.lFrame.tView}function ao(n){return F.lFrame.contextLView=n,n[8]}function Er(){let n=oa();for(;null!==n&&64===n.type;)n=n.parent;return n}function oa(){return F.lFrame.currentTNode}function Ns(n,r){const o=F.lFrame;o.currentTNode=n,o.isParent=r}function Xo(){return F.lFrame.isParent}function Sa(){F.lFrame.isParent=!1}function Yr(){const n=F.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function C(){return F.lFrame.bindingIndex++}function M(n){const r=F.lFrame,o=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,o}function Ue(n,r){const o=F.lFrame;o.bindingIndex=o.bindingRootIndex=n,gt(r)}function gt(n){F.lFrame.currentDirectiveIndex=n}function Bt(n){const r=F.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}function ln(){return F.lFrame.currentQueryIndex}function Nn(n){F.lFrame.currentQueryIndex=n}function Zn(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function _i(n,r,o){if(o&fe.SkipSelf){let u=r,p=n;for(;!(u=u.parent,null!==u||o&fe.Host||(u=Zn(p),null===u||(p=p[15],10&u.type))););if(null===u)return!1;r=u,n=p}const c=F.lFrame=ai();return c.currentTNode=r,c.lView=n,!0}function Ii(n){const r=ai(),o=n[1];F.lFrame=r,r.currentTNode=o.firstChild,r.lView=n,r.tView=o,r.contextLView=n,r.bindingIndex=o.bindingStartIndex,r.inI18n=!1}function ai(){const n=F.lFrame,r=null===n?null:n.child;return null===r?li(n):r}function li(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function Qi(){const n=F.lFrame;return F.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const rr=Qi;function ur(){const n=Qi();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function tr(){return F.lFrame.selectedIndex}function Wr(n){F.lFrame.selectedIndex=n}function Li(){const n=F.lFrame;return ci(n.tView,n.selectedIndex)}function fs(){F.lFrame.currentNamespace="svg"}function So(){!function Jo(){F.lFrame.currentNamespace=null}()}function xo(n,r){for(let o=r.directiveStart,c=r.directiveEnd;o<c;o++){const p=n.data[o].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:k,ngAfterViewInit:N,ngAfterViewChecked:ne,ngOnDestroy:we}=p;w&&(n.contentHooks||(n.contentHooks=[])).push(-o,w),k&&((n.contentHooks||(n.contentHooks=[])).push(o,k),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(o,k)),N&&(n.viewHooks||(n.viewHooks=[])).push(-o,N),ne&&((n.viewHooks||(n.viewHooks=[])).push(o,ne),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(o,ne)),null!=we&&(n.destroyHooks||(n.destroyHooks=[])).push(o,we)}}function vr(n,r,o){ui(n,r,3,o)}function jn(n,r,o,c){(3&n[2])===o&&ui(n,r,o,c)}function Un(n,r){let o=n[2];(3&o)===r&&(o&=2047,o+=1,n[2]=o)}function ui(n,r,o,c){const p=null!=c?c:-1,w=r.length-1;let k=0;for(let N=void 0!==c?65535&n[18]:0;N<w;N++)if("number"==typeof r[N+1]){if(k=r[N],null!=c&&k>=c)break}else r[N]<0&&(n[18]+=65536),(k<p||-1==p)&&(di(n,o,r,N),n[18]=(4294901760&n[18])+N+2),N++}function di(n,r,o,c){const u=o[c]<0,p=o[c+1],k=n[u?-o[c]:o[c]];if(u){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{p.call(k)}finally{}}}else try{p.call(k)}finally{}}class br{constructor(r,o,c){this.factory=r,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=c}}function is(n,r,o){const c=xi(n);let u=0;for(;u<o.length;){const p=o[u];if("number"==typeof p){if(0!==p)break;u++;const w=o[u++],k=o[u++],N=o[u++];c?n.setAttribute(r,k,N,w):r.setAttributeNS(w,k,N)}else{const w=p,k=o[++u];Zt(w)?c&&n.setProperty(r,w,k):c?n.setAttribute(r,w,k):r.setAttribute(w,k),u++}}return u}function An(n){return 3===n||4===n||6===n}function Zt(n){return 64===n.charCodeAt(0)}function yn(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let o=-1;for(let c=0;c<r.length;c++){const u=r[c];"number"==typeof u?o=u:0===o||qr(n,o,u,null,-1===o||2===o?r[++c]:null)}}return n}function qr(n,r,o,c,u){let p=0,w=n.length;if(-1===r)w=-1;else for(;p<n.length;){const k=n[p++];if("number"==typeof k){if(k===r){w=-1;break}if(k>r){w=p-1;break}}}for(;p<n.length;){const k=n[p];if("number"==typeof k)break;if(k===o){if(null===c)return void(null!==u&&(n[p+1]=u));if(c===n[p+1])return void(n[p+2]=u)}p++,null!==c&&p++,null!==u&&p++}-1!==w&&(n.splice(w,0,r),p=w+1),n.splice(p++,0,o),null!==c&&n.splice(p++,0,c),null!==u&&n.splice(p++,0,u)}function ca(n){return-1!==n}function jo(n){return 32767&n}function ko(n,r){let o=function rs(n){return n>>16}(n),c=r;for(;o>0;)c=c[15],o--;return c}let ua=!0;function da(n){const r=ua;return ua=n,r}let Go=0;function vi(n,r){const o=T(n,r);if(-1!==o)return o;const c=r[1];c.firstCreatePass&&(n.injectorIndex=r.length,P(c.data,n),P(r,null),P(c.blueprint,null));const u=E(n,r),p=n.injectorIndex;if(ca(u)){const w=jo(u),k=ko(u,r),N=k[1].data;for(let ne=0;ne<8;ne++)r[p+ne]=k[w+ne]|N[w+ne]}return r[p+8]=u,p}function P(n,r){n.push(0,0,0,0,0,0,0,0,r)}function T(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function E(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,c=null,u=r;for(;null!==u;){const p=u[1],w=p.type;if(c=2===w?p.declTNode:1===w?u[6]:null,null===c)return-1;if(o++,u=u[15],-1!==c.injectorIndex)return c.injectorIndex|o<<16}return-1}function L(n,r,o){!function Dl(n,r,o){let c;"string"==typeof o?c=o.charCodeAt(0)||0:o.hasOwnProperty(m)&&(c=o[m]),null==c&&(c=o[m]=Go++);const u=255&c;r.data[n+(u>>5)]|=1<<u}(n,r,o)}function ge(n,r,o){if(o&fe.Optional)return n;me(r,"NodeInjector")}function nt(n,r,o,c){if(o&fe.Optional&&void 0===c&&(c=null),0==(o&(fe.Self|fe.Host))){const u=n[9],p=Ht(void 0);try{return u?u.get(r,c,o&fe.Optional):Ye(r,c,o&fe.Optional)}finally{Ht(p)}}return ge(c,r,o)}function ht(n,r,o,c=fe.Default,u){if(null!==n){const p=function ji(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(m)?n[m]:void 0;return"number"==typeof r?r>=0?255&r:Gn:r}(o);if("function"==typeof p){if(!_i(r,n,c))return c&fe.Host?ge(u,o,c):nt(r,o,c,u);try{const w=p(c);if(null!=w||c&fe.Optional)return w;me(o)}finally{rr()}}else if("number"==typeof p){let w=null,k=T(n,r),N=-1,ne=c&fe.Host?r[16][6]:null;for((-1===k||c&fe.SkipSelf)&&(N=-1===k?E(n,r):r[k+8],-1!==N&&co(c,!1)?(w=r[1],k=jo(N),r=ko(N,r)):k=-1);-1!==k;){const we=r[1];if(Xs(p,k,we.data)){const Xe=Ni(k,r,o,w,c,ne);if(Xe!==Ct)return Xe}N=r[k+8],-1!==N&&co(c,r[1].data[k+8]===ne)&&Xs(p,k,r)?(w=we,k=jo(N),r=ko(N,r)):k=-1}}}return nt(r,o,c,u)}const Ct={};function Gn(){return new Cs(Er(),pn())}function Ni(n,r,o,c,u,p){const w=r[1],k=w.data[n+8],we=Wn(k,w,o,null==c?Fi(k)&&ua:c!=w&&0!=(3&k.type),u&fe.Host&&p===k);return null!==we?Xi(r,w,we,k):Ct}function Wn(n,r,o,c,u){const p=n.providerIndexes,w=r.data,k=1048575&p,N=n.directiveStart,we=p>>20,wt=u?k+we:n.directiveEnd;for(let $t=c?k:k+we;$t<wt;$t++){const hn=w[$t];if($t<N&&o===hn||$t>=N&&hn.type===o)return $t}if(u){const $t=w[N];if($t&&Lr($t)&&$t.type===o)return N}return null}function Xi(n,r,o,c){let u=n[o];const p=r.data;if(function Kr(n){return n instanceof br}(u)){const w=u;w.resolving&&function _t(n,r){const o=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new ot(-200,`Circular dependency in DI detected for ${n}${o}`)}(Ke(p[o]));const k=da(w.canSeeViewProviders);w.resolving=!0;const N=w.injectImpl?Ht(w.injectImpl):null;_i(n,c,fe.Default);try{u=n[o]=w.factory(void 0,p,n,c),r.firstCreatePass&&o>=c.directiveStart&&function ea(n,r,o){const{ngOnChanges:c,ngOnInit:u,ngDoCheck:p}=r.type.prototype;if(c){const w=ns(r);(o.preOrderHooks||(o.preOrderHooks=[])).push(n,w),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,w)}u&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-n,u),p&&((o.preOrderHooks||(o.preOrderHooks=[])).push(n,p),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,p))}(o,p[o],r)}finally{null!==N&&Ht(N),da(k),w.resolving=!1,rr()}}return u}function Xs(n,r,o){return!!(o[r+(n>>5)]&1<<n)}function co(n,r){return!(n&fe.Self||n&fe.Host&&r)}class Cs{constructor(r,o){this._tNode=r,this._lView=o}get(r,o,c){return ht(this._tNode,this._lView,r,c,o)}}function ha(n){return X(()=>{const r=n.prototype.constructor,o=r[O]||Ir(r),c=Object.prototype;let u=Object.getPrototypeOf(n.prototype).constructor;for(;u&&u!==c;){const p=u[O]||Ir(u);if(p&&p!==o)return p;u=Object.getPrototypeOf(u)}return p=>new p})}function Ir(n){return We(n)?()=>{const r=Ir(xe(n));return r&&r()}:Or(n)}function Oo(n){return function Q(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const o=n.attrs;if(o){const c=o.length;let u=0;for(;u<c;){const p=o[u];if(An(p))break;if(0===p)u+=2;else if("number"==typeof p)for(u++;u<c&&"string"==typeof o[u];)u++;else{if(p===r)return o[u+1];u+=2}}}return null}(Er(),n)}const fa="__parameters__";function pa(n,r,o){return X(()=>{const c=function Jt(n){return function(...o){if(n){const c=n(...o);for(const u in c)this[u]=c[u]}}}(r);function u(...p){if(this instanceof u)return c.apply(this,p),this;const w=new u(...p);return k.annotation=w,k;function k(N,ne,we){const Xe=N.hasOwnProperty(fa)?N[fa]:Object.defineProperty(N,fa,{value:[]})[fa];for(;Xe.length<=we;)Xe.push(null);return(Xe[we]=Xe[we]||[]).push(w),N}}return o&&(u.prototype=Object.create(o.prototype)),u.prototype.ngMetadataName=n,u.annotationCls=u,u})}class Tr{constructor(r,o){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Ze({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const xa=new Tr("AnalyzeForEntryComponents");function ws(n,r){void 0===r&&(r=n);for(let o=0;o<n.length;o++){let c=n[o];Array.isArray(c)?(r===n&&(r=n.slice(0,o)),ws(c,r)):r!==n&&r.push(c)}return r}function Js(n,r){n.forEach(o=>Array.isArray(o)?Js(o,r):r(o))}function dl(n,r,o){r>=n.length?n.push(o):n.splice(r,0,o)}function os(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function ka(n,r){const o=[];for(let c=0;c<n;c++)o.push(r);return o}function Ur(n,r,o){let c=to(n,r);return c>=0?n[1|c]=o:(c=~c,function $o(n,r,o,c){let u=n.length;if(u==r)n.push(o,c);else if(1===u)n.push(c,n[0]),n[0]=o;else{for(u--,n.push(n[u-1],n[u]);u>r;)n[u]=n[u-2],u--;n[r]=o,n[r+1]=c}}(n,c,r,o)),c}function ga(n,r){const o=to(n,r);if(o>=0)return n[1|o]}function to(n,r){return function Yo(n,r,o){let c=0,u=n.length>>o;for(;u!==c;){const p=c+(u-c>>1),w=n[p<<o];if(r===w)return p<<o;w>r?u=p:c=p+1}return~(u<<o)}(n,r,1)}const g={},Y="__NG_DI_FLAG__",ve="ngTempTokenPath",In=/\n/gm,sr="__source",Nr=ce({provide:String,useValue:ce});let Hr;function Ys(n){const r=Hr;return Hr=n,r}function V(n,r=fe.Default){if(void 0===Hr)throw new ot(203,"");return null===Hr?Ye(n,void 0,r):Hr.get(n,r&fe.Optional?null:void 0,r)}function G(n,r=fe.Default){return(function vt(){return $e}()||V)(xe(n),r)}const it=G;function Nt(n){const r=[];for(let o=0;o<n.length;o++){const c=xe(n[o]);if(Array.isArray(c)){if(0===c.length)throw new ot(900,"");let u,p=fe.Default;for(let w=0;w<c.length;w++){const k=c[w],N=wn(k);"number"==typeof N?-1===N?u=k.token:p|=N:u=k}r.push(G(u,p))}else r.push(G(c))}return r}function Kt(n,r){return n[Y]=r,n.prototype[Y]=r,n}function wn(n){return n[Y]}const hi=Kt(pa("Inject",n=>({token:n})),-1),Gi=Kt(pa("Optional"),8),no=Kt(pa("SkipSelf"),4);var ya=(()=>((ya=ya||{})[ya.Important=1]="Important",ya[ya.DashCase=2]="DashCase",ya))();const ad="__ngContext__";function As(n,r){n[ad]=r}function Rc(n){const r=function Al(n){return n[ad]||null}(n);return r?Array.isArray(r)?r:r.lView:null}function vu(n,r){return undefined(n,r)}function Zl(n){const r=n[3];return Xn(r)?r[3]:r}function ql(n){return gd(n[13])}function md(n){return gd(n[4])}function gd(n){for(;null!==n&&!Xn(n);)n=n[4];return n}function Ga(n,r,o,c,u){if(null!=c){let p,w=!1;Xn(c)?p=c:Rn(c)&&(w=!0,c=c[0]);const k=$(c);0===n&&null!==o?null==u?za(r,o,k):Ko(r,o,k,u||null,!0):1===n&&null!==o?Ko(r,o,k,u||null,!0):2===n?function Eu(n,r,o){const c=Ol(n,r);c&&function wu(n,r,o,c){xi(n)?n.removeChild(r,o,c):r.removeChild(o)}(n,c,r,o)}(r,k,w):3===n&&r.destroyNode(k),null!=p&&function Vc(n,r,o,c,u){const p=o[7];p!==$(o)&&Ga(r,n,c,p,u);for(let k=10;k<o.length;k++){const N=o[k];tc(N[1],N,n,r,c,p)}}(r,n,p,o,u)}}function Ql(n,r,o){if(xi(n))return n.createElement(r,o);{const c=null!==o?function Fs(n){const r=n.toLowerCase();return"svg"===r?"http://www.w3.org/2000/svg":"math"===r?"http://www.w3.org/1998/MathML/":null}(o):null;return null===c?n.createElement(r):n.createElementNS(c,r)}}function ls(n,r){const o=n[9],c=o.indexOf(r),u=r[3];1024&r[2]&&(r[2]&=-1025,j(u,-1)),o.splice(c,1)}function ml(n,r){if(n.length<=10)return;const o=10+r,c=n[o];if(c){const u=c[17];null!==u&&u!==n&&ls(u,c),r>0&&(n[o-1][4]=c[4]);const p=os(n,10+r);!function Xl(n,r){tc(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(c[1],c);const w=p[19];null!==w&&w.detachView(p[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function Fc(n,r){if(!(256&r[2])){const o=r[11];xi(o)&&o.destroyNode&&tc(n,r,o,3,null,null),function Pc(n){let r=n[13];if(!r)return bu(n[1],n);for(;r;){let o=null;if(Rn(r))o=r[13];else{const c=r[10];c&&(o=c)}if(!o){for(;r&&!r[4]&&r!==n;)Rn(r)&&bu(r[1],r),r=r[3];null===r&&(r=n),Rn(r)&&bu(r[1],r),o=r&&r[4]}r=o}}(r)}}function bu(n,r){if(!(256&r[2])){r[2]&=-129,r[2]|=256,function Nc(n,r){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let c=0;c<o.length;c+=2){const u=r[o[c]];if(!(u instanceof br)){const p=o[c+1];if(Array.isArray(p))for(let w=0;w<p.length;w+=2){const k=u[p[w]],N=p[w+1];try{N.call(k)}finally{}}else try{p.call(u)}finally{}}}}(n,r),function dp(n,r){const o=n.cleanup,c=r[7];let u=-1;if(null!==o)for(let p=0;p<o.length-1;p+=2)if("string"==typeof o[p]){const w=o[p+1],k="function"==typeof w?w(r):$(r[w]),N=c[u=o[p+2]],ne=o[p+3];"boolean"==typeof ne?k.removeEventListener(o[p],N,ne):ne>=0?c[u=ne]():c[u=-ne].unsubscribe(),p+=2}else{const w=c[u=o[p+1]];o[p].call(w)}if(null!==c){for(let p=u+1;p<c.length;p++)c[p]();r[7]=null}}(n,r),1===r[1].type&&xi(r[11])&&r[11].destroy();const o=r[17];if(null!==o&&Xn(r[3])){o!==r[3]&&ls(o,r);const c=r[19];null!==c&&c.detachView(n)}}}function Ah(n,r,o){return function Cu(n,r,o){let c=r;for(;null!==c&&40&c.type;)c=(r=c).parent;if(null===c)return o[0];if(2&c.flags){const u=n.data[c.directiveStart].encapsulation;if(u===Tt.None||u===Tt.Emulated)return null}return un(c,o)}(n,r.parent,o)}function Ko(n,r,o,c,u){xi(n)?n.insertBefore(r,o,c,u):r.insertBefore(o,c,u)}function za(n,r,o){xi(n)?n.appendChild(r,o):r.appendChild(o)}function yd(n,r,o,c,u){null!==c?Ko(n,r,o,c,u):za(n,r,o)}function Ol(n,r){return xi(n)?n.parentNode(r):r.parentNode}function Du(n,r,o){return ks(n,r,o)}let nc,ks=function Lc(n,r,o){return 40&n.type?un(n,o):null};function ec(n,r,o,c){const u=Ah(n,c,r),p=r[11],k=Du(c.parent||r[6],c,r);if(null!=u)if(Array.isArray(o))for(let N=0;N<o.length;N++)yd(p,u,o[N],k,!1);else yd(p,u,o,k,!1)}function Ra(n,r){if(null!==r){const o=r.type;if(3&o)return un(r,n);if(4&o)return Co(-1,n[r.index]);if(8&o){const c=r.child;if(null!==c)return Ra(n,c);{const u=n[r.index];return Xn(u)?Co(-1,u):$(u)}}if(32&o)return vu(r,n)()||$(n[r.index]);{const c=kh(n,r);return null!==c?Array.isArray(c)?c[0]:Ra(Zl(n[16]),c):Ra(n,r.next)}}return null}function kh(n,r){return null!==r?n[16][6].projection[r.projection]:null}function Co(n,r){const o=10+n+1;if(o<r.length){const c=r[o],u=c[1].firstChild;if(null!==u)return Ra(c,u)}return r[7]}function Pa(n,r,o,c,u,p,w){for(;null!=o;){const k=c[o.index],N=o.type;if(w&&0===r&&(k&&As($(k),c),o.flags|=4),64!=(64&o.flags))if(8&N)Pa(n,r,o.child,c,u,p,!1),Ga(r,n,u,k,p);else if(32&N){const ne=vu(o,c);let we;for(;we=ne();)Ga(r,n,u,we,p);Ga(r,n,u,k,p)}else 16&N?Cd(n,r,c,o,u,p):Ga(r,n,u,k,p);o=w?o.projectionNext:o.next}}function tc(n,r,o,c,u,p){Pa(o,c,n.firstChild,r,u,p,!1)}function Cd(n,r,o,c,u,p){const w=o[16],N=w[6].projection[c.projection];if(Array.isArray(N))for(let ne=0;ne<N.length;ne++)Ga(r,n,u,N[ne],p);else Pa(n,r,N,w[3],u,p,!0)}function Oh(n,r,o){xi(n)?n.setAttribute(r,"style",o):r.style.cssText=o}function Hi(n,r,o){xi(n)?""===o?n.removeAttribute(r,"class"):n.setAttribute(r,"class",o):r.className=o}function ba(n){var r;return(null===(r=function gl(){if(void 0===nc&&(nc=null,Fn.trustedTypes))try{nc=Fn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return nc}())||void 0===r?void 0:r.createHTML(n))||n}class Rl{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Rh extends Rl{getTypeName(){return"HTML"}}class pp extends Rl{getTypeName(){return"Style"}}class ia extends Rl{getTypeName(){return"Script"}}class Dd extends Rl{getTypeName(){return"URL"}}class mp extends Rl{getTypeName(){return"ResourceURL"}}function xr(n){return n instanceof Rl?n.changingThisBreaksApplicationSecurity:n}function _l(n,r){const o=Tu(n);if(null!=o&&o!==r){if("ResourceURL"===o&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===r}function Tu(n){return n instanceof Rl&&n.getTypeName()||null}function io(n){return new Rh(n)}function Ca(n){return new pp(n)}function Hc(n){return new ia(n)}function Ph(n){return new Dd(n)}function ra(n){return new mp(n)}class Ed{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const o=(new window.DOMParser).parseFromString(ba(r),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(r):(o.removeChild(o.firstChild),o)}catch(o){return null}}}class Md{constructor(r){if(this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const c=this.inertDocument.createElement("body");o.appendChild(c)}}getInertBodyElement(r){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=ba(r),o;const c=this.inertDocument.createElement("body");return c.innerHTML=ba(r),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(r){const o=r.attributes;for(let u=o.length-1;0<u;u--){const w=o.item(u).name;("xmlns:ns1"===w||0===w.indexOf("ns1:"))&&r.removeAttribute(w)}let c=r.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const Id=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Td=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function jc(n){return(n=String(n)).match(Id)||n.match(Td)?n:"unsafe:"+n}function y(n){const r={};for(const o of n.split(","))r[o]=!0;return r}function h(...n){const r={};for(const o of n)for(const c in o)o.hasOwnProperty(c)&&(r[c]=!0);return r}const f=y("area,br,col,hr,img,wbr"),I=y("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ee=y("rp,rt"),xn=h(f,h(I,y("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),h(ee,y("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),h(ee,I)),qn=y("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Mi=y("srcset"),wa=h(qn,Mi,y("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),y("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Gc=y("script,style,template");class Na{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let o=r.firstChild,c=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?c=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,c&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let u=this.checkClobberedElement(o,o.nextSibling);if(u){o=u;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(r){const o=r.nodeName.toLowerCase();if(!xn.hasOwnProperty(o))return this.sanitizedSomething=!0,!Gc.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const c=r.attributes;for(let u=0;u<c.length;u++){const p=c.item(u),w=p.name,k=w.toLowerCase();if(!wa.hasOwnProperty(k)){this.sanitizedSomething=!0;continue}let N=p.value;qn[k]&&(N=jc(N)),Mi[k]&&(n=N,N=(n=String(n)).split(",").map(r=>jc(r.trim())).join(", ")),this.buf.push(" ",w,'="',Au(N),'"')}var n;return this.buf.push(">"),!0}endElement(r){const o=r.nodeName.toLowerCase();xn.hasOwnProperty(o)&&!f.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(r){this.buf.push(Au(r))}checkClobberedElement(r,o){if(o&&(r.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return o}}const xu=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,zc=/([^\#-~ |!])/g;function Au(n){return n.replace(/&/g,"&amp;").replace(xu,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(zc,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let rc;function xd(n,r){let o=null;try{rc=rc||function Pl(n){const r=new Md(n);return function gp(){try{return!!(new window.DOMParser).parseFromString(ba(""),"text/html")}catch(n){return!1}}()?new Ed(r):r}(n);let c=r?String(r):"";o=rc.getInertBodyElement(c);let u=5,p=c;do{if(0===u)throw new Error("Failed to sanitize html because the input is unstable");u--,c=p,p=o.innerHTML,o=rc.getInertBodyElement(c)}while(c!==p);return ba((new Na).sanitizeChildren(ku(o)||o))}finally{if(o){const c=ku(o)||o;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function ku(n){return"content"in n&&function Ad(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Ds=(()=>((Ds=Ds||{})[Ds.NONE=0]="NONE",Ds[Ds.HTML=1]="HTML",Ds[Ds.STYLE=2]="STYLE",Ds[Ds.SCRIPT=3]="SCRIPT",Ds[Ds.URL=4]="URL",Ds[Ds.RESOURCE_URL=5]="RESOURCE_URL",Ds))();function Od(n){const r=function Rd(){const n=pn();return n&&n[12]}();return r?r.sanitize(Ds.URL,n)||"":_l(n,"URL")?xr(n):jc(Re(n))}function Pd(n){return n.ngOriginalError}function vp(n,...r){n.error(...r)}class Ou{constructor(){this._console=console}handleError(r){const o=this._findOriginalError(r),c=function wo(n){return n&&n.ngErrorLogger||vp}(r);c(this._console,"ERROR",r),o&&c(this._console,"ORIGINAL ERROR",o)}_findOriginalError(r){let o=r&&Pd(r);for(;o&&Pd(o);)o=Pd(o);return o||null}}const $c=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Fn))();function $a(n){return n instanceof Function?n():n}function Cp(n,r,o){let c=n.length;for(;;){const u=n.indexOf(r,o);if(-1===u)return u;if(0===u||n.charCodeAt(u-1)<=32){const p=r.length;if(u+p===c||n.charCodeAt(u+p)<=32)return u}o=u+1}}const Nd="ng-template";function Ld(n,r,o){let c=0;for(;c<n.length;){let u=n[c++];if(o&&"class"===u){if(u=n[c],-1!==Cp(u.toLowerCase(),r,0))return!0}else if(1===u){for(;c<n.length&&"string"==typeof(u=n[c++]);)if(u.toLowerCase()===r)return!0;return!1}}return!1}function oc(n){return 4===n.type&&n.value!==Nd}function iy(n,r,o){return r===(4!==n.type||o?n.value:Nd)}function Mg(n,r,o){let c=4;const u=n.attrs||[],p=function Zc(n){for(let r=0;r<n.length;r++)if(An(n[r]))return r;return n.length}(u);let w=!1;for(let k=0;k<r.length;k++){const N=r[k];if("number"!=typeof N){if(!w)if(4&c){if(c=2|1&c,""!==N&&!iy(n,N,o)||""===N&&1===r.length){if(il(c))return!1;w=!0}}else{const ne=8&c?N:r[++k];if(8&c&&null!==n.attrs){if(!Ld(n.attrs,ne,o)){if(il(c))return!1;w=!0}continue}const Xe=ry(8&c?"class":N,u,oc(n),o);if(-1===Xe){if(il(c))return!1;w=!0;continue}if(""!==ne){let wt;wt=Xe>p?"":u[Xe+1].toLowerCase();const $t=8&c?wt:null;if($t&&-1!==Cp($t,ne,0)||2&c&&ne!==wt){if(il(c))return!1;w=!0}}}}else{if(!w&&!il(c)&&!il(N))return!1;if(w&&il(N))continue;w=!1,c=N|1&c}}return il(c)||w}function il(n){return 0==(1&n)}function ry(n,r,o,c){if(null===r)return-1;let u=0;if(c||!o){let p=!1;for(;u<r.length;){const w=r[u];if(w===n)return u;if(3===w||6===w)p=!0;else{if(1===w||2===w){let k=r[++u];for(;"string"==typeof k;)k=r[++u];continue}if(4===w)break;if(0===w){u+=4;continue}}u+=p?1:2}return-1}return function ac(n,r){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const c=n[o];if("number"==typeof c)return-1;if(c===r)return o;o++}return-1}(r,n)}function Ig(n,r,o=!1){for(let c=0;c<r.length;c++)if(Mg(n,r[c],o))return!0;return!1}function Tg(n,r){e:for(let o=0;o<r.length;o++){const c=r[o];if(n.length===c.length){for(let u=0;u<n.length;u++)if(n[u]!==c[u])continue e;return!0}}return!1}function Sg(n,r){return n?":not("+r.trim()+")":r}function xg(n){let r=n[0],o=1,c=2,u="",p=!1;for(;o<n.length;){let w=n[o];if("string"==typeof w)if(2&c){const k=n[++o];u+="["+w+(k.length>0?'="'+k+'"':"")+"]"}else 8&c?u+="."+w:4&c&&(u+=" "+w);else""!==u&&!il(w)&&(r+=Sg(p,u),u=""),c=w,p=p||!il(c);o++}return""!==u&&(r+=Sg(p,u)),r}const zi={};function Dp(n){Lh(Ui(),pn(),tr()+n,!1)}function Lh(n,r,o,c){if(!c)if(3==(3&r[2])){const p=n.preOrderCheckHooks;null!==p&&vr(r,p,o)}else{const p=n.preOrderHooks;null!==p&&jn(r,p,0,o)}Wr(o)}function Bd(n,r){return n<<17|r<<2}function Da(n){return n>>17&32767}function Ru(n){return 2|n}function Fl(n){return(131068&n)>>2}function Bh(n,r){return-131069&n|r<<2}function Fu(n){return 1|n}function Lg(n,r){const o=n.contentQueries;if(null!==o)for(let c=0;c<o.length;c+=2){const u=o[c],p=o[c+1];if(-1!==p){const w=n.data[p];Nn(u),w.contentQueries(2,r[p],p)}}}function Jc(n,r,o,c,u,p,w,k,N,ne){const we=r.blueprint.slice();return we[0]=u,we[2]=140|c,Z(we),we[3]=we[15]=n,we[8]=o,we[10]=w||n&&n[10],we[11]=k||n&&n[11],we[12]=N||n&&n[12]||null,we[9]=ne||n&&n[9]||null,we[6]=p,we[16]=2==r.type?n[16]:we,we}function vl(n,r,o,c,u){let p=n.data[r];if(null===p)p=function Uu(n,r,o,c,u){const p=oa(),w=Xo(),N=n.data[r]=function Wh(n,r,o,c,u,p){return{type:o,index:c,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:u,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?p:p&&p.parent,o,r,c,u);return null===n.firstChild&&(n.firstChild=N),null!==p&&(w?null==p.child&&null!==N.parent&&(p.child=N):null===p.next&&(p.next=N)),N}(n,r,o,c,u),function H(){return F.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=o,p.value=c,p.attrs=u;const w=function Qs(){const n=F.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();p.injectorIndex=null===w?-1:w.injectorIndex}return Ns(p,!0),p}function dc(n,r,o,c){if(0===o)return-1;const u=r.length;for(let p=0;p<o;p++)r.push(c),n.blueprint.push(c),n.data.push(null);return u}function eu(n,r,o){Ii(r);try{const c=n.viewQuery;null!==c&&rl(1,c,o);const u=n.template;null!==u&&kp(n,r,u,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Lg(n,r),n.staticViewQueries&&rl(2,n.viewQuery,o);const p=n.components;null!==p&&function Ap(n,r){for(let o=0;o<r.length;o++)Yd(n,r[o])}(r,p)}catch(c){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),c}finally{r[2]&=-5,ur()}}function tu(n,r,o,c){const u=r[2];if(256!=(256&u)){Ii(r);try{Z(r),function le(n){return F.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&kp(n,r,o,2,c);const w=3==(3&u);if(w){const ne=n.preOrderCheckHooks;null!==ne&&vr(r,ne,null)}else{const ne=n.preOrderHooks;null!==ne&&jn(r,ne,0,null),Un(r,0)}if(function zp(n){for(let r=ql(n);null!==r;r=md(r)){if(!r[2])continue;const o=r[9];for(let c=0;c<o.length;c++){const u=o[c],p=u[3];0==(1024&u[2])&&j(p,1),u[2]|=1024}}}(r),function My(n){for(let r=ql(n);null!==r;r=md(r))for(let o=10;o<r.length;o++){const c=r[o],u=c[1];or(c)&&tu(u,c,u.template,c[8])}}(r),null!==n.contentQueries&&Lg(n,r),w){const ne=n.contentCheckHooks;null!==ne&&vr(r,ne)}else{const ne=n.contentHooks;null!==ne&&jn(r,ne,1),Un(r,1)}!function zh(n,r){const o=n.hostBindingOpCodes;if(null!==o)try{for(let c=0;c<o.length;c++){const u=o[c];if(u<0)Wr(~u);else{const p=u,w=o[++c],k=o[++c];Ue(w,p),k(2,r[p])}}}finally{Wr(-1)}}(n,r);const k=n.components;null!==k&&function Vg(n,r){for(let o=0;o<r.length;o++)Iy(n,r[o])}(r,k);const N=n.viewQuery;if(null!==N&&rl(2,N,c),w){const ne=n.viewCheckHooks;null!==ne&&vr(r,ne)}else{const ne=n.viewHooks;null!==ne&&jn(r,ne,2),Un(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[2]&=-73,1024&r[2]&&(r[2]&=-1025,j(r[3],-1))}finally{ur()}}}function vy(n,r,o,c){const u=r[10],w=Ei(r);try{!w&&u.begin&&u.begin(),w&&eu(n,r,c),tu(n,r,o,c)}finally{!w&&u.end&&u.end()}}function kp(n,r,o,c,u){const p=tr(),w=2&c;try{Wr(-1),w&&r.length>20&&Lh(n,r,20,!1),o(c,u)}finally{Wr(p)}}function Op(n,r,o){if($i(r)){const u=r.directiveEnd;for(let p=r.directiveStart;p<u;p++){const w=n.data[p];w.contentQueries&&w.contentQueries(1,o[p],p)}}}function jd(n,r,o){!hs()||(function Bp(n,r,o,c){const u=o.directiveStart,p=o.directiveEnd;n.firstCreatePass||vi(o,r),As(c,r);const w=o.initialInputs;for(let k=u;k<p;k++){const N=n.data[k],ne=Lr(N);ne&&Zh(r,o,N);const we=Xi(r,n,k,o);As(we,r),null!==w&&Yg(0,k-u,we,N,0,w),ne&&(Jn(o.index,r)[8]=we)}}(n,r,o,un(o,r)),128==(128&o.flags)&&function Up(n,r,o){const c=o.directiveStart,u=o.directiveEnd,w=o.index,k=function ft(){return F.lFrame.currentDirectiveIndex}();try{Wr(w);for(let N=c;N<u;N++){const ne=n.data[N],we=r[N];gt(N),(null!==ne.hostBindings||0!==ne.hostVars||null!==ne.hostAttrs)&&Hp(ne,we)}}finally{Wr(-1),gt(k)}}(n,r,o))}function Rp(n,r,o=un){const c=r.localNames;if(null!==c){let u=r.index+1;for(let p=0;p<c.length;p+=2){const w=c[p+1],k=-1===w?o(r,n):n[w];n[u++]=k}}}function Pp(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=$h(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function $h(n,r,o,c,u,p,w,k,N,ne){const we=20+c,Xe=we+u,wt=function Bg(n,r){const o=[];for(let c=0;c<r;c++)o.push(c<n?null:zi);return o}(we,Xe),$t="function"==typeof ne?ne():ne;return wt[1]={type:n,blueprint:wt,template:o,queries:null,viewQuery:k,declTNode:r,data:wt.slice().fill(null,we),bindingStartIndex:we,expandoStartIndex:Xe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:N,consts:$t,incompleteFirstPass:!1}}function Yh(n,r,o,c){const u=Qh(r);null===o?u.push(c):(u.push(o),n.firstCreatePass&&qg(n).push(c,u.length-1))}function Fp(n,r,o){for(let c in n)if(n.hasOwnProperty(c)){const u=n[c];(o=null===o?{}:o).hasOwnProperty(c)?o[c].push(r,u):o[c]=[r,u]}return o}function La(n,r,o,c,u,p,w,k){const N=un(r,o);let we,ne=r.inputs;!k&&null!=ne&&(we=ne[c])?(Jh(n,o,we,c,u),Fi(r)&&function Np(n,r){const o=Jn(r,n);16&o[2]||(o[2]|=64)}(o,r.index)):3&r.type&&(c=function jg(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(c),u=null!=w?w(u,r.value||"",c):u,xi(p)?p.setProperty(N,c,u):Zt(c)||(N.setProperty?N.setProperty(c,u):N[c]=u))}function iu(n,r,o,c){let u=!1;if(hs()){const p=function Cy(n,r,o){const c=n.directiveRegistry;let u=null;if(c)for(let p=0;p<c.length;p++){const w=c[p];Ig(o,w.selectors,!1)&&(u||(u=[]),L(vi(o,r),n,w.type),Lr(w)?(jp(n,o),u.unshift(w)):u.push(w))}return u}(n,r,o),w=null===c?null:{"":-1};if(null!==p){u=!0,$g(o,n.data.length,p.length);for(let we=0;we<p.length;we++){const Xe=p[we];Xe.providersResolver&&Xe.providersResolver(Xe)}let k=!1,N=!1,ne=dc(n,r,p.length,null);for(let we=0;we<p.length;we++){const Xe=p[we];o.mergedAttrs=yn(o.mergedAttrs,Xe.hostAttrs),Gp(n,o,r,ne,Xe),Dy(ne,Xe,w),null!==Xe.contentQueries&&(o.flags|=8),(null!==Xe.hostBindings||null!==Xe.hostAttrs||0!==Xe.hostVars)&&(o.flags|=128);const wt=Xe.type.prototype;!k&&(wt.ngOnChanges||wt.ngOnInit||wt.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(o.index),k=!0),!N&&(wt.ngOnChanges||wt.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(o.index),N=!0),ne++}!function Hg(n,r){const c=r.directiveEnd,u=n.data,p=r.attrs,w=[];let k=null,N=null;for(let ne=r.directiveStart;ne<c;ne++){const we=u[ne],Xe=we.inputs,wt=null===p||oc(r)?null:Ey(Xe,p);w.push(wt),k=Fp(Xe,ne,k),N=Fp(we.outputs,ne,N)}null!==k&&(k.hasOwnProperty("class")&&(r.flags|=16),k.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=w,r.inputs=k,r.outputs=N}(n,o)}w&&function wy(n,r,o){if(r){const c=n.localNames=[];for(let u=0;u<r.length;u+=2){const p=o[r[u+1]];if(null==p)throw new ot(-301,!1);c.push(r[u],p)}}}(o,c,w)}return o.mergedAttrs=yn(o.mergedAttrs,o.attrs),u}function zd(n,r,o,c,u,p){const w=p.hostBindings;if(w){let k=n.hostBindingOpCodes;null===k&&(k=n.hostBindingOpCodes=[]);const N=~r.index;(function Vp(n){let r=n.length;for(;r>0;){const o=n[--r];if("number"==typeof o&&o<0)return o}return 0})(k)!=N&&k.push(N),k.push(c,u,w)}}function Hp(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function jp(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function Dy(n,r,o){if(o){if(r.exportAs)for(let c=0;c<r.exportAs.length;c++)o[r.exportAs[c]]=n;Lr(r)&&(o[""]=n)}}function $g(n,r,o){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+o,n.providerIndexes=r}function Gp(n,r,o,c,u){n.data[c]=u;const p=u.factory||(u.factory=Or(u.type)),w=new br(p,Lr(u),null);n.blueprint[c]=w,o[c]=w,zd(n,r,0,c,dc(n,o,u.hostVars,zi),u)}function Zh(n,r,o){const c=un(r,n),u=Pp(o),p=n[10],w=Nl(n,Jc(n,u,null,o.onPush?64:16,c,r,p,p.createRenderer(c,o),null,null));n[r.index]=w}function Ea(n,r,o,c,u,p){const w=un(n,r);!function $d(n,r,o,c,u,p,w){if(null==p)xi(n)?n.removeAttribute(r,u,o):r.removeAttribute(u);else{const k=null==w?Re(p):w(p,c||"",u);xi(n)?n.setAttribute(r,u,k,o):o?r.setAttributeNS(o,u,k):r.setAttribute(u,k)}}(r[11],w,p,n.value,o,c,u)}function Yg(n,r,o,c,u,p){const w=p[r];if(null!==w){const k=c.setInput;for(let N=0;N<w.length;){const ne=w[N++],we=w[N++],Xe=w[N++];null!==k?c.setInput(o,Xe,ne,we):o[we]=Xe}}}function Ey(n,r){let o=null,c=0;for(;c<r.length;){const u=r[c];if(0!==u)if(5!==u){if("number"==typeof u)break;n.hasOwnProperty(u)&&(null===o&&(o=[]),o.push(u,n[u],r[c+1])),c+=2}else c+=2;else c+=4}return o}function Wg(n,r,o,c){return new Array(n,!0,!1,r,null,0,c,o,null,null)}function Iy(n,r){const o=Jn(r,n);if(or(o)){const c=o[1];80&o[2]?tu(c,o,c.template,o[8]):o[5]>0&&$p(o)}}function $p(n){for(let c=ql(n);null!==c;c=md(c))for(let u=10;u<c.length;u++){const p=c[u];if(1024&p[2]){const w=p[1];tu(w,p,w.template,p[8])}else p[5]>0&&$p(p)}const o=n[1].components;if(null!==o)for(let c=0;c<o.length;c++){const u=Jn(o[c],n);or(u)&&u[5]>0&&$p(u)}}function Yd(n,r){const o=Jn(r,n),c=o[1];(function Yp(n,r){for(let o=r.length;o<n.blueprint.length;o++)r.push(n.blueprint[o])})(c,o),eu(c,o,o[8])}function Nl(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function Wd(n){for(;n;){n[2]|=64;const r=Zl(n);if(kr(n)&&!r)return n;n=r}return null}function Wp(n){!function ru(n){for(let r=0;r<n.components.length;r++){const o=n.components[r],c=Rc(o),u=c[1];vy(u,c,u.template,o)}}(n[8])}function rl(n,r,o){Nn(0),r(n,o)}const Sy=(()=>Promise.resolve(null))();function Qh(n){return n[7]||(n[7]=[])}function qg(n){return n.cleanup||(n.cleanup=[])}function Xh(n,r,o){return(null===n||Lr(n))&&(o=function Ae(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(o[r.index])),o[11]}function Qg(n,r){const o=n[9],c=o?o.get(Ou,null):null;c&&c.handleError(r)}function Jh(n,r,o,c,u){for(let p=0;p<o.length;){const w=o[p++],k=o[p++],N=r[w],ne=n.data[w];null!==ne.setInput?ne.setInput(N,u,c,k):N[k]=u}}function Ya(n,r,o){const c=Xt(r,n);!function _d(n,r,o){xi(n)?n.setValue(r,o):r.textContent=o}(n[11],c,o)}function Hu(n,r,o){let c=o?n.styles:null,u=o?n.classes:null,p=0;if(null!==r)for(let w=0;w<r.length;w++){const k=r[w];"number"==typeof k?p=k:1==p?u=z(u,k):2==p&&(c=z(c,k+": "+r[++w]+";"))}o?n.styles=c:n.stylesWithoutHost=c,o?n.classes=u:n.classesWithoutHost=u}const Kp=new Tr("INJECTOR",-1);class e_{get(r,o=g){if(o===g){const c=new Error(`NullInjectorError: No provider for ${be(r)}!`);throw c.name="NullInjectorError",c}return o}}const ef=new Tr("Set Injector scope."),Gu={},xy={};let Zd;function t_(){return void 0===Zd&&(Zd=new e_),Zd}function tf(n,r=null,o=null,c){const u=n_(n,r,o,c);return u._resolveInjectorDefTypes(),u}function n_(n,r=null,o=null,c){return new Zp(n,o,r||t_(),c)}class Zp{constructor(r,o,c,u=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];o&&Js(o,k=>this.processProvider(k,r,o)),Js([r],k=>this.processInjectorType(k,[],p)),this.records.set(Kp,hc(void 0,this));const w=this.records.get(ef);this.scope=null!=w?w.value:null,this.source=u||("object"==typeof r?null:be(r))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(r=>r.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(r,o=g,c=fe.Default){this.assertNotDestroyed();const u=Ys(this),p=Ht(void 0);try{if(!(c&fe.SkipSelf)){let k=this.records.get(r);if(void 0===k){const N=function Wu(n){return"function"==typeof n||"object"==typeof n&&n instanceof Tr}(r)&&tt(r);k=N&&this.injectableDefInScope(N)?hc(qp(r),Gu):null,this.records.set(r,k)}if(null!=k)return this.hydrate(r,k)}return(c&fe.Self?t_():this.parent).get(r,o=c&fe.Optional&&o===g?null:o)}catch(w){if("NullInjectorError"===w.name){if((w[ve]=w[ve]||[]).unshift(be(r)),u)throw w;return function Kn(n,r,o,c){const u=n[ve];throw r[sr]&&u.unshift(r[sr]),n.message=function ti(n,r,o,c=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let u=be(r);if(Array.isArray(r))u=r.map(be).join(" -> ");else if("object"==typeof r){let p=[];for(let w in r)if(r.hasOwnProperty(w)){let k=r[w];p.push(w+":"+("string"==typeof k?JSON.stringify(k):be(k)))}u=`{${p.join(", ")}}`}return`${o}${c?"("+c+")":""}[${u}]: ${n.replace(In,"\n  ")}`}("\n"+n.message,u,o,c),n.ngTokenPath=u,n[ve]=null,n}(w,r,"R3InjectorError",this.source)}throw w}finally{Ht(p),Ys(u)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(r=>this.get(r))}toString(){const r=[];return this.records.forEach((c,u)=>r.push(be(u))),`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ot(205,!1)}processInjectorType(r,o,c){if(!(r=xe(r)))return!1;let u=fn(r);const p=null==u&&r.ngModule||void 0,w=void 0===p?r:p,k=-1!==c.indexOf(w);if(void 0!==p&&(u=fn(p)),null==u)return!1;if(null!=u.imports&&!k){let we;c.push(w);try{Js(u.imports,Xe=>{this.processInjectorType(Xe,o,c)&&(void 0===we&&(we=[]),we.push(Xe))})}finally{}if(void 0!==we)for(let Xe=0;Xe<we.length;Xe++){const{ngModule:wt,providers:$t}=we[Xe];Js($t,hn=>this.processProvider(hn,wt,$t||mn))}}this.injectorDefTypes.add(w);const N=Or(w)||(()=>new w);this.records.set(w,hc(N,Gu));const ne=u.providers;if(null!=ne&&!k){const we=r;Js(ne,Xe=>this.processProvider(Xe,we,ne))}return void 0!==p&&void 0!==r.providers}processProvider(r,o,c){let u=pc(r=xe(r))?r:xe(r&&r.provide);const p=function i_(n,r,o){return rf(n)?hc(void 0,n.useValue):hc(nf(n),Gu)}(r);if(pc(r)||!0!==r.multi)this.records.get(u);else{let w=this.records.get(u);w||(w=hc(void 0,Gu,!0),w.factory=()=>Nt(w.multi),this.records.set(u,w)),u=r,w.multi.push(r)}this.records.set(u,p)}hydrate(r,o){return o.value===Gu&&(o.value=xy,o.value=o.factory()),"object"==typeof o.value&&o.value&&function r_(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this.onDestroy.add(o.value),o.value}injectableDefInScope(r){if(!r.providedIn)return!1;const o=xe(r.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function qp(n){const r=tt(n),o=null!==r?r.factory:Or(n);if(null!==o)return o;if(n instanceof Tr)throw new ot(204,!1);if(n instanceof Function)return function Qp(n){const r=n.length;if(r>0)throw ka(r,"?"),new ot(204,!1);const o=function Mt(n){const r=n&&(n[vn]||n[ni]);if(r){const o=function rn(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),r}return null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new ot(204,!1)}function nf(n,r,o){let c;if(pc(n)){const u=xe(n);return Or(u)||qp(u)}if(rf(n))c=()=>xe(n.useValue);else if(function fc(n){return!(!n||!n.useFactory)}(n))c=()=>n.useFactory(...Nt(n.deps||[]));else if(function zu(n){return!(!n||!n.useExisting)}(n))c=()=>G(xe(n.useExisting));else{const u=xe(n&&(n.useClass||n.provide));if(!function Yu(n){return!!n.deps}(n))return Or(u)||qp(u);c=()=>new u(...Nt(n.deps))}return c}function hc(n,r,o=!1){return{factory:n,value:r,multi:o?[]:void 0}}function rf(n){return null!==n&&"object"==typeof n&&Nr in n}function pc(n){return"function"==typeof n}let yl=(()=>{class n{static create(o,c){var u;if(Array.isArray(o))return tf({name:""},c,o,"");{const p=null!==(u=o.name)&&void 0!==u?u:"";return tf({name:p},o.parent,o.providers,p)}}}return n.THROW_IF_NOT_FOUND=g,n.NULL=new e_,n.\u0275prov=Ze({token:n,providedIn:"any",factory:()=>G(Kp)}),n.__NG_ELEMENT_ID__=-1,n})();function p_(n,r){xo(Rc(n)[1],Er())}function im(n){let r=function nm(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const c=[n];for(;r;){let u;if(Lr(n))u=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new ot(903,"");u=r.\u0275dir}if(u){if(o){c.push(u);const w=n;w.inputs=sm(n.inputs),w.declaredInputs=sm(n.declaredInputs),w.outputs=sm(n.outputs);const k=u.hostBindings;k&&am(n,k);const N=u.viewQuery,ne=u.contentQueries;if(N&&om(n,N),ne&&Ny(n,ne),ye(n.inputs,u.inputs),ye(n.declaredInputs,u.declaredInputs),ye(n.outputs,u.outputs),Lr(u)&&u.data.animation){const we=n.data;we.animation=(we.animation||[]).concat(u.data.animation)}}const p=u.features;if(p)for(let w=0;w<p.length;w++){const k=p[w];k&&k.ngInherit&&k(n),k===im&&(o=!1)}}r=Object.getPrototypeOf(r)}!function rm(n){let r=0,o=null;for(let c=n.length-1;c>=0;c--){const u=n[c];u.hostVars=r+=u.hostVars,u.hostAttrs=yn(u.hostAttrs,o=yn(o,u.hostAttrs))}}(c)}function sm(n){return n===ri?{}:n===mn?[]:n}function om(n,r){const o=n.viewQuery;n.viewQuery=o?(c,u)=>{r(c,u),o(c,u)}:r}function Ny(n,r){const o=n.contentQueries;n.contentQueries=o?(c,u,p)=>{r(c,u,p),o(c,u,p)}:r}function am(n,r){const o=n.hostBindings;n.hostBindings=o?(c,u)=>{r(c,u),o(c,u)}:r}let Ku=null;function sl(){if(!Ku){const n=Fn.Symbol;if(n&&n.iterator)Ku=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<r.length;++o){const c=r[o];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(Ku=c)}}}return Ku}function su(n){return!!ol(n)&&(Array.isArray(n)||!(n instanceof Map)&&sl()in n)}function ol(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Wa(n,r,o){return n[r]=o}function Do(n,r,o){return!Object.is(n[r],o)&&(n[r]=o,!0)}function ou(n,r,o,c){const u=Do(n,r,o);return Do(n,r+1,c)||u}function Ma(n,r,o,c,u,p){const w=ou(n,r,o,c);return ou(n,r+2,u,p)||w}function dm(n,r,o,c){const u=pn();return Do(u,C(),r)&&(Ui(),Ea(Li(),u,n,r,o,c)),dm}function gc(n,r,o,c,u,p){const k=ou(n,function xs(){return F.lFrame.bindingIndex}(),o,u);return M(2),k?r+Re(o)+c+Re(u)+p:zi}function _f(n,r,o,c,u,p,w,k){const N=pn(),ne=Ui(),we=n+20,Xe=ne.firstCreatePass?function By(n,r,o,c,u,p,w,k,N){const ne=r.consts,we=vl(r,n,4,w||null,qi(ne,k));iu(r,o,we,qi(ne,N)),xo(r,we);const Xe=we.tViews=$h(2,we,c,u,p,r.directiveRegistry,r.pipeRegistry,null,r.schemas,ne);return null!==r.queries&&(r.queries.template(r,we),Xe.queries=r.queries.embeddedTView(we)),we}(we,ne,N,r,o,c,u,p,w):ne.data[we];Ns(Xe,!1);const wt=N[11].createComment("");ec(ne,N,wt,Xe),As(wt,N),Nl(N,N[we]=Wg(wt,N,wt,Xe)),pr(Xe)&&jd(ne,N,Xe),null!=w&&Rp(N,Xe,k)}function mm(n){return Oi(function aa(){return F.lFrame.contextLView}(),20+n)}function th(n,r=fe.Default){const o=pn();return null===o?G(n,r):ht(Er(),o,xe(n),r)}function x_(){throw new Error("invalid")}function Ef(n,r,o){const c=pn();return Do(c,C(),r)&&La(Ui(),Li(),c,n,r,c[11],o,!1),Ef}function Im(n,r,o,c,u){const w=u?"class":"style";Jh(n,o,r.inputs[w],w,c)}function Mf(n,r,o,c){const u=pn(),p=Ui(),w=20+n,k=u[11],N=u[w]=Ql(k,r,function la(){return F.lFrame.currentNamespace}()),ne=p.firstCreatePass?function A_(n,r,o,c,u,p,w){const k=r.consts,ne=vl(r,n,2,u,qi(k,p));return iu(r,o,ne,qi(k,w)),null!==ne.attrs&&Hu(ne,ne.attrs,!1),null!==ne.mergedAttrs&&Hu(ne,ne.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,ne),ne}(w,p,u,0,r,o,c):p.data[w];Ns(ne,!0);const we=ne.mergedAttrs;null!==we&&is(k,N,we);const Xe=ne.classes;null!==Xe&&Hi(k,N,Xe);const wt=ne.styles;return null!==wt&&Oh(k,N,wt),64!=(64&ne.flags)&&ec(p,u,N,ne),0===function Ln(){return F.lFrame.elementDepthCount}()&&As(N,u),function ir(){F.lFrame.elementDepthCount++}(),pr(ne)&&(jd(p,u,ne),Op(p,ne,u)),null!==c&&Rp(u,ne),Mf}function If(){let n=Er();Xo()?Sa():(n=n.parent,Ns(n,!1));const r=n;!function Fr(){F.lFrame.elementDepthCount--}();const o=Ui();return o.firstCreatePass&&(xo(o,n),$i(n)&&o.queries.elementEnd(n)),null!=r.classesWithoutHost&&function Ao(n){return 0!=(16&n.flags)}(r)&&Im(o,r,pn(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Zr(n){return 0!=(32&n.flags)}(r)&&Im(o,r,pn(),r.stylesWithoutHost,!1),If}function Tm(n,r,o,c){return Mf(n,r,o,c),If(),Tm}function Tf(n,r,o){const c=pn(),u=Ui(),p=n+20,w=u.firstCreatePass?function Sm(n,r,o,c,u){const p=r.consts,w=qi(p,c),k=vl(r,n,8,"ng-container",w);return null!==w&&Hu(k,w,!0),iu(r,o,k,qi(p,u)),null!==r.queries&&r.queries.elementStart(r,k),k}(p,u,c,r,o):u.data[p];Ns(w,!0);const k=c[p]=c[11].createComment("");return ec(u,c,k,w),As(k,c),pr(w)&&(jd(u,c,w),Op(u,w,c)),null!=o&&Rp(c,w),Tf}function Sf(){let n=Er();const r=Ui();return Xo()?Sa():(n=n.parent,Ns(n,!1)),r.firstCreatePass&&(xo(r,n),$i(n)&&r.queries.elementEnd(n)),Sf}function cs(n,r,o){return Tf(n,r,o),Sf(),cs}function Yy(){return pn()}function k_(n){return!!n&&"function"==typeof n.then}function Us(n){return!!n&&"function"==typeof n.subscribe}const xm=Us;function Am(n,r,o,c){const u=pn(),p=Ui(),w=Er();return R_(p,u,u[11],w,n,r,!!o,c),Am}function km(n,r){const o=Er(),c=pn(),u=Ui();return R_(u,c,Xh(Bt(u.data),o,c),o,n,r,!1),km}function R_(n,r,o,c,u,p,w,k){const N=pr(c),we=n.firstCreatePass&&qg(n),Xe=r[8],wt=Qh(r);let $t=!0;if(3&c.type||k){const $n=un(c,r),oi=k?k($n):$n,Cn=wt.length,Ai=k?fr=>k($(fr[c.index])):c.index;if(xi(o)){let fr=null;if(!k&&N&&(fr=function O_(n,r,o,c){const u=n.cleanup;if(null!=u)for(let p=0;p<u.length-1;p+=2){const w=u[p];if(w===o&&u[p+1]===c){const k=r[7],N=u[p+2];return k.length>N?k[N]:null}"string"==typeof w&&(p+=2)}return null}(n,r,u,c.index)),null!==fr)(fr.__ngLastListenerFn__||fr).__ngNextListenerFn__=p,fr.__ngLastListenerFn__=p,$t=!1;else{p=Om(c,r,Xe,p,!1);const es=o.listen(oi,u,p);wt.push(p,es),we&&we.push(u,Ai,Cn,Cn+1)}}else p=Om(c,r,Xe,p,!0),oi.addEventListener(u,p,w),wt.push(p),we&&we.push(u,Ai,Cn,w)}else p=Om(c,r,Xe,p,!1);const hn=c.outputs;let Pn;if($t&&null!==hn&&(Pn=hn[u])){const $n=Pn.length;if($n)for(let oi=0;oi<$n;oi+=2){const cl=r[Pn[oi]][Pn[oi+1]].subscribe(p),Mh=wt.length;wt.push(p,cl),we&&we.push(u,c.index,Mh,-(Mh+1))}}}function P_(n,r,o,c){try{return!1!==o(c)}catch(u){return Qg(n,u),!1}}function Om(n,r,o,c,u){return function p(w){if(w===Function)return c;const k=2&n.flags?Jn(n.index,r):r;0==(32&r[2])&&Wd(k);let N=P_(r,0,c,w),ne=p.__ngNextListenerFn__;for(;ne;)N=P_(r,0,ne,w)&&N,ne=ne.__ngNextListenerFn__;return u&&!1===N&&(w.preventDefault(),w.returnValue=!1),N}}function F_(n=1){return function ms(n){return(F.lFrame.contextLView=function Mr(n,r){for(;n>0;)r=r[15],n--;return r}(n,F.lFrame.contextLView))[8]}(n)}function aC(n,r){let o=null;const c=function Vd(n){const r=n.attrs;if(null!=r){const o=r.indexOf(5);if(0==(1&o))return r[o+1]}return null}(n);for(let u=0;u<r.length;u++){const p=r[u];if("*"!==p){if(null===c?Ig(n,p,!0):Tg(c,p))return u}else o=u}return o}function N_(n){const r=pn()[16][6];if(!r.projection){const c=r.projection=ka(n?n.length:1,null),u=c.slice();let p=r.child;for(;null!==p;){const w=n?aC(p,n):0;null!==w&&(u[w]?u[w].projectionNext=p:c[w]=p,u[w]=p),p=p.next}}}function L_(n,r=0,o){const c=pn(),u=Ui(),p=vl(u,20+n,16,null,o||null);null===p.projection&&(p.projection=r),Sa(),64!=(64&p.flags)&&function Fa(n,r,o){Cd(r[11],0,r,o,Ah(n,o,r),Du(o.parent||r[6],o,r))}(u,c,p)}function ih(n,r,o,c,u){const p=n[o+1],w=null===r;let k=c?Da(p):Fl(p),N=!1;for(;0!==k&&(!1===N||w);){const we=n[k+1];rh(n[k],r)&&(N=!0,n[k+1]=c?Fu(we):Ru(we)),k=c?Da(we):Fl(we)}N&&(n[o+1]=c?Ru(p):Fu(p))}function rh(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&to(n,r)>=0}const ro={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function xf(n){return n.substring(ro.key,ro.keyEnd)}function U_(n,r){const o=ro.textEnd;return o===r?-1:(r=ro.keyEnd=function H_(n,r,o){for(;r<o&&n.charCodeAt(r)>32;)r++;return r}(n,ro.key=r,o),qa(n,r,o))}function qa(n,r,o){for(;r<o&&n.charCodeAt(r)<=32;)r++;return r}function Xu(n,r,o){return Ba(n,r,o,!1),Xu}function Of(n,r){return Ba(n,r,null,!0),Of}function sh(n){!function sa(n,r,o,c){const u=Ui(),p=M(2);u.firstUpdatePass&&Ju(u,null,p,c);const w=pn();if(o!==zi&&Do(w,p,o)){const k=u.data[tr()];if(Y_(k,c)&&!Ll(u,p)){let N=c?k.classesWithoutHost:k.stylesWithoutHost;null!==N&&(o=z(N,o||"")),Im(u,k,w,o,c)}else!function Jy(n,r,o,c,u,p,w,k){u===zi&&(u=mn);let N=0,ne=0,we=0<u.length?u[0]:null,Xe=0<p.length?p[0]:null;for(;null!==we||null!==Xe;){const wt=N<u.length?u[N+1]:void 0,$t=ne<p.length?p[ne+1]:void 0;let Pn,hn=null;we===Xe?(N+=2,ne+=2,wt!==$t&&(hn=Xe,Pn=$t)):null===Xe||null!==we&&we<Xe?(N+=2,hn=we):(ne+=2,hn=Xe,Pn=$t),null!==hn&&lh(n,r,o,c,hn,Pn,w,k),we=N<u.length?u[N]:null,Xe=ne<p.length?p[ne]:null}}(u,k,w,w[11],w[p+1],w[p+1]=function Rf(n,r,o){if(null==o||""===o)return mn;const c=[],u=xr(o);if(Array.isArray(u))for(let p=0;p<u.length;p++)n(c,u[p],!0);else if("object"==typeof u)for(const p in u)u.hasOwnProperty(p)&&n(c,p,u[p]);else"string"==typeof u&&r(c,u);return c}(n,r,o),c,p)}}(Ur,al,n,!0)}function al(n,r){for(let o=function qy(n){return function Vm(n){ro.key=0,ro.keyEnd=0,ro.value=0,ro.valueEnd=0,ro.textEnd=n.length}(n),U_(n,qa(n,0,ro.textEnd))}(r);o>=0;o=U_(r,o))Ur(n,xf(r),!0)}function Ba(n,r,o,c){const u=pn(),p=Ui(),w=M(2);p.firstUpdatePass&&Ju(p,n,w,c),r!==zi&&Do(u,w,r)&&lh(p,p.data[tr()],u,u[11],n,u[w+1]=function Ff(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=be(xr(n)))),n}(r,o),c,w)}function Ll(n,r){return r>=n.expandoStartIndex}function Ju(n,r,o,c){const u=n.data;if(null===u[o+1]){const p=u[tr()],w=Ll(n,o);Y_(p,c)&&null===r&&!w&&(r=!1),r=function Xy(n,r,o,c){const u=Bt(n);let p=c?r.residualClasses:r.residualStyles;if(null===u)0===(c?r.classBindings:r.styleBindings)&&(o=ah(o=oh(null,n,r,o,c),r.attrs,c),p=null);else{const w=r.directiveStylingLast;if(-1===w||n[w]!==u)if(o=oh(u,n,r,o,c),null===p){let N=function ed(n,r,o){const c=o?r.classBindings:r.styleBindings;if(0!==Fl(c))return n[Da(c)]}(n,r,c);void 0!==N&&Array.isArray(N)&&(N=oh(null,n,r,N[1],c),N=ah(N,r.attrs,c),function lC(n,r,o,c){n[Da(o?r.classBindings:r.styleBindings)]=c}(n,r,c,N))}else p=function cC(n,r,o){let c;const u=r.directiveEnd;for(let p=1+r.directiveStylingLast;p<u;p++)c=ah(c,n[p].hostAttrs,o);return ah(c,r.attrs,o)}(n,r,c)}return void 0!==p&&(c?r.residualClasses=p:r.residualStyles=p),o}(u,p,r,c),function Ky(n,r,o,c,u,p){let w=p?r.classBindings:r.styleBindings,k=Da(w),N=Fl(w);n[c]=o;let we,ne=!1;if(Array.isArray(o)){const Xe=o;we=Xe[1],(null===we||to(Xe,we)>0)&&(ne=!0)}else we=o;if(u)if(0!==N){const wt=Da(n[k+1]);n[c+1]=Bd(wt,k),0!==wt&&(n[wt+1]=Bh(n[wt+1],c)),n[k+1]=function Ep(n,r){return 131071&n|r<<17}(n[k+1],c)}else n[c+1]=Bd(k,0),0!==k&&(n[k+1]=Bh(n[k+1],c)),k=c;else n[c+1]=Bd(N,0),0===k?k=c:n[N+1]=Bh(n[N+1],c),N=c;ne&&(n[c+1]=Ru(n[c+1])),ih(n,we,c,!0),ih(n,we,c,!1),function cu(n,r,o,c,u){const p=u?n.residualClasses:n.residualStyles;null!=p&&"string"==typeof r&&to(p,r)>=0&&(o[c+1]=Fu(o[c+1]))}(r,we,n,c,p),w=Bd(k,N),p?r.classBindings=w:r.styleBindings=w}(u,p,r,o,w,c)}}function oh(n,r,o,c,u){let p=null;const w=o.directiveEnd;let k=o.directiveStylingLast;for(-1===k?k=o.directiveStart:k++;k<w&&(p=r[k],c=ah(c,p.hostAttrs,u),p!==n);)k++;return null!==n&&(o.directiveStylingLast=k),c}function ah(n,r,o){const c=o?1:2;let u=-1;if(null!==r)for(let p=0;p<r.length;p++){const w=r[p];"number"==typeof w?u=w:u===c&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Ur(n,w,!!o||r[++p]))}return void 0===n?null:n}function lh(n,r,o,c,u,p,w,k){if(!(3&r.type))return;const N=n.data,ne=N[k+1];Pf(function Pu(n){return 1==(1&n)}(ne)?$_(N,r,o,u,Fl(ne),w):void 0)||(Pf(p)||function Ag(n){return 2==(2&n)}(ne)&&(p=$_(N,null,o,u,k,w)),function hp(n,r,o,c,u){const p=xi(n);if(r)u?p?n.addClass(o,c):o.classList.add(c):p?n.removeClass(o,c):o.classList.remove(c);else{let w=-1===c.indexOf("-")?void 0:ya.DashCase;if(null==u)p?n.removeStyle(o,c,w):o.style.removeProperty(c);else{const k="string"==typeof u&&u.endsWith("!important");k&&(u=u.slice(0,-10),w|=ya.Important),p?n.setStyle(o,c,u,w):o.style.setProperty(c,u,k?"important":"")}}}(c,w,Xt(tr(),o),u,p))}function $_(n,r,o,c,u,p){const w=null===r;let k;for(;u>0;){const N=n[u],ne=Array.isArray(N),we=ne?N[1]:N,Xe=null===we;let wt=o[u+1];wt===zi&&(wt=Xe?mn:void 0);let $t=Xe?ga(wt,c):we===c?wt:void 0;if(ne&&!Pf($t)&&($t=ga(N,c)),Pf($t)&&(k=$t,w))return k;const hn=n[u+1];u=w?Da(hn):Fl(hn)}if(null!==r){let N=p?r.residualClasses:r.residualStyles;null!=N&&(k=ga(N,c))}return k}function Pf(n){return void 0!==n}function Y_(n,r){return 0!=(n.flags&(r?16:32))}function W_(n,r=""){const o=pn(),c=Ui(),u=n+20,p=c.firstCreatePass?vl(c,u,1,r,null):c.data[u],w=o[u]=function No(n,r){return xi(n)?n.createText(r):n.createTextNode(r)}(o[11],r);ec(c,o,w,p),Ns(p,!1)}function Nf(n){return ch("",n,""),Nf}function ch(n,r,o){const c=pn(),u=function Zu(n,r,o,c){return Do(n,C(),o)?r+Re(o)+c:zi}(c,n,r,o);return u!==zi&&Ya(c,tr(),u),ch}function Lf(n,r,o,c,u){const p=pn(),w=gc(p,n,r,o,c,u);return w!==zi&&Ya(p,tr(),w),Lf}function $m(n,r,o){const c=pn();return Do(c,C(),r)&&La(Ui(),Li(),c,n,r,c[11],o,!0),$m}function Ym(n,r,o){const c=pn();if(Do(c,C(),r)){const p=Ui(),w=Li();La(p,w,c,n,r,Xh(Bt(p.data),w,c),o,!0)}return Ym}const Ec=void 0;var f0=["en",[["a","p"],["AM","PM"],Ec],[["AM","PM"],Ec,Ec],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ec,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ec,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ec,"{1} 'at' {0}",Ec],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function nv(n){const o=Math.floor(Math.abs(n)),c=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===c?1:5}];let hh={};function Uf(n){const r=function p0(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=rv(r);if(o)return o;const c=r.split("-")[0];if(o=rv(c),o)return o;if("en"===c)return f0;throw new Error(`Missing locale data for the locale "${n}".`)}function Wm(n){return Uf(n)[Ti.PluralCase]}function rv(n){return n in hh||(hh[n]=Fn.ng&&Fn.ng.common&&Fn.ng.common.locales&&Fn.ng.common.locales[n]),hh[n]}var Ti=(()=>((Ti=Ti||{})[Ti.LocaleId=0]="LocaleId",Ti[Ti.DayPeriodsFormat=1]="DayPeriodsFormat",Ti[Ti.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ti[Ti.DaysFormat=3]="DaysFormat",Ti[Ti.DaysStandalone=4]="DaysStandalone",Ti[Ti.MonthsFormat=5]="MonthsFormat",Ti[Ti.MonthsStandalone=6]="MonthsStandalone",Ti[Ti.Eras=7]="Eras",Ti[Ti.FirstDayOfWeek=8]="FirstDayOfWeek",Ti[Ti.WeekendRange=9]="WeekendRange",Ti[Ti.DateFormat=10]="DateFormat",Ti[Ti.TimeFormat=11]="TimeFormat",Ti[Ti.DateTimeFormat=12]="DateTimeFormat",Ti[Ti.NumberSymbols=13]="NumberSymbols",Ti[Ti.NumberFormats=14]="NumberFormats",Ti[Ti.CurrencyCode=15]="CurrencyCode",Ti[Ti.CurrencySymbol=16]="CurrencySymbol",Ti[Ti.CurrencyName=17]="CurrencyName",Ti[Ti.Currencies=18]="Currencies",Ti[Ti.Directionality=19]="Directionality",Ti[Ti.PluralCase=20]="PluralCase",Ti[Ti.ExtraData=21]="ExtraData",Ti))();const Km="en-US";let _0=Km;function Ta(n,r,o,c,u){if(n=xe(n),Array.isArray(n))for(let p=0;p<n.length;p++)Ta(n[p],r,o,c,u);else{const p=Ui(),w=pn();let k=pc(n)?n:xe(n.provide),N=nf(n);const ne=Er(),we=1048575&ne.providerIndexes,Xe=ne.directiveStart,wt=ne.providerIndexes>>20;if(pc(n)||!n.multi){const $t=new br(N,u,th),hn=qf(k,r,u?we:we+wt,Xe);-1===hn?(L(vi(ne,w),p,k),Vo(p,n,r.length),r.push(k),ne.directiveStart++,ne.directiveEnd++,u&&(ne.providerIndexes+=1048576),o.push($t),w.push($t)):(o[hn]=$t,w[hn]=$t)}else{const $t=qf(k,r,we+wt,Xe),hn=qf(k,r,we,we+wt),Pn=$t>=0&&o[$t],$n=hn>=0&&o[hn];if(u&&!$n||!u&&!Pn){L(vi(ne,w),p,k);const oi=function H0(n,r,o,c,u){const p=new br(n,o,th);return p.multi=[],p.index=r,p.componentProviders=0,sg(p,u,c&&!o),p}(u?gh:mh,o.length,u,c,N);!u&&$n&&(o[hn].providerFactory=oi),Vo(p,n,r.length,0),r.push(k),ne.directiveStart++,ne.directiveEnd++,u&&(ne.providerIndexes+=1048576),o.push(oi),w.push(oi)}else Vo(p,n,$t>-1?$t:hn,sg(o[u?hn:$t],N,!u&&c));!u&&c&&$n&&o[hn].componentProviders++}}}function Vo(n,r,o,c){const u=pc(r),p=function $u(n){return!!n.useClass}(r);if(u||p){const N=(p?xe(r.useClass):r).prototype.ngOnDestroy;if(N){const ne=n.destroyHooks||(n.destroyHooks=[]);if(!u&&r.multi){const we=ne.indexOf(o);-1===we?ne.push(o,[c,N]):ne[we+1].push(c,N)}else ne.push(o,N)}}}function sg(n,r,o){return o&&n.componentProviders++,n.multi.push(r)-1}function qf(n,r,o,c){for(let u=o;u<c;u++)if(r[u]===n)return u;return-1}function mh(n,r,o,c){return Bo(this.multi,[])}function gh(n,r,o,c){const u=this.multi;let p;if(this.providerFactory){const w=this.providerFactory.componentProviders,k=Xi(o,o[1],this.providerFactory.index,c);p=k.slice(0,w),Bo(u,p);for(let N=w;N<k.length;N++)p.push(k[N])}else p=[],Bo(u,p);return p}function Bo(n,r){for(let o=0;o<n.length;o++)r.push((0,n[o])());return r}function Qf(n,r=[]){return o=>{o.providersResolver=(c,u)=>function du(n,r,o){const c=Ui();if(c.firstCreatePass){const u=Lr(n);Ta(o,c.data,c.blueprint,u,!0),Ta(r,c.data,c.blueprint,u,!1)}}(c,u?u(n):n,r)}}class Mc{}class j0{resolveComponentFactory(r){throw function og(n){const r=Error(`No component factory found for ${be(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let Xf=(()=>{class n{}return n.NULL=new j0,n})();function Tc(){return nd(Er(),pn())}function nd(n,r){return new Jf(un(n,r))}let Jf=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=Tc,n})();function G0(n){return n instanceof Jf?n.nativeElement:n}class gv{}let ag=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function _v(){const n=pn(),o=Jn(Er().index,n);return function ep(n){return n[11]}(Rn(o)?o:n)}(),n})(),$0=(()=>{class n{}return n.\u0275prov=Ze({token:n,providedIn:"root",factory:()=>null}),n})();class tp{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const vv=new tp("13.3.12"),np={};function _h(n,r,o,c,u=!1){for(;null!==o;){const p=r[o.index];if(null!==p&&c.push($(p)),Xn(p))for(let k=10;k<p.length;k++){const N=p[k],ne=N[1].firstChild;null!==ne&&_h(N[1],N,ne,c)}const w=o.type;if(8&w)_h(n,r,o.child,c);else if(32&w){const k=vu(o,r);let N;for(;N=k();)c.push(N)}else if(16&w){const k=kh(r,o);if(Array.isArray(k))c.push(...k);else{const N=Zl(r[16]);_h(N[1],N,k,c,!0)}}o=u?o.projectionNext:o.next}return c}class id{constructor(r,o){this._lView=r,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,o=r[1];return _h(o,r,o.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(Xn(r)){const o=r[8],c=o?o.indexOf(this):-1;c>-1&&(ml(r,c),os(o,c))}this._attachedToViewContainer=!1}Fc(this._lView[1],this._lView)}onDestroy(r){Yh(this._lView[1],this._lView,null,r)}markForCheck(){Wd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function Kd(n,r,o){const c=r[10];c.begin&&c.begin();try{tu(n,r,n.template,o)}catch(u){throw Qg(r,u),u}finally{c.end&&c.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ot(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function xh(n,r){tc(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new ot(902,"");this._appRef=r}}class Y0 extends id{constructor(r){super(r),this._view=r}detectChanges(){Wp(this._view)}checkNoChanges(){}get context(){return null}}class yv extends Xf{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const o=pt(r);return new ip(o,this.ngModule)}}function bv(n){const r=[];for(let o in n)n.hasOwnProperty(o)&&r.push({propName:n[o],templateName:o});return r}class ip extends Mc{constructor(r,o){super(),this.componentDef=r,this.ngModule=o,this.componentType=r.type,this.selector=function sy(n){return n.map(xg).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return bv(this.componentDef.inputs)}get outputs(){return bv(this.componentDef.outputs)}create(r,o,c,u){const p=(u=u||this.ngModule)?function K0(n,r){return{get:(o,c,u)=>{const p=n.get(o,np,u);return p!==np||c===np?p:r.get(o,c,u)}}}(r,u.injector):r,w=p.get(gv,K),k=p.get($0,null),N=w.createRenderer(null,this.componentDef),ne=this.componentDef.selectors[0][0]||"div",we=c?function nu(n,r,o){if(xi(n))return n.selectRootElement(r,o===Tt.ShadowDom);let c="string"==typeof r?n.querySelector(r):r;return c.textContent="",c}(N,c,this.componentDef.encapsulation):Ql(w.createRenderer(null,this.componentDef),ne,function W0(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(ne)),Xe=this.componentDef.onPush?576:528,wt=function df(n,r){return{components:[],scheduler:n||$c,clean:Sy,playerHandler:r||null,flags:0}}(),$t=$h(0,null,null,1,0,null,null,null,null,null),hn=Jc(null,$t,wt,Xe,null,null,w,N,k,p);let Pn,$n;Ii(hn);try{const oi=function uf(n,r,o,c,u,p){const w=o[1];o[20]=n;const N=vl(w,20,2,"#host",null),ne=N.mergedAttrs=r.hostAttrs;null!==ne&&(Hu(N,ne,!0),null!==n&&(is(u,n,ne),null!==N.classes&&Hi(u,n,N.classes),null!==N.styles&&Oh(u,n,N.styles)));const we=c.createRenderer(n,r),Xe=Jc(o,Pp(r),null,r.onPush?64:16,o[20],N,c,we,p||null,null);return w.firstCreatePass&&(L(vi(N,o),w,r.type),jp(w,N),$g(N,o.length,1)),Nl(o,Xe),o[20]=Xe}(we,this.componentDef,hn,w,N);if(we)if(c)is(N,we,["ng-version",vv.full]);else{const{attrs:Cn,classes:Ai}=function wp(n){const r=[],o=[];let c=1,u=2;for(;c<n.length;){let p=n[c];if("string"==typeof p)2===u?""!==p&&r.push(p,n[++c]):8===u&&o.push(p);else{if(!il(u))break;u=p}c++}return{attrs:r,classes:o}}(this.componentDef.selectors[0]);Cn&&is(N,we,Cn),Ai&&Ai.length>0&&Hi(N,we,Ai.join(" "))}if($n=ci($t,20),void 0!==o){const Cn=$n.projection=[];for(let Ai=0;Ai<this.ngContentSelectors.length;Ai++){const fr=o[Ai];Cn.push(null!=fr?Array.from(fr):null)}}Pn=function f_(n,r,o,c,u){const p=o[1],w=function Kh(n,r,o){const c=Er();n.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),Gp(n,c,r,dc(n,r,1,null),o));const u=Xi(r,n,c.directiveStart,c);As(u,r);const p=un(c,r);return p&&As(p,r),u}(p,o,r);if(c.components.push(w),n[8]=w,u&&u.forEach(N=>N(w,r)),r.contentQueries){const N=Er();r.contentQueries(1,w,N.directiveStart)}const k=Er();return!p.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(Wr(k.index),zd(o[1],k,0,k.directiveStart,k.directiveEnd,r),Hp(r,w)),w}(oi,this.componentDef,hn,wt,[p_]),eu($t,hn,null)}finally{ur()}return new lg(this.componentType,Pn,nd($n,hn),hn,$n)}}class lg extends class td{}{constructor(r,o,c,u,p){super(),this.location=c,this._rootLView=u,this._tNode=p,this.instance=o,this.hostView=this.changeDetectorRef=new Y0(u),this.componentType=r}get injector(){return new Cs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}class Hl{}class Cv{}const Cl=new Map;class rp extends Hl{constructor(r,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new yv(this);const c=En(r);this._bootstrapComponents=$a(c.bootstrap),this._r3Injector=n_(r,o,[{provide:Hl,useValue:this},{provide:Xf,useValue:this.componentFactoryResolver}],be(r)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(r)}get(r,o=yl.THROW_IF_NOT_FOUND,c=fe.Default){return r===yl||r===Hl||r===Kp?this:this._r3Injector.get(r,o,c)}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class ug extends Cv{constructor(r){super(),this.moduleType=r,null!==En(r)&&function q0(n){const r=new Set;!function o(c){const u=En(c,!0),p=u.id;null!==p&&(function wv(n,r,o){if(r&&r!==o)throw new Error(`Duplicate module registered for ${n} - ${be(r)} vs ${be(r.name)}`)}(p,Cl.get(p),c),Cl.set(p,c));const w=$a(u.imports);for(const k of w)r.has(k)||(r.add(k),o(k))}(n)}(r)}create(r){return new rp(this.moduleType,r)}}function ll(n,r,o,c){return Iv(pn(),Yr(),n,r,o,c)}function Ev(n,r,o,c,u){return Tv(pn(),Yr(),n,r,o,c,u)}function vh(n,r,o,c,u,p,w){return function xv(n,r,o,c,u,p,w,k,N){const ne=r+o;return Ma(n,ne,u,p,w,k)?Wa(n,ne+4,N?c.call(N,u,p,w,k):c(u,p,w,k)):yh(n,ne+4)}(pn(),Yr(),n,r,o,c,u,p,w)}function Mv(n,r,o,c,u,p,w,k,N){const ne=Yr()+n,we=pn(),Xe=Ma(we,ne,o,c,u,p);return ou(we,ne+4,w,k)||Xe?Wa(we,ne+6,N?r.call(N,o,c,u,p,w,k):r(o,c,u,p,w,k)):function qd(n,r){return n[r]}(we,ne+6)}function yh(n,r){const o=n[r];return o===zi?void 0:o}function Iv(n,r,o,c,u,p){const w=r+o;return Do(n,w,u)?Wa(n,w+1,p?c.call(p,u):c(u)):yh(n,w+1)}function Tv(n,r,o,c,u,p,w){const k=r+o;return ou(n,k,u,p)?Wa(n,k+2,w?c.call(w,u,p):c(u,p)):yh(n,k+2)}function kv(n,r){const o=Ui();let c;const u=n+20;o.firstCreatePass?(c=function BC(n,r){if(r)for(let o=r.length-1;o>=0;o--){const c=r[o];if(n===c.name)return c}}(r,o.pipeRegistry),o.data[u]=c,c.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(u,c.onDestroy)):c=o.data[u];const p=c.factory||(c.factory=Or(c.type)),w=Ht(th);try{const k=da(!1),N=p();return da(k),function pm(n,r,o,c){o>=n.data.length&&(n.data[o]=null,n.blueprint[o]=null),r[o]=c}(o,pn(),u,N),N}finally{Ht(w)}}function nb(n,r,o){const c=n+20,u=pn(),p=Oi(u,c);return bh(u,c)?Iv(u,Yr(),r,p.transform,o,p):p.transform(o)}function Ov(n,r,o,c){const u=n+20,p=pn(),w=Oi(p,u);return bh(p,u)?Tv(p,Yr(),r,w.transform,o,c,w):w.transform(o,c)}function bh(n,r){return n[1].data[r].pure}function dg(n){return r=>{setTimeout(n,void 0,r)}}const Xr=class ob extends a.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,o,c){var u,p,w;let k=r,N=o||(()=>null),ne=c;if(r&&"object"==typeof r){const Xe=r;k=null===(u=Xe.next)||void 0===u?void 0:u.bind(Xe),N=null===(p=Xe.error)||void 0===p?void 0:p.bind(Xe),ne=null===(w=Xe.complete)||void 0===w?void 0:w.bind(Xe)}this.__isAsync&&(N=dg(N),k&&(k=dg(k)),ne&&(ne=dg(ne)));const we=super.subscribe({next:k,error:N,complete:ne});return r instanceof R.w0&&r.add(we),we}};function ab(){return this._results[sl()]()}class Ch{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=sl(),c=Ch.prototype;c[o]||(c[o]=ab)}get changes(){return this._changes||(this._changes=new Xr)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,o){return this._results.reduce(r,o)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,o){const c=this;c.dirty=!1;const u=ws(r);(this._changesDetected=!function Qa(n,r,o){if(n.length!==r.length)return!1;for(let c=0;c<n.length;c++){let u=n[c],p=r[c];if(o&&(u=o(u),p=o(p)),p!==u)return!1}return!0}(c._results,u,o))&&(c._results=u,c.length=u.length,c.last=u[this.length-1],c.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let sp=(()=>{class n{}return n.__NG_ELEMENT_ID__=cb,n})();const UC=sp,lb=class extends UC{constructor(r,o,c){super(),this._declarationLView=r,this._declarationTContainer=o,this.elementRef=c}createEmbeddedView(r){const o=this._declarationTContainer.tViews,c=Jc(this._declarationLView,o,r,16,null,o.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(c[19]=p.createEmbeddedView(o)),eu(o,c,r),new id(c)}};function cb(){return hg(Er(),pn())}function hg(n,r){return 4&n.type?new lb(r,n,nd(n,r)):null}let fg=(()=>{class n{}return n.__NG_ELEMENT_ID__=HC,n})();function HC(){return Fv(Er(),pn())}const jC=fg,Rv=class extends jC{constructor(r,o,c){super(),this._lContainer=r,this._hostTNode=o,this._hostLView=c}get element(){return nd(this._hostTNode,this._hostLView)}get injector(){return new Cs(this._hostTNode,this._hostLView)}get parentInjector(){const r=E(this._hostTNode,this._hostLView);if(ca(r)){const o=ko(r,this._hostLView),c=jo(r);return new Cs(o[1].data[c+8],o)}return new Cs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const o=ub(this._lContainer);return null!==o&&o[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,o,c){const u=r.createEmbeddedView(o||{});return this.insert(u,c),u}createComponent(r,o,c,u,p){const w=r&&!function Ro(n){return"function"==typeof n}(r);let k;if(w)k=o;else{const Xe=o||{};k=Xe.index,c=Xe.injector,u=Xe.projectableNodes,p=Xe.ngModuleRef}const N=w?r:new ip(pt(r)),ne=c||this.parentInjector;if(!p&&null==N.ngModule){const wt=(w?ne:this.parentInjector).get(Hl,null);wt&&(p=wt)}const we=N.create(ne,u,void 0,p);return this.insert(we.hostView,k),we}insert(r,o){const c=r._lView,u=c[1];if(function Ri(n){return Xn(n[3])}(c)){const we=this.indexOf(r);if(-1!==we)this.detach(we);else{const Xe=c[3],wt=new Rv(Xe,Xe[6],Xe[3]);wt.detach(wt.indexOf(r))}}const p=this._adjustIndex(o),w=this._lContainer;!function vd(n,r,o,c){const u=10+c,p=o.length;c>0&&(o[u-1][4]=r),c<p-10?(r[4]=o[u],dl(o,10+c,r)):(o.push(r),r[4]=null),r[3]=o;const w=r[17];null!==w&&o!==w&&function up(n,r){const o=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===o?n[9]=[r]:o.push(r)}(w,r);const k=r[19];null!==k&&k.insertView(n),r[2]|=128}(u,c,w,p);const k=Co(p,w),N=c[11],ne=Ol(N,w[7]);return null!==ne&&function yu(n,r,o,c,u,p){c[0]=u,c[6]=r,tc(n,c,o,1,u,p)}(u,w[6],N,c,ne,k),r.attachToViewContainerRef(),dl(Pv(w),p,r),r}move(r,o){return this.insert(r,o)}indexOf(r){const o=ub(this._lContainer);return null!==o?o.indexOf(r):-1}remove(r){const o=this._adjustIndex(r,-1),c=ml(this._lContainer,o);c&&(os(Pv(this._lContainer),o),Fc(c[1],c))}detach(r){const o=this._adjustIndex(r,-1),c=ml(this._lContainer,o);return c&&null!=os(Pv(this._lContainer),o)?new id(c):null}_adjustIndex(r,o=0){return null==r?this.length+o:r}};function ub(n){return n[8]}function Pv(n){return n[8]||(n[8]=[])}function Fv(n,r){let o;const c=r[n.index];if(Xn(c))o=c;else{let u;if(8&n.type)u=$(c);else{const p=r[11];u=p.createComment("");const w=un(n,r);Ko(p,Ol(p,w),u,function Jl(n,r){return xi(n)?n.nextSibling(r):r.nextSibling}(p,w),!1)}r[n.index]=o=Wg(c,r,u,n),Nl(r,o)}return new Rv(o,n,r)}class Nv{constructor(r){this.queryList=r,this.matches=null}clone(){return new Nv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Lv{constructor(r=[]){this.queries=r}createEmbeddedView(r){const o=r.queries;if(null!==o){const c=null!==r.contentQueries?r.contentQueries[0]:o.length,u=[];for(let p=0;p<c;p++){const w=o.getByIndex(p);u.push(this.queries[w.indexInDeclarationView].clone())}return new Lv(u)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let o=0;o<this.queries.length;o++)null!==bb(r,o).matches&&this.queries[o].setDirty()}}class db{constructor(r,o,c=null){this.predicate=r,this.flags=o,this.read=c}}class Vv{constructor(r=[]){this.queries=r}elementStart(r,o){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(r,o)}elementEnd(r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(r)}embeddedTView(r){let o=null;for(let c=0;c<this.length;c++){const u=null!==o?o.length:0,p=this.getByIndex(c).embeddedTView(r,u);p&&(p.indexInDeclarationView=c,null!==o?o.push(p):o=[p])}return null!==o?new Vv(o):null}template(r,o){for(let c=0;c<this.queries.length;c++)this.queries[c].template(r,o)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class Bv{constructor(r,o=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(r,o){this.isApplyingToNode(o)&&this.matchTNode(r,o)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,o){this.elementStart(r,o)}embeddedTView(r,o){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,o),new Bv(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let c=r.parent;for(;null!==c&&8&c.type&&c.index!==o;)c=c.parent;return o===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(r,o){const c=this.metadata.predicate;if(Array.isArray(c))for(let u=0;u<c.length;u++){const p=c[u];this.matchTNodeWithReadOption(r,o,$C(o,p)),this.matchTNodeWithReadOption(r,o,Wn(o,r,p,!1,!1))}else c===sp?4&o.type&&this.matchTNodeWithReadOption(r,o,-1):this.matchTNodeWithReadOption(r,o,Wn(o,r,c,!1,!1))}matchTNodeWithReadOption(r,o,c){if(null!==c){const u=this.metadata.read;if(null!==u)if(u===Jf||u===fg||u===sp&&4&o.type)this.addMatch(o.index,-2);else{const p=Wn(o,r,u,!1,!1);null!==p&&this.addMatch(o.index,p)}else this.addMatch(o.index,c)}}addMatch(r,o){null===this.matches?this.matches=[r,o]:this.matches.push(r,o)}}function $C(n,r){const o=n.localNames;if(null!==o)for(let c=0;c<o.length;c+=2)if(o[c]===r)return o[c+1];return null}function fb(n,r,o,c){return-1===o?function hb(n,r){return 11&n.type?nd(n,r):4&n.type?hg(n,r):null}(r,n):-2===o?function YC(n,r,o){return o===Jf?nd(r,n):o===sp?hg(r,n):o===fg?Fv(r,n):void 0}(n,r,c):Xi(n,n[1],o,r)}function pb(n,r,o,c){const u=r[19].queries[c];if(null===u.matches){const p=n.data,w=o.matches,k=[];for(let N=0;N<w.length;N+=2){const ne=w[N];k.push(ne<0?null:fb(r,p[ne],w[N+1],o.metadata.read))}u.matches=k}return u.matches}function op(n,r,o,c){const u=n.queries.getByIndex(o),p=u.matches;if(null!==p){const w=pb(n,r,u,o);for(let k=0;k<p.length;k+=2){const N=p[k];if(N>0)c.push(w[k/2]);else{const ne=p[k+1],we=r[-N];for(let Xe=10;Xe<we.length;Xe++){const wt=we[Xe];wt[17]===wt[3]&&op(wt[1],wt,ne,c)}if(null!==we[9]){const Xe=we[9];for(let wt=0;wt<Xe.length;wt++){const $t=Xe[wt];op($t[1],$t,ne,c)}}}}}return c}function mb(n){const r=pn(),o=Ui(),c=ln();Nn(c+1);const u=bb(o,c);if(n.dirty&&Ei(r)===(2==(2&u.metadata.flags))){if(null===u.matches)n.reset([]);else{const p=u.crossesNgTemplate?op(o,r,c,[]):pb(o,r,u,c);n.reset(p,G0),n.notifyOnChanges()}return!0}return!1}function gb(n,r,o){const c=Ui();c.firstCreatePass&&(pg(c,new db(n,r,o),-1),2==(2&r)&&(c.staticViewQueries=!0)),yb(c,pn(),r)}function _b(n,r,o,c){const u=Ui();if(u.firstCreatePass){const p=Er();pg(u,new db(r,o,c),p.index),function ap(n,r){const o=n.contentQueries||(n.contentQueries=[]);r!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,r)}(u,n),2==(2&o)&&(u.staticContentQueries=!0)}yb(u,pn(),o)}function vb(){return function WC(n,r){return n[19].queries[r].queryList}(pn(),ln())}function yb(n,r,o){const c=new Ch(4==(4&o));Yh(n,r,c,c.destroy),null===r[19]&&(r[19]=new Lv),r[19].queries.push(new Nv(c))}function pg(n,r,o){null===n.queries&&(n.queries=new Vv),n.queries.track(new Bv(r,o))}function bb(n,r){return n.queries.getByIndex(r)}function zv(...n){}const tw=new Tr("Application Initializer");let Tb=(()=>{class n{constructor(o){this.appInits=o,this.resolve=zv,this.reject=zv,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,u)=>{this.resolve=c,this.reject=u})}runInitializers(){if(this.initialized)return;const o=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let u=0;u<this.appInits.length;u++){const p=this.appInits[u]();if(k_(p))o.push(p);else if(xm(p)){const w=new Promise((k,N)=>{p.subscribe({complete:k,error:N})});o.push(w)}}Promise.all(o).then(()=>{c()}).catch(u=>{this.reject(u)}),0===o.length&&c(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)(G(tw,8))},n.\u0275prov=Ze({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const nw=new Tr("AppId",{providedIn:"root",factory:function iw(){return`${Sb()}${Sb()}${Sb()}`}});function Sb(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const rw=new Tr("Platform Initializer"),Hw=new Tr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),sw=new Tr("appBootstrapListener");let jw=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Ze({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const xb=new Tr("LocaleId",{providedIn:"root",factory:()=>it(xb,fe.Optional|fe.SkipSelf)||function Gw(){return"undefined"!=typeof $localize&&$localize.locale||Km}()}),zw=new Tr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class $w{constructor(r,o){this.ngModuleFactory=r,this.componentFactories=o}}let Yw=(()=>{class n{compileModuleSync(o){return new ug(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const c=this.compileModuleSync(o),p=$a(En(o).declarations).reduce((w,k)=>{const N=pt(k);return N&&w.push(new ip(N)),w},[]);return new $w(c,p)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Ze({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Kw=(()=>Promise.resolve(0))();function Ab(n){"undefined"==typeof Zone?Kw.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class jl{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Xr(!1),this.onMicrotaskEmpty=new Xr(!1),this.onStable=new Xr(!1),this.onError=new Xr(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!c&&o,u.shouldCoalesceRunChangeDetection=c,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function Zw(){let n=Fn.requestAnimationFrame,r=Fn.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&r){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const c=r[Zone.__symbol__("OriginalDelegate")];c&&(r=c)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function Xw(n){const r=()=>{!function Qw(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Fn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Ob(n),n.isCheckStableRunning=!0,kb(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Ob(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,c,u,p,w,k)=>{try{return ow(n),o.invokeTask(u,p,w,k)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||n.shouldCoalesceRunChangeDetection)&&r(),aw(n)}},onInvoke:(o,c,u,p,w,k,N)=>{try{return ow(n),o.invoke(u,p,w,k,N)}finally{n.shouldCoalesceRunChangeDetection&&r(),aw(n)}},onHasTask:(o,c,u,p)=>{o.hasTask(u,p),c===u&&("microTask"==p.change?(n._hasPendingMicrotasks=p.microTask,Ob(n),kb(n)):"macroTask"==p.change&&(n.hasPendingMacrotasks=p.macroTask))},onHandleError:(o,c,u,p)=>(o.handleError(u,p),n.runOutsideAngular(()=>n.onError.emit(p)),!1)})}(u)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!jl.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(jl.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(r,o,c){return this._inner.run(r,o,c)}runTask(r,o,c,u){const p=this._inner,w=p.scheduleEventTask("NgZoneEvent: "+u,r,qw,zv,zv);try{return p.runTask(w,o,c)}finally{p.cancelTask(w)}}runGuarded(r,o,c){return this._inner.runGuarded(r,o,c)}runOutsideAngular(r){return this._outer.run(r)}}const qw={};function kb(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Ob(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function ow(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function aw(n){n._nesting--,kb(n)}class Jw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Xr,this.onMicrotaskEmpty=new Xr,this.onStable=new Xr,this.onError=new Xr}run(r,o,c){return r.apply(o,c)}runGuarded(r,o,c){return r.apply(o,c)}runOutsideAngular(r){return r()}runTask(r,o,c,u){return r.apply(o,c)}}let lw=(()=>{class n{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{jl.assertNotInAngularZone(),Ab(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ab(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(o)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,c,u){let p=-1;c&&c>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==p),o(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:o,timeoutId:p,updateCb:u})}whenStable(o,c,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,c,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,c,u){return[]}}return n.\u0275fac=function(o){return new(o||n)(G(jl))},n.\u0275prov=Ze({token:n,factory:n.\u0275fac}),n})(),eD=(()=>{class n{constructor(){this._applications=new Map,Rb.addToWindow(this)}registerApplication(o,c){this._applications.set(o,c)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,c=!0){return Rb.findTestabilityInTree(this,o,c)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Ze({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();class tD{addToWindow(r){}findTestabilityInTree(r,o,c){return null}}function nD(n){Rb=n}let Rb=new tD,Dh=null;const cw=new Tr("AllowMultipleToken"),uw=new Tr("PlatformOnDestroy");class sD{constructor(r,o){this.name=r,this.token=o}}function dw(n,r,o=[]){const c=`Platform: ${r}`,u=new Tr(c);return(p=[])=>{let w=Pb();if(!w||w.injector.get(cw,!1)){const k=[...o,...p,{provide:u,useValue:!0}];n?n(k):function oD(n){if(Dh&&!Dh.get(cw,!1))throw new ot(400,"");Dh=n;const r=n.get(hw),o=n.get(rw,null);o&&o.forEach(c=>c())}(function lD(n=[],r){return yl.create({name:r,providers:[{provide:ef,useValue:"platform"},{provide:uw,useValue:()=>Dh=null},...n]})}(k,c))}return function aD(n){const r=Pb();if(!r)throw new ot(401,"");return r}()}}function Pb(){var n;return null!==(n=null==Dh?void 0:Dh.get(hw))&&void 0!==n?n:null}let hw=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,c){const k=function cD(n,r){let o;return o="noop"===n?new Jw:("zone.js"===n?void 0:n)||new jl({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)}),o}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),N=[{provide:jl,useValue:k}];return k.run(()=>{const ne=yl.create({providers:N,parent:this.injector,name:o.moduleType.name}),we=o.create(ne),Xe=we.injector.get(Ou,null);if(!Xe)throw new ot(402,"");return k.runOutsideAngular(()=>{const wt=k.onError.subscribe({next:$t=>{Xe.handleError($t)}});we.onDestroy(()=>{Nb(this._modules,we),wt.unsubscribe()})}),function uD(n,r,o){try{const c=o();return k_(c)?c.catch(u=>{throw r.runOutsideAngular(()=>n.handleError(u)),u}):c}catch(c){throw r.runOutsideAngular(()=>n.handleError(c)),c}}(Xe,k,()=>{const wt=we.injector.get(Tb);return wt.runInitializers(),wt.donePromise.then(()=>(function dC(n){Rt(n,"Expected localeId to be defined"),"string"==typeof n&&(_0=n.toLowerCase().replace(/_/g,"-"))}(we.injector.get(xb,Km)||Km),this._moduleDoBootstrap(we),we))})})}bootstrapModule(o,c=[]){const u=fw({},c);return function iD(n,r,o){const c=new ug(o);return Promise.resolve(c)}(0,0,o).then(p=>this.bootstrapModuleFactory(p,u))}_moduleDoBootstrap(o){const c=o.injector.get(Fb);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(u=>c.bootstrap(u));else{if(!o.instance.ngDoBootstrap)throw new ot(403,"");o.instance.ngDoBootstrap(c)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ot(404,"");this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const o=this._injector.get(uw,null);null==o||o(),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(G(yl))},n.\u0275prov=Ze({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function fw(n,r){return Array.isArray(r)?r.reduce(fw,n):Object.assign(Object.assign({},n),r)}let Fb=(()=>{class n{constructor(o,c,u,p){this._zone=o,this._injector=c,this._exceptionHandler=u,this._initStatus=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new b.y(N=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{N.next(this._stable),N.complete()})}),k=new b.y(N=>{let ne;this._zone.runOutsideAngular(()=>{ne=this._zone.onStable.subscribe(()=>{jl.assertNotInAngularZone(),Ab(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,N.next(!0))})})});const we=this._zone.onUnstable.subscribe(()=>{jl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{N.next(!1)}))});return()=>{ne.unsubscribe(),we.unsubscribe()}});this.isStable=(0,te.T)(w,k.pipe((0,v.B)()))}bootstrap(o,c){if(!this._initStatus.done)throw new ot(405,"");let u;u=o instanceof Mc?o:this._injector.get(Xf).resolveComponentFactory(o),this.componentTypes.push(u.componentType);const p=function rD(n){return n.isBoundToModule}(u)?void 0:this._injector.get(Hl),k=u.create(yl.NULL,[],c||u.selector,p),N=k.location.nativeElement,ne=k.injector.get(lw,null),we=ne&&k.injector.get(eD);return ne&&we&&we.registerApplication(N,ne),k.onDestroy(()=>{this.detachView(k.hostView),Nb(this.components,k),we&&we.unregisterApplication(N)}),this._loadComponent(k),k}tick(){if(this._runningTick)throw new ot(101,"");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const c=o;this._views.push(c),c.attachToAppRef(this)}detachView(o){const c=o;Nb(this._views,c),c.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(sw,[]).concat(this._bootstrapListeners).forEach(u=>u(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(o){return new(o||n)(G(jl),G(yl),G(Ou),G(Tb))},n.\u0275prov=Ze({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Nb(n,r){const o=n.indexOf(r);o>-1&&n.splice(o,1)}let mw=!0,gw=!1;function hD(){return gw=!0,mw}function fD(){if(gw)throw new Error("Cannot enable prod mode after platform setup.");mw=!1}let pD=(()=>{class n{}return n.__NG_ELEMENT_ID__=mD,n})();function mD(n){return function gD(n,r,o){if(Fi(n)&&!o){const c=Jn(n.index,r);return new id(c,c)}return 47&n.type?new id(r[16],r):null}(Er(),pn(),16==(16&n))}class bw{constructor(){}supports(r){return su(r)}create(r){return new wD(r)}}const CD=(n,r)=>r;class wD{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||CD}forEachItem(r){let o;for(o=this._itHead;null!==o;o=o._next)r(o)}forEachOperation(r){let o=this._itHead,c=this._removalsHead,u=0,p=null;for(;o||c;){const w=!c||o&&o.currentIndex<ww(c,u,p)?o:c,k=ww(w,u,p),N=w.currentIndex;if(w===c)u--,c=c._nextRemoved;else if(o=o._next,null==w.previousIndex)u++;else{p||(p=[]);const ne=k-u,we=N-u;if(ne!=we){for(let wt=0;wt<ne;wt++){const $t=wt<p.length?p[wt]:p[wt]=0,hn=$t+wt;we<=hn&&hn<ne&&(p[wt]=$t+1)}p[w.previousIndex]=we-ne}}k!==N&&r(w,k,N)}}forEachPreviousItem(r){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachMovedItem(r){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}forEachIdentityChange(r){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)r(o)}diff(r){if(null==r&&(r=[]),!su(r))throw new ot(900,"");return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let u,p,w,o=this._itHead,c=!1;if(Array.isArray(r)){this.length=r.length;for(let k=0;k<this.length;k++)p=r[k],w=this._trackByFn(k,p),null!==o&&Object.is(o.trackById,w)?(c&&(o=this._verifyReinsertion(o,p,w,k)),Object.is(o.item,p)||this._addIdentityChange(o,p)):(o=this._mismatch(o,p,w,k),c=!0),o=o._next}else u=0,function um(n,r){if(Array.isArray(n))for(let o=0;o<n.length;o++)r(n[o]);else{const o=n[sl()]();let c;for(;!(c=o.next()).done;)r(c.value)}}(r,k=>{w=this._trackByFn(u,k),null!==o&&Object.is(o.trackById,w)?(c&&(o=this._verifyReinsertion(o,k,w,u)),Object.is(o.item,k)||this._addIdentityChange(o,k)):(o=this._mismatch(o,k,w,u),c=!0),o=o._next,u++}),this.length=u;return this._truncate(o),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,o,c,u){let p;return null===r?p=this._itTail:(p=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._reinsertAfter(r,p,u)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(c,u))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._moveAfter(r,p,u)):r=this._addAfter(new DD(o,c),p,u),r}_verifyReinsertion(r,o,c,u){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==p?r=this._reinsertAfter(p,r._prev,u):r.currentIndex!=u&&(r.currentIndex=u,this._addToMoves(r,u)),r}_truncate(r){for(;null!==r;){const o=r._next;this._addToRemovals(this._unlink(r)),r=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,o,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const u=r._prevRemoved,p=r._nextRemoved;return null===u?this._removalsHead=p:u._nextRemoved=p,null===p?this._removalsTail=u:p._prevRemoved=u,this._insertAfter(r,o,c),this._addToMoves(r,c),r}_moveAfter(r,o,c){return this._unlink(r),this._insertAfter(r,o,c),this._addToMoves(r,c),r}_addAfter(r,o,c){return this._insertAfter(r,o,c),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,o,c){const u=null===o?this._itHead:o._next;return r._next=u,r._prev=o,null===u?this._itTail=r:u._prev=r,null===o?this._itHead=r:o._next=r,null===this._linkedRecords&&(this._linkedRecords=new Cw),this._linkedRecords.put(r),r.currentIndex=c,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const o=r._prev,c=r._next;return null===o?this._itHead=c:o._next=c,null===c?this._itTail=o:c._prev=o,r}_addToMoves(r,o){return r.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Cw),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,o){return r.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class DD{constructor(r,o){this.item=r,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ED{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,o){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===o||o<=c.currentIndex)&&Object.is(c.trackById,r))return c;return null}remove(r){const o=r._prevDup,c=r._nextDup;return null===o?this._head=c:o._nextDup=c,null===c?this._tail=o:c._prevDup=o,null===this._head}}class Cw{constructor(){this.map=new Map}put(r){const o=r.trackById;let c=this.map.get(o);c||(c=new ED,this.map.set(o,c)),c.add(r)}get(r,o){const u=this.map.get(r);return u?u.get(r,o):null}remove(r){const o=r.trackById;return this.map.get(o).remove(r)&&this.map.delete(o),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ww(n,r,o){const c=n.previousIndex;if(null===c)return c;let u=0;return o&&c<o.length&&(u=o[c]),c+r+u}class Dw{constructor(){}supports(r){return r instanceof Map||ol(r)}create(){return new MD}}class MD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let o;for(o=this._mapHead;null!==o;o=o._next)r(o)}forEachPreviousItem(r){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)r(o)}forEachChangedItem(r){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}diff(r){if(r){if(!(r instanceof Map||ol(r)))throw new ot(900,"")}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(r,(c,u)=>{if(o&&o.key===u)this._maybeAddToChanges(o,c),this._appendAfter=o,o=o._next;else{const p=this._getOrCreateRecordForKey(u,c);o=this._insertBeforeOrAppend(o,p)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let c=o;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,o){if(r){const c=r._prev;return o._next=r,o._prev=c,r._prev=o,c&&(c._next=o),r===this._mapHead&&(this._mapHead=o),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(r,o){if(this._records.has(r)){const u=this._records.get(r);this._maybeAddToChanges(u,o);const p=u._prev,w=u._next;return p&&(p._next=w),w&&(w._prev=p),u._next=null,u._prev=null,u}const c=new ID(r);return this._records.set(r,c),c.currentValue=o,this._addToAdditions(c),c}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,o){Object.is(o,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=o,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,o){r instanceof Map?r.forEach(o):Object.keys(r).forEach(c=>o(r[c],c))}}class ID{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ew(){return new Hb([new bw])}let Hb=(()=>{class n{constructor(o){this.factories=o}static create(o,c){if(null!=c){const u=c.factories.slice();o=o.concat(u)}return new n(o)}static extend(o){return{provide:n,useFactory:c=>n.create(o,c||Ew()),deps:[[n,new no,new Gi]]}}find(o){const c=this.factories.find(u=>u.supports(o));if(null!=c)return c;throw new ot(901,"")}}return n.\u0275prov=Ze({token:n,providedIn:"root",factory:Ew}),n})();function Mw(){return new jb([new Dw])}let jb=(()=>{class n{constructor(o){this.factories=o}static create(o,c){if(c){const u=c.factories.slice();o=o.concat(u)}return new n(o)}static extend(o){return{provide:n,useFactory:c=>n.create(o,c||Mw()),deps:[[n,new no,new Gi]]}}find(o){const c=this.factories.find(p=>p.supports(o));if(c)return c;throw new ot(901,"")}}return n.\u0275prov=Ze({token:n,providedIn:"root",factory:Mw}),n})();const xD=dw(null,"core",[]);let AD=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(G(Fb))},n.\u0275mod=It({type:n}),n.\u0275inj=Le({}),n})()},3075:(on,st,D)=>{D.d(st,{Cf:()=>Re,F:()=>fi,Fj:()=>Fe,JJ:()=>fe,JL:()=>$e,JU:()=>be,Q7:()=>qs,UX:()=>Ei,Zs:()=>Pr,_Y:()=>pr,a5:()=>fn,kI:()=>lt,qu:()=>Ri,sg:()=>vs,u:()=>zr,u5:()=>Jn});var a=D(5e3),R=D(9808),b=D(8996),te=D(4128),v=D(4004);let ce=(()=>{class Z{constructor(F,De){this._renderer=F,this._elementRef=De,this.onChange=en=>{},this.onTouched=()=>{}}setProperty(F,De){this._renderer.setProperty(this._elementRef.nativeElement,F,De)}registerOnTouched(F){this.onTouched=F}registerOnChange(F){this.onChange=F}setDisabledState(F){this.setProperty("disabled",F)}}return Z.\u0275fac=function(F){return new(F||Z)(a.Y36(a.Qsj),a.Y36(a.SBq))},Z.\u0275dir=a.lG2({type:Z}),Z})(),ye=(()=>{class Z extends ce{}return Z.\u0275fac=function(){let j;return function(De){return(j||(j=a.n5z(Z)))(De||Z)}}(),Z.\u0275dir=a.lG2({type:Z,features:[a.qOj]}),Z})();const be=new a.OlP("NgValueAccessor"),re={provide:be,useExisting:(0,a.Gpc)(()=>Fe),multi:!0},We=new a.OlP("CompositionEventMode");let Fe=(()=>{class Z extends ce{constructor(F,De,en){super(F,De),this._compositionMode=en,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function xe(){const Z=(0,R.q)()?(0,R.q)().getUserAgent():"";return/android (\d+)/.test(Z.toLowerCase())}())}writeValue(F){this.setProperty("value",null==F?"":F)}_handleInput(F){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(F)}_compositionStart(){this._composing=!0}_compositionEnd(F){this._composing=!1,this._compositionMode&&this.onChange(F)}}return Z.\u0275fac=function(F){return new(F||Z)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(We,8))},Z.\u0275dir=a.lG2({type:Z,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(F,De){1&F&&a.NdJ("input",function(Ln){return De._handleInput(Ln.target.value)})("blur",function(){return De.onTouched()})("compositionstart",function(){return De._compositionStart()})("compositionend",function(Ln){return De._compositionEnd(Ln.target.value)})},features:[a._Bn([re]),a.qOj]}),Z})();function ot(Z){return null==Z||0===Z.length}function et(Z){return null!=Z&&"number"==typeof Z.length}const Re=new a.OlP("NgValidators"),Ke=new a.OlP("NgAsyncValidators"),_t=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class lt{static min(j){return function ue(Z){return j=>{if(ot(j.value)||ot(Z))return null;const F=parseFloat(j.value);return!isNaN(F)&&F<Z?{min:{min:Z,actual:j.value}}:null}}(j)}static max(j){return function me(Z){return j=>{if(ot(j.value)||ot(Z))return null;const F=parseFloat(j.value);return!isNaN(F)&&F>Z?{max:{max:Z,actual:j.value}}:null}}(j)}static required(j){return Ce(j)}static requiredTrue(j){return Be(j)}static email(j){return function Ge(Z){return ot(Z.value)||_t.test(Z.value)?null:{email:!0}}(j)}static minLength(j){return function de(Z){return j=>ot(j.value)||!et(j.value)?null:j.value.length<Z?{minlength:{requiredLength:Z,actualLength:j.value.length}}:null}(j)}static maxLength(j){return function ut(Z){return j=>et(j.value)&&j.value.length>Z?{maxlength:{requiredLength:Z,actualLength:j.value.length}}:null}(j)}static pattern(j){return function Qe(Z){if(!Z)return jt;let j,F;return"string"==typeof Z?(F="","^"!==Z.charAt(0)&&(F+="^"),F+=Z,"$"!==Z.charAt(Z.length-1)&&(F+="$"),j=new RegExp(F)):(F=Z.toString(),j=Z),De=>{if(ot(De.value))return null;const en=De.value;return j.test(en)?null:{pattern:{requiredPattern:F,actualValue:en}}}}(j)}static nullValidator(j){return null}static compose(j){return Rt(j)}static composeAsync(j){return dn(j)}}function Ce(Z){return ot(Z.value)?{required:!0}:null}function Be(Z){return!0===Z.value?null:{required:!0}}function jt(Z){return null}function bt(Z){return null!=Z}function zt(Z){const j=(0,a.QGY)(Z)?(0,b.D)(Z):Z;return(0,a.CqO)(j),j}function rt(Z){let j={};return Z.forEach(F=>{j=null!=F?Object.assign(Object.assign({},j),F):j}),0===Object.keys(j).length?null:j}function Ft(Z,j){return j.map(F=>F(Z))}function Vt(Z){return Z.map(j=>function xt(Z){return!Z.validate}(j)?j:F=>j.validate(F))}function Rt(Z){if(!Z)return null;const j=Z.filter(bt);return 0==j.length?null:function(F){return rt(Ft(F,j))}}function Lt(Z){return null!=Z?Rt(Vt(Z)):null}function dn(Z){if(!Z)return null;const j=Z.filter(bt);return 0==j.length?null:function(F){const De=Ft(F,j).map(zt);return(0,te.D)(De).pipe((0,v.U)(rt))}}function Wt(Z){return null!=Z?dn(Vt(Z)):null}function Ut(Z,j){return null===Z?[j]:Array.isArray(Z)?[...Z,j]:[Z,j]}function Ze(Z){return Z._rawValidators}function Pe(Z){return Z._rawAsyncValidators}function Le(Z){return Z?Array.isArray(Z)?Z:[Z]:[]}function tt(Z,j){return Array.isArray(Z)?Z.includes(j):Z===j}function Je(Z,j){const F=Le(j);return Le(Z).forEach(en=>{tt(F,en)||F.push(en)}),F}function Mt(Z,j){return Le(j).filter(F=>!tt(Z,F))}class rn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(j){this._rawValidators=j||[],this._composedValidatorFn=Lt(this._rawValidators)}_setAsyncValidators(j){this._rawAsyncValidators=j||[],this._composedAsyncValidatorFn=Wt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(j){this._onDestroyCallbacks.push(j)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(j=>j()),this._onDestroyCallbacks=[]}reset(j){this.control&&this.control.reset(j)}hasError(j,F){return!!this.control&&this.control.hasError(j,F)}getError(j,F){return this.control?this.control.getError(j,F):null}}class fn extends rn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class vn extends rn{get formDirective(){return null}get path(){return null}}class Qn{constructor(j){this._cd=j}is(j){var F,De,en;return"submitted"===j?!!(null===(F=this._cd)||void 0===F?void 0:F.submitted):!!(null===(en=null===(De=this._cd)||void 0===De?void 0:De.control)||void 0===en?void 0:en[j])}}let fe=(()=>{class Z extends Qn{constructor(F){super(F)}}return Z.\u0275fac=function(F){return new(F||Z)(a.Y36(fn,2))},Z.\u0275dir=a.lG2({type:Z,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(F,De){2&F&&a.ekj("ng-untouched",De.is("untouched"))("ng-touched",De.is("touched"))("ng-pristine",De.is("pristine"))("ng-dirty",De.is("dirty"))("ng-valid",De.is("valid"))("ng-invalid",De.is("invalid"))("ng-pending",De.is("pending"))},features:[a.qOj]}),Z})(),$e=(()=>{class Z extends Qn{constructor(F){super(F)}}return Z.\u0275fac=function(F){return new(F||Z)(a.Y36(vn,10))},Z.\u0275dir=a.lG2({type:Z,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(F,De){2&F&&a.ekj("ng-untouched",De.is("untouched"))("ng-touched",De.is("touched"))("ng-pristine",De.is("pristine"))("ng-dirty",De.is("dirty"))("ng-valid",De.is("valid"))("ng-invalid",De.is("invalid"))("ng-pending",De.is("pending"))("ng-submitted",De.is("submitted"))},features:[a.qOj]}),Z})();function mn(Z,j){W(Z,j),j.valueAccessor.writeValue(Z.value),function m(Z,j){j.valueAccessor.registerOnChange(F=>{Z._pendingValue=F,Z._pendingChange=!0,Z._pendingDirty=!0,"change"===Z.updateOn&&U(Z,j)})}(Z,j),function Se(Z,j){const F=(De,en)=>{j.valueAccessor.writeValue(De),en&&j.viewToModelUpdate(De)};Z.registerOnChange(F),j._registerOnDestroy(()=>{Z._unregisterOnChange(F)})}(Z,j),function x(Z,j){j.valueAccessor.registerOnTouched(()=>{Z._pendingTouched=!0,"blur"===Z.updateOn&&Z._pendingChange&&U(Z,j),"submit"!==Z.updateOn&&Z.markAsTouched()})}(Z,j),function At(Z,j){if(j.valueAccessor.setDisabledState){const F=De=>{j.valueAccessor.setDisabledState(De)};Z.registerOnDisabledChange(F),j._registerOnDestroy(()=>{Z._unregisterOnDisabledChange(F)})}}(Z,j)}function mi(Z,j,F=!0){const De=()=>{};j.valueAccessor&&(j.valueAccessor.registerOnChange(De),j.valueAccessor.registerOnTouched(De)),O(Z,j),Z&&(j._invokeOnDestroyCallbacks(),Z._registerOnCollectionChange(()=>{}))}function Sn(Z,j){Z.forEach(F=>{F.registerOnValidatorChange&&F.registerOnValidatorChange(j)})}function W(Z,j){const F=Ze(Z);null!==j.validator?Z.setValidators(Ut(F,j.validator)):"function"==typeof F&&Z.setValidators([F]);const De=Pe(Z);null!==j.asyncValidator?Z.setAsyncValidators(Ut(De,j.asyncValidator)):"function"==typeof De&&Z.setAsyncValidators([De]);const en=()=>Z.updateValueAndValidity();Sn(j._rawValidators,en),Sn(j._rawAsyncValidators,en)}function O(Z,j){let F=!1;if(null!==Z){if(null!==j.validator){const en=Ze(Z);if(Array.isArray(en)&&en.length>0){const Ln=en.filter(ir=>ir!==j.validator);Ln.length!==en.length&&(F=!0,Z.setValidators(Ln))}}if(null!==j.asyncValidator){const en=Pe(Z);if(Array.isArray(en)&&en.length>0){const Ln=en.filter(ir=>ir!==j.asyncValidator);Ln.length!==en.length&&(F=!0,Z.setAsyncValidators(Ln))}}}const De=()=>{};return Sn(j._rawValidators,De),Sn(j._rawAsyncValidators,De),F}function U(Z,j){Z._pendingDirty&&Z.markAsDirty(),Z.setValue(Z._pendingValue,{emitModelToViewChange:!1}),j.viewToModelUpdate(Z._pendingValue),Z._pendingChange=!1}function Me(Z,j){W(Z,j)}function pt(Z,j){Z._syncPendingControls(),j.forEach(F=>{const De=F.control;"submit"===De.updateOn&&De._pendingChange&&(F.viewToModelUpdate(De._pendingValue),De._pendingChange=!1)})}function Mn(Z,j){const F=Z.indexOf(j);F>-1&&Z.splice(F,1)}const Di="VALID",Vi="INVALID",Bi="PENDING",nr="DISABLED";function Ji(Z){return(qe(Z)?Z.validators:Z)||null}function Te(Z){return Array.isArray(Z)?Lt(Z):Z||null}function Ne(Z,j){return(qe(j)?j.asyncValidators:Z)||null}function ae(Z){return Array.isArray(Z)?Wt(Z):Z||null}function qe(Z){return null!=Z&&!Array.isArray(Z)&&"object"==typeof Z}const kt=Z=>Z instanceof zn,tn=Z=>Z instanceof Si,bn=Z=>Z instanceof er;function ei(Z){return kt(Z)?Z.value:Z.getRawValue()}function Bn(Z,j){const F=tn(Z),De=Z.controls;if(!(F?Object.keys(De):De).length)throw new a.vHH(1e3,"");if(!De[j])throw new a.vHH(1001,"")}function Pi(Z,j){tn(Z),Z._forEachChild((De,en)=>{if(void 0===j[en])throw new a.vHH(1002,"")})}class si{constructor(j,F){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=j,this._rawAsyncValidators=F,this._composedValidatorFn=Te(this._rawValidators),this._composedAsyncValidatorFn=ae(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(j){this._rawValidators=this._composedValidatorFn=j}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(j){this._rawAsyncValidators=this._composedAsyncValidatorFn=j}get parent(){return this._parent}get valid(){return this.status===Di}get invalid(){return this.status===Vi}get pending(){return this.status==Bi}get disabled(){return this.status===nr}get enabled(){return this.status!==nr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(j){this._rawValidators=j,this._composedValidatorFn=Te(j)}setAsyncValidators(j){this._rawAsyncValidators=j,this._composedAsyncValidatorFn=ae(j)}addValidators(j){this.setValidators(Je(j,this._rawValidators))}addAsyncValidators(j){this.setAsyncValidators(Je(j,this._rawAsyncValidators))}removeValidators(j){this.setValidators(Mt(j,this._rawValidators))}removeAsyncValidators(j){this.setAsyncValidators(Mt(j,this._rawAsyncValidators))}hasValidator(j){return tt(this._rawValidators,j)}hasAsyncValidator(j){return tt(this._rawAsyncValidators,j)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(j={}){this.touched=!0,this._parent&&!j.onlySelf&&this._parent.markAsTouched(j)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(j=>j.markAllAsTouched())}markAsUntouched(j={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(F=>{F.markAsUntouched({onlySelf:!0})}),this._parent&&!j.onlySelf&&this._parent._updateTouched(j)}markAsDirty(j={}){this.pristine=!1,this._parent&&!j.onlySelf&&this._parent.markAsDirty(j)}markAsPristine(j={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(F=>{F.markAsPristine({onlySelf:!0})}),this._parent&&!j.onlySelf&&this._parent._updatePristine(j)}markAsPending(j={}){this.status=Bi,!1!==j.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!j.onlySelf&&this._parent.markAsPending(j)}disable(j={}){const F=this._parentMarkedDirty(j.onlySelf);this.status=nr,this.errors=null,this._forEachChild(De=>{De.disable(Object.assign(Object.assign({},j),{onlySelf:!0}))}),this._updateValue(),!1!==j.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},j),{skipPristineCheck:F})),this._onDisabledChange.forEach(De=>De(!0))}enable(j={}){const F=this._parentMarkedDirty(j.onlySelf);this.status=Di,this._forEachChild(De=>{De.enable(Object.assign(Object.assign({},j),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:j.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},j),{skipPristineCheck:F})),this._onDisabledChange.forEach(De=>De(!1))}_updateAncestors(j){this._parent&&!j.onlySelf&&(this._parent.updateValueAndValidity(j),j.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(j){this._parent=j}updateValueAndValidity(j={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Di||this.status===Bi)&&this._runAsyncValidator(j.emitEvent)),!1!==j.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!j.onlySelf&&this._parent.updateValueAndValidity(j)}_updateTreeValidity(j={emitEvent:!0}){this._forEachChild(F=>F._updateTreeValidity(j)),this.updateValueAndValidity({onlySelf:!0,emitEvent:j.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?nr:Di}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(j){if(this.asyncValidator){this.status=Bi,this._hasOwnPendingAsyncValidator=!0;const F=zt(this.asyncValidator(this));this._asyncValidationSubscription=F.subscribe(De=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(De,{emitEvent:j})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(j,F={}){this.errors=j,this._updateControlsErrors(!1!==F.emitEvent)}get(j){return function Yi(Z,j,F){if(null==j||(Array.isArray(j)||(j=j.split(F)),Array.isArray(j)&&0===j.length))return null;let De=Z;return j.forEach(en=>{De=tn(De)?De.controls.hasOwnProperty(en)?De.controls[en]:null:bn(De)&&De.at(en)||null}),De}(this,j,".")}getError(j,F){const De=F?this.get(F):this;return De&&De.errors?De.errors[j]:null}hasError(j,F){return!!this.getError(j,F)}get root(){let j=this;for(;j._parent;)j=j._parent;return j}_updateControlsErrors(j){this.status=this._calculateStatus(),j&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(j)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?nr:this.errors?Vi:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Bi)?Bi:this._anyControlsHaveStatus(Vi)?Vi:Di}_anyControlsHaveStatus(j){return this._anyControls(F=>F.status===j)}_anyControlsDirty(){return this._anyControls(j=>j.dirty)}_anyControlsTouched(){return this._anyControls(j=>j.touched)}_updatePristine(j={}){this.pristine=!this._anyControlsDirty(),this._parent&&!j.onlySelf&&this._parent._updatePristine(j)}_updateTouched(j={}){this.touched=this._anyControlsTouched(),this._parent&&!j.onlySelf&&this._parent._updateTouched(j)}_isBoxedValue(j){return"object"==typeof j&&null!==j&&2===Object.keys(j).length&&"value"in j&&"disabled"in j}_registerOnCollectionChange(j){this._onCollectionChange=j}_setUpdateStrategy(j){qe(j)&&null!=j.updateOn&&(this._updateOn=j.updateOn)}_parentMarkedDirty(j){return!j&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class zn extends si{constructor(j=null,F,De){super(Ji(F),Ne(De,F)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(j),this._setUpdateStrategy(F),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),qe(F)&&F.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(j)?j.value:j)}setValue(j,F={}){this.value=this._pendingValue=j,this._onChange.length&&!1!==F.emitModelToViewChange&&this._onChange.forEach(De=>De(this.value,!1!==F.emitViewToModelChange)),this.updateValueAndValidity(F)}patchValue(j,F={}){this.setValue(j,F)}reset(j=this.defaultValue,F={}){this._applyFormState(j),this.markAsPristine(F),this.markAsUntouched(F),this.setValue(this.value,F),this._pendingChange=!1}_updateValue(){}_anyControls(j){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(j){this._onChange.push(j)}_unregisterOnChange(j){Mn(this._onChange,j)}registerOnDisabledChange(j){this._onDisabledChange.push(j)}_unregisterOnDisabledChange(j){Mn(this._onDisabledChange,j)}_forEachChild(j){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(j){this._isBoxedValue(j)?(this.value=this._pendingValue=j.value,j.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=j}}class Si extends si{constructor(j,F,De){super(Ji(F),Ne(De,F)),this.controls=j,this._initObservables(),this._setUpdateStrategy(F),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(j,F){return this.controls[j]?this.controls[j]:(this.controls[j]=F,F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange),F)}addControl(j,F,De={}){this.registerControl(j,F),this.updateValueAndValidity({emitEvent:De.emitEvent}),this._onCollectionChange()}removeControl(j,F={}){this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),delete this.controls[j],this.updateValueAndValidity({emitEvent:F.emitEvent}),this._onCollectionChange()}setControl(j,F,De={}){this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),delete this.controls[j],F&&this.registerControl(j,F),this.updateValueAndValidity({emitEvent:De.emitEvent}),this._onCollectionChange()}contains(j){return this.controls.hasOwnProperty(j)&&this.controls[j].enabled}setValue(j,F={}){Pi(this,j),Object.keys(j).forEach(De=>{Bn(this,De),this.controls[De].setValue(j[De],{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F)}patchValue(j,F={}){null!=j&&(Object.keys(j).forEach(De=>{this.controls[De]&&this.controls[De].patchValue(j[De],{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F))}reset(j={},F={}){this._forEachChild((De,en)=>{De.reset(j[en],{onlySelf:!0,emitEvent:F.emitEvent})}),this._updatePristine(F),this._updateTouched(F),this.updateValueAndValidity(F)}getRawValue(){return this._reduceChildren({},(j,F,De)=>(j[De]=ei(F),j))}_syncPendingControls(){let j=this._reduceChildren(!1,(F,De)=>!!De._syncPendingControls()||F);return j&&this.updateValueAndValidity({onlySelf:!0}),j}_forEachChild(j){Object.keys(this.controls).forEach(F=>{const De=this.controls[F];De&&j(De,F)})}_setUpControls(){this._forEachChild(j=>{j.setParent(this),j._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(j){for(const F of Object.keys(this.controls)){const De=this.controls[F];if(this.contains(F)&&j(De))return!0}return!1}_reduceValue(){return this._reduceChildren({},(j,F,De)=>((F.enabled||this.disabled)&&(j[De]=F.value),j))}_reduceChildren(j,F){let De=j;return this._forEachChild((en,Ln)=>{De=F(De,en,Ln)}),De}_allControlsDisabled(){for(const j of Object.keys(this.controls))if(this.controls[j].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class er extends si{constructor(j,F,De){super(Ji(F),Ne(De,F)),this.controls=j,this._initObservables(),this._setUpdateStrategy(F),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(j){return this.controls[j]}push(j,F={}){this.controls.push(j),this._registerControl(j),this.updateValueAndValidity({emitEvent:F.emitEvent}),this._onCollectionChange()}insert(j,F,De={}){this.controls.splice(j,0,F),this._registerControl(F),this.updateValueAndValidity({emitEvent:De.emitEvent})}removeAt(j,F={}){this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),this.controls.splice(j,1),this.updateValueAndValidity({emitEvent:F.emitEvent})}setControl(j,F,De={}){this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),this.controls.splice(j,1),F&&(this.controls.splice(j,0,F),this._registerControl(F)),this.updateValueAndValidity({emitEvent:De.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(j,F={}){Pi(this,j),j.forEach((De,en)=>{Bn(this,en),this.at(en).setValue(De,{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F)}patchValue(j,F={}){null!=j&&(j.forEach((De,en)=>{this.at(en)&&this.at(en).patchValue(De,{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F))}reset(j=[],F={}){this._forEachChild((De,en)=>{De.reset(j[en],{onlySelf:!0,emitEvent:F.emitEvent})}),this._updatePristine(F),this._updateTouched(F),this.updateValueAndValidity(F)}getRawValue(){return this.controls.map(j=>ei(j))}clear(j={}){this.controls.length<1||(this._forEachChild(F=>F._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:j.emitEvent}))}_syncPendingControls(){let j=this.controls.reduce((F,De)=>!!De._syncPendingControls()||F,!1);return j&&this.updateValueAndValidity({onlySelf:!0}),j}_forEachChild(j){this.controls.forEach((F,De)=>{j(F,De)})}_updateValue(){this.value=this.controls.filter(j=>j.enabled||this.disabled).map(j=>j.value)}_anyControls(j){return this.controls.some(F=>F.enabled&&j(F))}_setUpControls(){this._forEachChild(j=>this._registerControl(j))}_allControlsDisabled(){for(const j of this.controls)if(j.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(j){j.setParent(this),j._registerOnCollectionChange(this._onCollectionChange)}}const jr={provide:vn,useExisting:(0,a.Gpc)(()=>fi)},Wi=(()=>Promise.resolve(null))();let fi=(()=>{class Z extends vn{constructor(F,De){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new a.vpe,this.form=new Si({},Lt(F),Wt(De))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(F){Wi.then(()=>{const De=this._findContainer(F.path);F.control=De.registerControl(F.name,F.control),mn(F.control,F),F.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(F)})}getControl(F){return this.form.get(F.path)}removeControl(F){Wi.then(()=>{const De=this._findContainer(F.path);De&&De.removeControl(F.name),this._directives.delete(F)})}addFormGroup(F){Wi.then(()=>{const De=this._findContainer(F.path),en=new Si({});Me(en,F),De.registerControl(F.name,en),en.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(F){Wi.then(()=>{const De=this._findContainer(F.path);De&&De.removeControl(F.name)})}getFormGroup(F){return this.form.get(F.path)}updateModel(F,De){Wi.then(()=>{this.form.get(F.path).setValue(De)})}setValue(F){this.control.setValue(F)}onSubmit(F){return this.submitted=!0,pt(this.form,this._directives),this.ngSubmit.emit(F),!1}onReset(){this.resetForm()}resetForm(F){this.form.reset(F),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(F){return F.pop(),F.length?this.form.get(F):this.form}}return Z.\u0275fac=function(F){return new(F||Z)(a.Y36(Re,10),a.Y36(Ke,10))},Z.\u0275dir=a.lG2({type:Z,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(F,De){1&F&&a.NdJ("submit",function(Ln){return De.onSubmit(Ln)})("reset",function(){return De.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([jr]),a.qOj]}),Z})(),pr=(()=>{class Z{}return Z.\u0275fac=function(F){return new(F||Z)},Z.\u0275dir=a.lG2({type:Z,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),Z})(),mr=(()=>{class Z{}return Z.\u0275fac=function(F){return new(F||Z)},Z.\u0275mod=a.oAB({type:Z}),Z.\u0275inj=a.cJS({}),Z})();const To=new a.OlP("NgModelWithFormControlWarning"),_s={provide:vn,useExisting:(0,a.Gpc)(()=>vs)};let vs=(()=>{class Z extends vn{constructor(F,De){super(),this.validators=F,this.asyncValidators=De,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(F),this._setAsyncValidators(De)}ngOnChanges(F){this._checkFormPresent(),F.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(O(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(F){const De=this.form.get(F.path);return mn(De,F),De.updateValueAndValidity({emitEvent:!1}),this.directives.push(F),De}getControl(F){return this.form.get(F.path)}removeControl(F){mi(F.control||null,F,!1),Mn(this.directives,F)}addFormGroup(F){this._setUpFormContainer(F)}removeFormGroup(F){this._cleanUpFormContainer(F)}getFormGroup(F){return this.form.get(F.path)}addFormArray(F){this._setUpFormContainer(F)}removeFormArray(F){this._cleanUpFormContainer(F)}getFormArray(F){return this.form.get(F.path)}updateModel(F,De){this.form.get(F.path).setValue(De)}onSubmit(F){return this.submitted=!0,pt(this.form,this.directives),this.ngSubmit.emit(F),!1}onReset(){this.resetForm()}resetForm(F){this.form.reset(F),this.submitted=!1}_updateDomValue(){this.directives.forEach(F=>{const De=F.control,en=this.form.get(F.path);De!==en&&(mi(De||null,F),kt(en)&&(mn(en,F),F.control=en))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(F){const De=this.form.get(F.path);Me(De,F),De.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(F){if(this.form){const De=this.form.get(F.path);De&&function Ie(Z,j){return O(Z,j)}(De,F)&&De.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){W(this.form,this),this._oldForm&&O(this._oldForm,this)}_checkFormPresent(){}}return Z.\u0275fac=function(F){return new(F||Z)(a.Y36(Re,10),a.Y36(Ke,10))},Z.\u0275dir=a.lG2({type:Z,selectors:[["","formGroup",""]],hostBindings:function(F,De){1&F&&a.NdJ("submit",function(Ln){return De.onSubmit(Ln)})("reset",function(){return De.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([_s]),a.qOj,a.TTD]}),Z})();const js={provide:fn,useExisting:(0,a.Gpc)(()=>zr)};let zr=(()=>{class Z extends fn{constructor(F,De,en,Ln,ir){super(),this._ngModelWarningConfig=ir,this._added=!1,this.update=new a.vpe,this._ngModelWarningSent=!1,this._parent=F,this._setValidators(De),this._setAsyncValidators(en),this.valueAccessor=function Gt(Z,j){if(!j)return null;let F,De,en;return Array.isArray(j),j.forEach(Ln=>{Ln.constructor===Fe?F=Ln:function Ve(Z){return Object.getPrototypeOf(Z.constructor)===ye}(Ln)?De=Ln:en=Ln}),en||De||F||null}(0,Ln)}set isDisabled(F){}ngOnChanges(F){this._added||this._setUpControl(),function ze(Z,j){if(!Z.hasOwnProperty("model"))return!1;const F=Z.model;return!!F.isFirstChange()||!Object.is(j,F.currentValue)}(F,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(F){this.viewModel=F,this.update.emit(F)}get path(){return function ri(Z,j){return[...j.path,Z]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return Z._ngModelWarningSentOnce=!1,Z.\u0275fac=function(F){return new(F||Z)(a.Y36(vn,13),a.Y36(Re,10),a.Y36(Ke,10),a.Y36(be,10),a.Y36(To,8))},Z.\u0275dir=a.lG2({type:Z,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a._Bn([js]),a.qOj,a.TTD]}),Z})(),Ki=(()=>{class Z{constructor(){this._validator=jt}ngOnChanges(F){if(this.inputName in F){const De=this.normalizeInput(F[this.inputName].currentValue);this._enabled=this.enabled(De),this._validator=this._enabled?this.createValidator(De):jt,this._onChange&&this._onChange()}}validate(F){return this._validator(F)}registerOnValidatorChange(F){this._onChange=F}enabled(F){return null!=F}}return Z.\u0275fac=function(F){return new(F||Z)},Z.\u0275dir=a.lG2({type:Z,features:[a.TTD]}),Z})();const Fs={provide:Re,useExisting:(0,a.Gpc)(()=>qs),multi:!0},Ss={provide:Re,useExisting:(0,a.Gpc)(()=>Pr),multi:!0};let qs=(()=>{class Z extends Ki{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=F=>function bi(Z){return null!=Z&&!1!==Z&&"false"!=`${Z}`}(F),this.createValidator=F=>Ce}enabled(F){return F}}return Z.\u0275fac=function(){let j;return function(De){return(j||(j=a.n5z(Z)))(De||Z)}}(),Z.\u0275dir=a.lG2({type:Z,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(F,De){2&F&&a.uIk("required",De._enabled?"":null)},inputs:{required:"required"},features:[a._Bn([Fs]),a.qOj]}),Z})(),Pr=(()=>{class Z extends qs{constructor(){super(...arguments),this.createValidator=F=>Be}}return Z.\u0275fac=function(){let j;return function(De){return(j||(j=a.n5z(Z)))(De||Z)}}(),Z.\u0275dir=a.lG2({type:Z,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(F,De){2&F&&a.uIk("required",De._enabled?"":null)},features:[a._Bn([Ss]),a.qOj]}),Z})(),Oi=(()=>{class Z{}return Z.\u0275fac=function(F){return new(F||Z)},Z.\u0275mod=a.oAB({type:Z}),Z.\u0275inj=a.cJS({imports:[[mr]]}),Z})(),Jn=(()=>{class Z{}return Z.\u0275fac=function(F){return new(F||Z)},Z.\u0275mod=a.oAB({type:Z}),Z.\u0275inj=a.cJS({imports:[Oi]}),Z})(),Ei=(()=>{class Z{static withConfig(F){return{ngModule:Z,providers:[{provide:To,useValue:F.warnOnNgModelWithFormControl}]}}}return Z.\u0275fac=function(F){return new(F||Z)},Z.\u0275mod=a.oAB({type:Z}),Z.\u0275inj=a.cJS({imports:[Oi]}),Z})(),Ri=(()=>{class Z{group(F,De=null){const en=this._reduceControls(F);let Fr,Ln=null,ir=null;return null!=De&&(function or(Z){return void 0!==Z.asyncValidators||void 0!==Z.validators||void 0!==Z.updateOn}(De)?(Ln=null!=De.validators?De.validators:null,ir=null!=De.asyncValidators?De.asyncValidators:null,Fr=null!=De.updateOn?De.updateOn:void 0):(Ln=null!=De.validator?De.validator:null,ir=null!=De.asyncValidator?De.asyncValidator:null)),new Si(en,{asyncValidators:ir,updateOn:Fr,validators:Ln})}control(F,De,en){return new zn(F,De,en)}array(F,De,en){const Ln=F.map(ir=>this._createControl(ir));return new er(Ln,De,en)}_reduceControls(F){const De={};return Object.keys(F).forEach(en=>{De[en]=this._createControl(F[en])}),De}_createControl(F){return kt(F)||tn(F)||bn(F)?F:Array.isArray(F)?this.control(F[0],F.length>1?F[1]:null,F.length>2?F[2]:null):this.control(F)}}return Z.\u0275fac=function(F){return new(F||Z)},Z.\u0275prov=a.Yz7({token:Z,factory:Z.\u0275fac,providedIn:Ei}),Z})()},9832:(on,st,D)=>{D.d(st,{A9:()=>Fe,Yi:()=>et,vV:()=>Re});var a=D(3191),R=D(449),b=D(5e3),te=D(3075),v=D(508),ce=D(8255);const ye=["button"],be=["*"],z=new b.OlP("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),B=new b.OlP("MatButtonToggleGroup"),re={provide:te.JU,useExisting:(0,b.Gpc)(()=>Fe),multi:!0};let xe=0;class We{constructor(_t,lt){this.source=_t,this.value=lt}}let Fe=(()=>{class Ke{constructor(lt,ue){this._changeDetector=lt,this._vertical=!1,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+xe++,this.valueChange=new b.vpe,this.change=new b.vpe,this.appearance=ue&&ue.appearance?ue.appearance:"standard"}get name(){return this._name}set name(lt){this._name=lt,this._buttonToggles&&this._buttonToggles.forEach(ue=>{ue.name=this._name,ue._markForCheck()})}get vertical(){return this._vertical}set vertical(lt){this._vertical=(0,a.Ig)(lt)}get value(){const lt=this._selectionModel?this._selectionModel.selected:[];return this.multiple?lt.map(ue=>ue.value):lt[0]?lt[0].value:void 0}set value(lt){this._setSelectionByValue(lt),this.valueChange.emit(this.value)}get selected(){const lt=this._selectionModel?this._selectionModel.selected:[];return this.multiple?lt:lt[0]||null}get multiple(){return this._multiple}set multiple(lt){this._multiple=(0,a.Ig)(lt)}get disabled(){return this._disabled}set disabled(lt){this._disabled=(0,a.Ig)(lt),this._buttonToggles&&this._buttonToggles.forEach(ue=>ue._markForCheck())}ngOnInit(){this._selectionModel=new R.Ov(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(lt=>lt.checked))}writeValue(lt){this.value=lt,this._changeDetector.markForCheck()}registerOnChange(lt){this._controlValueAccessorChangeFn=lt}registerOnTouched(lt){this._onTouched=lt}setDisabledState(lt){this.disabled=lt}_emitChangeEvent(){const lt=this.selected,ue=Array.isArray(lt)?lt[lt.length-1]:lt,me=new We(ue,this.value);this._controlValueAccessorChangeFn(me.value),this.change.emit(me)}_syncButtonToggle(lt,ue,me=!1,Ce=!1){!this.multiple&&this.selected&&!lt.checked&&(this.selected.checked=!1),this._selectionModel?ue?this._selectionModel.select(lt):this._selectionModel.deselect(lt):Ce=!0,Ce?Promise.resolve().then(()=>this._updateModelValue(me)):this._updateModelValue(me)}_isSelected(lt){return this._selectionModel&&this._selectionModel.isSelected(lt)}_isPrechecked(lt){return void 0!==this._rawValue&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(ue=>null!=lt.value&&ue===lt.value):lt.value===this._rawValue)}_setSelectionByValue(lt){this._rawValue=lt,this._buttonToggles&&(this.multiple&&lt?(Array.isArray(lt),this._clearSelection(),lt.forEach(ue=>this._selectValue(ue))):(this._clearSelection(),this._selectValue(lt)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(lt=>lt.checked=!1)}_selectValue(lt){const ue=this._buttonToggles.find(me=>null!=me.value&&me.value===lt);ue&&(ue.checked=!0,this._selectionModel.select(ue))}_updateModelValue(lt){lt&&this._emitChangeEvent(),this.valueChange.emit(this.value)}}return Ke.\u0275fac=function(lt){return new(lt||Ke)(b.Y36(b.sBO),b.Y36(z,8))},Ke.\u0275dir=b.lG2({type:Ke,selectors:[["mat-button-toggle-group"]],contentQueries:function(lt,ue,me){if(1&lt&&b.Suo(me,et,5),2&lt){let Ce;b.iGM(Ce=b.CRH())&&(ue._buttonToggles=Ce)}},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(lt,ue){2&lt&&(b.uIk("aria-disabled",ue.disabled),b.ekj("mat-button-toggle-vertical",ue.vertical)("mat-button-toggle-group-appearance-standard","standard"===ue.appearance))},inputs:{appearance:"appearance",name:"name",vertical:"vertical",value:"value",multiple:"multiple",disabled:"disabled"},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[b._Bn([re,{provide:B,useExisting:Ke}])]}),Ke})();const ot=(0,v.Kr)(class{});let et=(()=>{class Ke extends ot{constructor(lt,ue,me,Ce,Be,Ge){super(),this._changeDetectorRef=ue,this._elementRef=me,this._focusMonitor=Ce,this._isSingleSelector=!1,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new b.vpe;const de=Number(Be);this.tabIndex=de||0===de?de:null,this.buttonToggleGroup=lt,this.appearance=Ge&&Ge.appearance?Ge.appearance:"standard"}get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(lt){this._appearance=lt}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(lt){const ue=(0,a.Ig)(lt);ue!==this._checked&&(this._checked=ue,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(lt){this._disabled=(0,a.Ig)(lt)}ngOnInit(){const lt=this.buttonToggleGroup;this._isSingleSelector=lt&&!lt.multiple,this.id=this.id||"mat-button-toggle-"+xe++,this._isSingleSelector&&(this.name=lt.name),lt&&(lt._isPrechecked(this)?this.checked=!0:lt._isSelected(this)!==this._checked&&lt._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const lt=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),lt&&lt._isSelected(this)&&lt._syncButtonToggle(this,!1,!1,!0)}focus(lt){this._buttonElement.nativeElement.focus(lt)}_onButtonClick(){const lt=!!this._isSingleSelector||!this._checked;lt!==this._checked&&(this._checked=lt,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new We(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}}return Ke.\u0275fac=function(lt){return new(lt||Ke)(b.Y36(B,8),b.Y36(b.sBO),b.Y36(b.SBq),b.Y36(ce.tE),b.$8M("tabindex"),b.Y36(z,8))},Ke.\u0275cmp=b.Xpm({type:Ke,selectors:[["mat-button-toggle"]],viewQuery:function(lt,ue){if(1&lt&&b.Gf(ye,5),2&lt){let me;b.iGM(me=b.CRH())&&(ue._buttonElement=me.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(lt,ue){1&lt&&b.NdJ("focus",function(){return ue.focus()}),2&lt&&(b.uIk("aria-label",null)("aria-labelledby",null)("id",ue.id)("name",null),b.ekj("mat-button-toggle-standalone",!ue.buttonToggleGroup)("mat-button-toggle-checked",ue.checked)("mat-button-toggle-disabled",ue.disabled)("mat-button-toggle-appearance-standard","standard"===ue.appearance))},inputs:{disableRipple:"disableRipple",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[b.qOj],ngContentSelectors:be,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(lt,ue){if(1&lt&&(b.F$t(),b.TgZ(0,"button",0,1),b.NdJ("click",function(){return ue._onButtonClick()}),b.TgZ(2,"span",2),b.Hsn(3),b.qZA()(),b._UZ(4,"span",3)(5,"span",4)),2&lt){const me=b.MAs(1);b.Q6J("id",ue.buttonId)("disabled",ue.disabled||null),b.uIk("tabindex",ue.disabled?-1:ue.tabIndex)("aria-pressed",ue.checked)("name",ue.name||null)("aria-label",ue.ariaLabel)("aria-labelledby",ue.ariaLabelledby),b.xp6(5),b.Q6J("matRippleTrigger",me)("matRippleDisabled",ue.disableRipple||ue.disabled)}},directives:[v.wG],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;border-radius:2px;-webkit-tap-highlight-color:transparent;transform:translateZ(0)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:4px}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:1}.cdk-high-contrast-active .mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:.5}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:.04}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.12}.cdk-high-contrast-active .mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.5}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{border-radius:inherit;pointer-events:none;opacity:0;top:0;left:0;right:0;bottom:0;position:absolute}.mat-button-toggle-checked .cdk-high-contrast-active .mat-button-toggle-focus-overlay{border-bottom:solid 36px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}\n"],encapsulation:2,changeDetection:0}),Ke})(),Re=(()=>{class Ke{}return Ke.\u0275fac=function(lt){return new(lt||Ke)},Ke.\u0275mod=b.oAB({type:Ke}),Ke.\u0275inj=b.cJS({imports:[[v.BQ,v.si],v.BQ]}),Ke})()},7423:(on,st,D)=>{D.d(st,{lW:()=>re,ot:()=>We});var a=D(5e3),R=D(508),b=D(6360),te=D(8255);const v=["mat-button",""],ce=["*"],z=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],B=(0,R.pj)((0,R.Id)((0,R.Kr)(class{constructor(Fe){this._elementRef=Fe}})));let re=(()=>{class Fe extends B{constructor(et,Re,Ke){super(et),this._focusMonitor=Re,this._animationMode=Ke,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const _t of z)this._hasHostAttributes(_t)&&this._getHostElement().classList.add(_t);et.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(et,Re){et?this._focusMonitor.focusVia(this._getHostElement(),et,Re):this._getHostElement().focus(Re)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...et){return et.some(Re=>this._getHostElement().hasAttribute(Re))}}return Fe.\u0275fac=function(et){return new(et||Fe)(a.Y36(a.SBq),a.Y36(te.tE),a.Y36(b.Qb,8))},Fe.\u0275cmp=a.Xpm({type:Fe,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(et,Re){if(1&et&&a.Gf(R.wG,5),2&et){let Ke;a.iGM(Ke=a.CRH())&&(Re.ripple=Ke.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(et,Re){2&et&&(a.uIk("disabled",Re.disabled||null),a.ekj("_mat-animation-noopable","NoopAnimations"===Re._animationMode)("mat-button-disabled",Re.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[a.qOj],attrs:v,ngContentSelectors:ce,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(et,Re){1&et&&(a.F$t(),a.TgZ(0,"span",0),a.Hsn(1),a.qZA(),a._UZ(2,"span",1)(3,"span",2)),2&et&&(a.xp6(2),a.ekj("mat-button-ripple-round",Re.isRoundButton||Re.isIconButton),a.Q6J("matRippleDisabled",Re._isRippleDisabled())("matRippleCentered",Re.isIconButton)("matRippleTrigger",Re._getHostElement()))},directives:[R.wG],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),Fe})(),We=(()=>{class Fe{}return Fe.\u0275fac=function(et){return new(et||Fe)},Fe.\u0275mod=a.oAB({type:Fe}),Fe.\u0275inj=a.cJS({imports:[[R.si,R.BQ],R.BQ]}),Fe})()},9224:(on,st,D)=>{D.d(st,{QW:()=>Be,a8:()=>ue,dn:()=>B,n5:()=>re});var a=D(5e3),R=D(6360),b=D(508);const te=["*",[["mat-card-footer"]]],v=["*","mat-card-footer"];let B=(()=>{class Ge{}return Ge.\u0275fac=function(ut){return new(ut||Ge)},Ge.\u0275dir=a.lG2({type:Ge,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),Ge})(),re=(()=>{class Ge{}return Ge.\u0275fac=function(ut){return new(ut||Ge)},Ge.\u0275dir=a.lG2({type:Ge,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),Ge})(),ue=(()=>{class Ge{constructor(ut){this._animationMode=ut}}return Ge.\u0275fac=function(ut){return new(ut||Ge)(a.Y36(R.Qb,8))},Ge.\u0275cmp=a.Xpm({type:Ge,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(ut,Qe){2&ut&&a.ekj("_mat-animation-noopable","NoopAnimations"===Qe._animationMode)},exportAs:["matCard"],ngContentSelectors:v,decls:2,vars:0,template:function(ut,Qe){1&ut&&(a.F$t(te),a.Hsn(0),a.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),Ge})(),Be=(()=>{class Ge{}return Ge.\u0275fac=function(ut){return new(ut||Ge)},Ge.\u0275mod=a.oAB({type:Ge}),Ge.\u0275inj=a.cJS({imports:[[b.BQ],b.BQ]}),Ge})()},508:(on,st,D)=>{D.d(st,{yN:()=>Ke,mZ:()=>_t,_A:()=>xt,rD:()=>Le,sG:()=>Vt,BQ:()=>me,X2:()=>tt,uc:()=>rn,XK:()=>Ze,Ng:()=>Sn,rN:()=>ii,nP:()=>oe,us:()=>_e,wG:()=>ct,si:()=>X,CB:()=>mn,jH:()=>mi,pj:()=>ut,Kr:()=>Qe,Id:()=>de,FD:()=>bt,dB:()=>zt,sb:()=>jt,E0:()=>Je});var a=D(5e3),R=D(226),te=D(9808),v=D(925),ce=D(8255),ye=D(3191),be=D(7579),z=D(8306),B=D(8675),re=D(6360);let Ke=(()=>{class At{}return At.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",At.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",At.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",At.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",At})(),_t=(()=>{class At{}return At.COMPLEX="375ms",At.ENTERING="225ms",At.EXITING="195ms",At})();const ue=new a.OlP("mat-sanity-checks",{providedIn:"root",factory:function lt(){return!0}});let me=(()=>{class At{constructor(O,m,x){this._sanityChecks=m,this._document=x,this._hasDoneGlobalChecks=!1,O._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(O){return!(0,v.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[O])}}return At.\u0275fac=function(O){return new(O||At)(a.LFG(ce.qm),a.LFG(ue,8),a.LFG(te.K0))},At.\u0275mod=a.oAB({type:At}),At.\u0275inj=a.cJS({imports:[[R.vT],R.vT]}),At})();function de(At){return class extends At{constructor(...W){super(...W),this._disabled=!1}get disabled(){return this._disabled}set disabled(W){this._disabled=(0,ye.Ig)(W)}}}function ut(At,W){return class extends At{constructor(...O){super(...O),this.defaultColor=W,this.color=W}get color(){return this._color}set color(O){const m=O||this.defaultColor;m!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),m&&this._elementRef.nativeElement.classList.add(`mat-${m}`),this._color=m)}}}function Qe(At){return class extends At{constructor(...W){super(...W),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(W){this._disableRipple=(0,ye.Ig)(W)}}}function jt(At,W=0){return class extends At{constructor(...O){super(...O),this._tabIndex=W,this.defaultTabIndex=W}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(O){this._tabIndex=null!=O?(0,ye.su)(O):this.defaultTabIndex}}}function bt(At){return class extends At{constructor(...W){super(...W),this.stateChanges=new be.x,this.errorState=!1}updateErrorState(){const W=this.errorState,U=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);U!==W&&(this.errorState=U,this.stateChanges.next())}}}function zt(At){return class extends At{constructor(...W){super(...W),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new z.y(O=>{this._isInitialized?this._notifySubscriber(O):this._pendingSubscribers.push(O)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(W){W.next(),W.complete()}}}const rt=new a.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function Ft(){return(0,a.f3M)(a.soG)}});class xt{constructor(){this._localeChanges=new be.x,this.localeChanges=this._localeChanges}getValidDateOrNull(W){return this.isDateInstance(W)&&this.isValid(W)?W:null}deserialize(W){return null==W||this.isDateInstance(W)&&this.isValid(W)?W:this.invalid()}setLocale(W){this.locale=W,this._localeChanges.next()}compareDate(W,O){return this.getYear(W)-this.getYear(O)||this.getMonth(W)-this.getMonth(O)||this.getDate(W)-this.getDate(O)}sameDate(W,O){if(W&&O){let m=this.isValid(W),x=this.isValid(O);return m&&x?!this.compareDate(W,O):m==x}return W==O}clampDate(W,O,m){return O&&this.compareDate(W,O)<0?O:m&&this.compareDate(W,m)>0?m:W}}const Vt=new a.OlP("mat-date-formats"),Rt=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function Lt(At,W){const O=Array(At);for(let m=0;m<At;m++)O[m]=W(m);return O}let dn=(()=>{class At extends xt{constructor(O,m){super(),this.useUtcForDisplay=!1,super.setLocale(O)}getYear(O){return O.getFullYear()}getMonth(O){return O.getMonth()}getDate(O){return O.getDate()}getDayOfWeek(O){return O.getDay()}getMonthNames(O){const m=new Intl.DateTimeFormat(this.locale,{month:O,timeZone:"utc"});return Lt(12,x=>this._format(m,new Date(2017,x,1)))}getDateNames(){const O=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return Lt(31,m=>this._format(O,new Date(2017,0,m+1)))}getDayOfWeekNames(O){const m=new Intl.DateTimeFormat(this.locale,{weekday:O,timeZone:"utc"});return Lt(7,x=>this._format(m,new Date(2017,0,x+1)))}getYearName(O){const m=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(m,O)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(O){return this.getDate(this._createDateWithOverflow(this.getYear(O),this.getMonth(O)+1,0))}clone(O){return new Date(O.getTime())}createDate(O,m,x){let U=this._createDateWithOverflow(O,m,x);return U.getMonth(),U}today(){return new Date}parse(O){return"number"==typeof O?new Date(O):O?new Date(Date.parse(O)):null}format(O,m){if(!this.isValid(O))throw Error("NativeDateAdapter: Cannot format invalid date.");const x=new Intl.DateTimeFormat(this.locale,Object.assign(Object.assign({},m),{timeZone:"utc"}));return this._format(x,O)}addCalendarYears(O,m){return this.addCalendarMonths(O,12*m)}addCalendarMonths(O,m){let x=this._createDateWithOverflow(this.getYear(O),this.getMonth(O)+m,this.getDate(O));return this.getMonth(x)!=((this.getMonth(O)+m)%12+12)%12&&(x=this._createDateWithOverflow(this.getYear(x),this.getMonth(x),0)),x}addCalendarDays(O,m){return this._createDateWithOverflow(this.getYear(O),this.getMonth(O),this.getDate(O)+m)}toIso8601(O){return[O.getUTCFullYear(),this._2digit(O.getUTCMonth()+1),this._2digit(O.getUTCDate())].join("-")}deserialize(O){if("string"==typeof O){if(!O)return null;if(Rt.test(O)){let m=new Date(O);if(this.isValid(m))return m}}return super.deserialize(O)}isDateInstance(O){return O instanceof Date}isValid(O){return!isNaN(O.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(O,m,x){const U=new Date;return U.setFullYear(O,m,x),U.setHours(0,0,0,0),U}_2digit(O){return("00"+O).slice(-2)}_format(O,m){const x=new Date;return x.setUTCFullYear(m.getFullYear(),m.getMonth(),m.getDate()),x.setUTCHours(m.getHours(),m.getMinutes(),m.getSeconds(),m.getMilliseconds()),O.format(x)}}return At.\u0275fac=function(O){return new(O||At)(a.LFG(rt,8),a.LFG(v.t4))},At.\u0275prov=a.Yz7({token:At,factory:At.\u0275fac}),At})();const Wt={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let Ut=(()=>{class At{}return At.\u0275fac=function(O){return new(O||At)},At.\u0275mod=a.oAB({type:At}),At.\u0275inj=a.cJS({providers:[{provide:xt,useClass:dn}]}),At})(),Ze=(()=>{class At{}return At.\u0275fac=function(O){return new(O||At)},At.\u0275mod=a.oAB({type:At}),At.\u0275inj=a.cJS({providers:[{provide:Vt,useValue:Wt}],imports:[[Ut]]}),At})(),Le=(()=>{class At{isErrorState(O,m){return!!(O&&O.invalid&&(O.touched||m&&m.submitted))}}return At.\u0275fac=function(O){return new(O||At)},At.\u0275prov=a.Yz7({token:At,factory:At.\u0275fac,providedIn:"root"}),At})(),tt=(()=>{class At{}return At.\u0275fac=function(O){return new(O||At)},At.\u0275dir=a.lG2({type:At,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),At})();function Je(At,W,O="mat"){At.changes.pipe((0,B.O)(At)).subscribe(({length:m})=>{Mt(W,`${O}-2-line`,!1),Mt(W,`${O}-3-line`,!1),Mt(W,`${O}-multi-line`,!1),2===m||3===m?Mt(W,`${O}-${m}-line`,!0):m>3&&Mt(W,`${O}-multi-line`,!0)})}function Mt(At,W,O){At.nativeElement.classList.toggle(W,O)}let rn=(()=>{class At{}return At.\u0275fac=function(O){return new(O||At)},At.\u0275mod=a.oAB({type:At}),At.\u0275inj=a.cJS({imports:[[me],me]}),At})();class fn{constructor(W,O,m){this._renderer=W,this.element=O,this.config=m,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const vn={enterDuration:225,exitDuration:150},ni=(0,v.i$)({passive:!0}),Qt=["mousedown","touchstart"],fe=["mouseup","mouseleave","touchend","touchcancel"];class $e{constructor(W,O,m,x){this._target=W,this._ngZone=O,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,x.isBrowser&&(this._containerElement=(0,ye.fI)(m))}fadeInRipple(W,O,m={}){const x=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),U=Object.assign(Object.assign({},vn),m.animation);m.centered&&(W=x.left+x.width/2,O=x.top+x.height/2);const Se=m.radius||function Ht(At,W,O){const m=Math.max(Math.abs(At-O.left),Math.abs(At-O.right)),x=Math.max(Math.abs(W-O.top),Math.abs(W-O.bottom));return Math.sqrt(m*m+x*x)}(W,O,x),Me=W-x.left,Ie=O-x.top,je=U.enterDuration,It=document.createElement("div");It.classList.add("mat-ripple-element"),It.style.left=Me-Se+"px",It.style.top=Ie-Se+"px",It.style.height=2*Se+"px",It.style.width=2*Se+"px",null!=m.color&&(It.style.backgroundColor=m.color),It.style.transitionDuration=`${je}ms`,this._containerElement.appendChild(It),function vt(At){window.getComputedStyle(At).getPropertyValue("opacity")}(It),It.style.transform="scale(1)";const Et=new fn(this,It,m);return Et.state=0,this._activeRipples.add(Et),m.persistent||(this._mostRecentTransientRipple=Et),this._runTimeoutOutsideZone(()=>{const He=Et===this._mostRecentTransientRipple;Et.state=1,!m.persistent&&(!He||!this._isPointerDown)&&Et.fadeOut()},je),Et}fadeOutRipple(W){const O=this._activeRipples.delete(W);if(W===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!O)return;const m=W.element,x=Object.assign(Object.assign({},vn),W.config.animation);m.style.transitionDuration=`${x.exitDuration}ms`,m.style.opacity="0",W.state=2,this._runTimeoutOutsideZone(()=>{W.state=3,m.remove()},x.exitDuration)}fadeOutAll(){this._activeRipples.forEach(W=>W.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(W=>{W.config.persistent||W.fadeOut()})}setupTriggerEvents(W){const O=(0,ye.fI)(W);!O||O===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=O,this._registerEvents(Qt))}handleEvent(W){"mousedown"===W.type?this._onMousedown(W):"touchstart"===W.type?this._onTouchStart(W):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(fe),this._pointerUpEventsRegistered=!0)}_onMousedown(W){const O=(0,ce.X6)(W),m=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!O&&!m&&(this._isPointerDown=!0,this.fadeInRipple(W.clientX,W.clientY,this._target.rippleConfig))}_onTouchStart(W){if(!this._target.rippleDisabled&&!(0,ce.yG)(W)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const O=W.changedTouches;for(let m=0;m<O.length;m++)this.fadeInRipple(O[m].clientX,O[m].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(W=>{!W.config.persistent&&(1===W.state||W.config.terminateOnPointerUp&&0===W.state)&&W.fadeOut()}))}_runTimeoutOutsideZone(W,O=0){this._ngZone.runOutsideAngular(()=>setTimeout(W,O))}_registerEvents(W){this._ngZone.runOutsideAngular(()=>{W.forEach(O=>{this._triggerElement.addEventListener(O,this,ni)})})}_removeTriggerEvents(){this._triggerElement&&(Qt.forEach(W=>{this._triggerElement.removeEventListener(W,this,ni)}),this._pointerUpEventsRegistered&&fe.forEach(W=>{this._triggerElement.removeEventListener(W,this,ni)}))}}const Ye=new a.OlP("mat-ripple-global-options");let ct=(()=>{class At{constructor(O,m,x,U,Se){this._elementRef=O,this._animationMode=Se,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=U||{},this._rippleRenderer=new $e(this,m,O,x)}get disabled(){return this._disabled}set disabled(O){O&&this.fadeOutAllNonPersistent(),this._disabled=O,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(O){this._trigger=O,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(O,m=0,x){return"number"==typeof O?this._rippleRenderer.fadeInRipple(O,m,Object.assign(Object.assign({},this.rippleConfig),x)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),O))}}return At.\u0275fac=function(O){return new(O||At)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(v.t4),a.Y36(Ye,8),a.Y36(re.Qb,8))},At.\u0275dir=a.lG2({type:At,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(O,m){2&O&&a.ekj("mat-ripple-unbounded",m.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),At})(),X=(()=>{class At{}return At.\u0275fac=function(O){return new(O||At)},At.\u0275mod=a.oAB({type:At}),At.\u0275inj=a.cJS({imports:[[me],me]}),At})(),oe=(()=>{class At{constructor(O){this._animationMode=O,this.state="unchecked",this.disabled=!1}}return At.\u0275fac=function(O){return new(O||At)(a.Y36(re.Qb,8))},At.\u0275cmp=a.Xpm({type:At,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(O,m){2&O&&a.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===m.state)("mat-pseudo-checkbox-checked","checked"===m.state)("mat-pseudo-checkbox-disabled",m.disabled)("_mat-animation-noopable","NoopAnimations"===m._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(O,m){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),At})(),_e=(()=>{class At{}return At.\u0275fac=function(O){return new(O||At)},At.\u0275mod=a.oAB({type:At}),At.\u0275inj=a.cJS({imports:[[me]]}),At})();class ii{constructor(W,O=!1){this.source=W,this.isUserInput=O}}function mn(At,W,O){if(O.length){let m=W.toArray(),x=O.toArray(),U=0;for(let Se=0;Se<At+1;Se++)m[Se].group&&m[Se].group===x[U]&&U++;return U}return 0}function mi(At,W,O,m){return At<O?At:At+W>O+m?Math.max(0,At-m+W):O}let Sn=(()=>{class At{}return At.\u0275fac=function(O){return new(O||At)},At.\u0275mod=a.oAB({type:At}),At.\u0275inj=a.cJS({imports:[[X,te.ez,me,_e]]}),At})()},8966:(on,st,D)=>{D.d(st,{Is:()=>Pe,uw:()=>xt});var a=D(1314),R=D(7429),b=D(5e3),te=D(508),v=D(226),ce=D(7579),ye=D(9770),be=D(9646),z=D(9300),B=D(5698),re=D(8675),xe=D(925),We=D(9808),Fe=D(1777),ot=D(8255),et=D(1159),Re=D(6360);function Ke(Le,tt){}class _t{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const lt={dialogContainer:(0,Fe.X$)("dialogContainer",[(0,Fe.SB)("void, exit",(0,Fe.oB)({opacity:0,transform:"scale(0.7)"})),(0,Fe.SB)("enter",(0,Fe.oB)({transform:"none"})),(0,Fe.eR)("* => enter",(0,Fe.ru)([(0,Fe.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,Fe.oB)({transform:"none",opacity:1})),(0,Fe.IO)("@*",(0,Fe.pV)(),{optional:!0})])),(0,Fe.eR)("* => void, * => exit",(0,Fe.ru)([(0,Fe.jt)("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",(0,Fe.oB)({opacity:0})),(0,Fe.IO)("@*",(0,Fe.pV)(),{optional:!0})]))])};let me=(()=>{class Le extends R.en{constructor(Je,Mt,rn,fn,vn,Qn,ni,Qt){super(),this._elementRef=Je,this._focusTrapFactory=Mt,this._changeDetectorRef=rn,this._config=vn,this._interactivityChecker=Qn,this._ngZone=ni,this._focusMonitor=Qt,this._animationStateChanged=new b.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=fe=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(fe)),this._ariaLabelledBy=vn.ariaLabelledBy||null,this._document=fn}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,xe.ht)())}attachComponentPortal(Je){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(Je)}attachTemplatePortal(Je){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(Je)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(Je,Mt){this._interactivityChecker.isFocusable(Je)||(Je.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const rn=()=>{Je.removeEventListener("blur",rn),Je.removeEventListener("mousedown",rn),Je.removeAttribute("tabindex")};Je.addEventListener("blur",rn),Je.addEventListener("mousedown",rn)})),Je.focus(Mt)}_focusByCssSelector(Je,Mt){let rn=this._elementRef.nativeElement.querySelector(Je);rn&&this._forceFocus(rn,Mt)}_trapFocus(){const Je=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||Je.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(Mt=>{Mt||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const Je=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&Je&&"function"==typeof Je.focus){const Mt=(0,xe.ht)(),rn=this._elementRef.nativeElement;(!Mt||Mt===this._document.body||Mt===rn||rn.contains(Mt))&&(this._focusMonitor?(this._focusMonitor.focusVia(Je,this._closeInteractionType),this._closeInteractionType=null):Je.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const Je=this._elementRef.nativeElement,Mt=(0,xe.ht)();return Je===Mt||Je.contains(Mt)}}return Le.\u0275fac=function(Je){return new(Je||Le)(b.Y36(b.SBq),b.Y36(ot.qV),b.Y36(b.sBO),b.Y36(We.K0,8),b.Y36(_t),b.Y36(ot.ic),b.Y36(b.R0b),b.Y36(ot.tE))},Le.\u0275dir=b.lG2({type:Le,viewQuery:function(Je,Mt){if(1&Je&&b.Gf(R.Pl,7),2&Je){let rn;b.iGM(rn=b.CRH())&&(Mt._portalOutlet=rn.first)}},features:[b.qOj]}),Le})(),Ce=(()=>{class Le extends me{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:Je,totalTime:Mt}){"enter"===Je?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:Mt})):"exit"===Je&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:Mt}))}_onAnimationStart({toState:Je,totalTime:Mt}){"enter"===Je?this._animationStateChanged.next({state:"opening",totalTime:Mt}):("exit"===Je||"void"===Je)&&this._animationStateChanged.next({state:"closing",totalTime:Mt})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return Le.\u0275fac=function(){let tt;return function(Mt){return(tt||(tt=b.n5z(Le)))(Mt||Le)}}(),Le.\u0275cmp=b.Xpm({type:Le,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(Je,Mt){1&Je&&b.WFA("@dialogContainer.start",function(fn){return Mt._onAnimationStart(fn)})("@dialogContainer.done",function(fn){return Mt._onAnimationDone(fn)}),2&Je&&(b.Ikx("id",Mt._id),b.uIk("role",Mt._config.role)("aria-labelledby",Mt._config.ariaLabel?null:Mt._ariaLabelledBy)("aria-label",Mt._config.ariaLabel)("aria-describedby",Mt._config.ariaDescribedBy||null),b.d8E("@dialogContainer",Mt._state))},features:[b.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(Je,Mt){1&Je&&b.YNc(0,Ke,0,0,"ng-template",0)},directives:[R.Pl],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[lt.dialogContainer]}}),Le})(),Be=0;class Ge{constructor(tt,Je,Mt="mat-dialog-"+Be++){this._overlayRef=tt,this._containerInstance=Je,this.id=Mt,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new ce.x,this._afterClosed=new ce.x,this._beforeClosed=new ce.x,this._state=0,Je._id=Mt,Je._animationStateChanged.pipe((0,z.h)(rn=>"opened"===rn.state),(0,B.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),Je._animationStateChanged.pipe((0,z.h)(rn=>"closed"===rn.state),(0,B.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),tt.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),tt.keydownEvents().pipe((0,z.h)(rn=>rn.keyCode===et.hY&&!this.disableClose&&!(0,et.Vb)(rn))).subscribe(rn=>{rn.preventDefault(),de(this,"keyboard")}),tt.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():de(this,"mouse")})}close(tt){this._result=tt,this._containerInstance._animationStateChanged.pipe((0,z.h)(Je=>"closing"===Je.state),(0,B.q)(1)).subscribe(Je=>{this._beforeClosed.next(tt),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),Je.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(tt){let Je=this._getPositionStrategy();return tt&&(tt.left||tt.right)?tt.left?Je.left(tt.left):Je.right(tt.right):Je.centerHorizontally(),tt&&(tt.top||tt.bottom)?tt.top?Je.top(tt.top):Je.bottom(tt.bottom):Je.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(tt="",Je=""){return this._overlayRef.updateSize({width:tt,height:Je}),this._overlayRef.updatePosition(),this}addPanelClass(tt){return this._overlayRef.addPanelClass(tt),this}removePanelClass(tt){return this._overlayRef.removePanelClass(tt),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function de(Le,tt,Je){return void 0!==Le._containerInstance&&(Le._containerInstance._closeInteractionType=tt),Le.close(Je)}const ut=new b.OlP("MatDialogData"),Qe=new b.OlP("mat-dialog-default-options"),jt=new b.OlP("mat-dialog-scroll-strategy"),rt={provide:jt,deps:[a.aV],useFactory:function zt(Le){return()=>Le.scrollStrategies.block()}};let Ft=(()=>{class Le{constructor(Je,Mt,rn,fn,vn,Qn,ni,Qt,fe,$e){this._overlay=Je,this._injector=Mt,this._defaultOptions=rn,this._parentDialog=fn,this._overlayContainer=vn,this._dialogRefConstructor=ni,this._dialogContainerType=Qt,this._dialogDataToken=fe,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ce.x,this._afterOpenedAtThisLevel=new ce.x,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,ye.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,re.O)(void 0))),this._scrollStrategy=Qn}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const Je=this._parentDialog;return Je?Je._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(Je,Mt){Mt=function Vt(Le,tt){return Object.assign(Object.assign({},tt),Le)}(Mt,this._defaultOptions||new _t),Mt.id&&this.getDialogById(Mt.id);const rn=this._createOverlay(Mt),fn=this._attachDialogContainer(rn,Mt),vn=this._attachDialogContent(Je,fn,rn,Mt);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(vn),vn.afterClosed().subscribe(()=>this._removeOpenDialog(vn)),this.afterOpened.next(vn),fn._initializeWithAttachedContent(),vn}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(Je){return this.openDialogs.find(Mt=>Mt.id===Je)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(Je){const Mt=this._getOverlayConfig(Je);return this._overlay.create(Mt)}_getOverlayConfig(Je){const Mt=new a.X_({positionStrategy:this._overlay.position().global(),scrollStrategy:Je.scrollStrategy||this._scrollStrategy(),panelClass:Je.panelClass,hasBackdrop:Je.hasBackdrop,direction:Je.direction,minWidth:Je.minWidth,minHeight:Je.minHeight,maxWidth:Je.maxWidth,maxHeight:Je.maxHeight,disposeOnNavigation:Je.closeOnNavigation});return Je.backdropClass&&(Mt.backdropClass=Je.backdropClass),Mt}_attachDialogContainer(Je,Mt){const fn=b.zs3.create({parent:Mt&&Mt.viewContainerRef&&Mt.viewContainerRef.injector||this._injector,providers:[{provide:_t,useValue:Mt}]}),vn=new R.C5(this._dialogContainerType,Mt.viewContainerRef,fn,Mt.componentFactoryResolver);return Je.attach(vn).instance}_attachDialogContent(Je,Mt,rn,fn){const vn=new this._dialogRefConstructor(rn,Mt,fn.id);if(Je instanceof b.Rgc)Mt.attachTemplatePortal(new R.UE(Je,null,{$implicit:fn.data,dialogRef:vn}));else{const Qn=this._createInjector(fn,vn,Mt),ni=Mt.attachComponentPortal(new R.C5(Je,fn.viewContainerRef,Qn,fn.componentFactoryResolver));vn.componentInstance=ni.instance}return vn.updateSize(fn.width,fn.height).updatePosition(fn.position),vn}_createInjector(Je,Mt,rn){const fn=Je&&Je.viewContainerRef&&Je.viewContainerRef.injector,vn=[{provide:this._dialogContainerType,useValue:rn},{provide:this._dialogDataToken,useValue:Je.data},{provide:this._dialogRefConstructor,useValue:Mt}];return Je.direction&&(!fn||!fn.get(v.Is,null,b.XFs.Optional))&&vn.push({provide:v.Is,useValue:{value:Je.direction,change:(0,be.of)()}}),b.zs3.create({parent:fn||this._injector,providers:vn})}_removeOpenDialog(Je){const Mt=this.openDialogs.indexOf(Je);Mt>-1&&(this.openDialogs.splice(Mt,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((rn,fn)=>{rn?fn.setAttribute("aria-hidden",rn):fn.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const Je=this._overlayContainer.getContainerElement();if(Je.parentElement){const Mt=Je.parentElement.children;for(let rn=Mt.length-1;rn>-1;rn--){let fn=Mt[rn];fn!==Je&&"SCRIPT"!==fn.nodeName&&"STYLE"!==fn.nodeName&&!fn.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(fn,fn.getAttribute("aria-hidden")),fn.setAttribute("aria-hidden","true"))}}}_closeDialogs(Je){let Mt=Je.length;for(;Mt--;)Je[Mt].close()}}return Le.\u0275fac=function(Je){b.$Z()},Le.\u0275dir=b.lG2({type:Le}),Le})(),xt=(()=>{class Le extends Ft{constructor(Je,Mt,rn,fn,vn,Qn,ni,Qt){super(Je,Mt,fn,Qn,ni,vn,Ge,Ce,ut,Qt)}}return Le.\u0275fac=function(Je){return new(Je||Le)(b.LFG(a.aV),b.LFG(b.zs3),b.LFG(We.Ye,8),b.LFG(Qe,8),b.LFG(jt),b.LFG(Le,12),b.LFG(a.Xj),b.LFG(Re.Qb,8))},Le.\u0275prov=b.Yz7({token:Le,factory:Le.\u0275fac}),Le})(),Pe=(()=>{class Le{}return Le.\u0275fac=function(Je){return new(Je||Le)},Le.\u0275mod=b.oAB({type:Le}),Le.\u0275inj=b.cJS({providers:[xt,rt],imports:[[a.U8,R.eL,te.BQ],te.BQ]}),Le})()},7322:(on,st,D)=>{D.d(st,{Eo:()=>Rt,G_:()=>$e,KE:()=>vt,R9:()=>fn,TO:()=>xt,bx:()=>Pe,hX:()=>Le,lN:()=>Ht});var a=D(7144),R=D(9808),b=D(5e3),te=D(508),v=D(3191),ce=D(7579),ye=D(6451),be=D(4968),z=D(8675),B=D(2722),re=D(5698),xe=D(1777),We=D(6360),Fe=D(226),ot=D(925);const et=["connectionContainer"],Re=["inputContainer"],Ke=["label"];function _t(Ye,ct){1&Ye&&(b.ynx(0),b.TgZ(1,"div",14),b._UZ(2,"div",15)(3,"div",16)(4,"div",17),b.qZA(),b.TgZ(5,"div",18),b._UZ(6,"div",15)(7,"div",16)(8,"div",17),b.qZA(),b.BQk())}function lt(Ye,ct){if(1&Ye){const X=b.EpF();b.TgZ(0,"div",19),b.NdJ("cdkObserveContent",function(){return b.CHM(X),b.oxw().updateOutlineGap()}),b.Hsn(1,1),b.qZA()}if(2&Ye){const X=b.oxw();b.Q6J("cdkObserveContentDisabled","outline"!=X.appearance)}}function ue(Ye,ct){if(1&Ye&&(b.ynx(0),b.Hsn(1,2),b.TgZ(2,"span"),b._uU(3),b.qZA(),b.BQk()),2&Ye){const X=b.oxw(2);b.xp6(3),b.Oqu(X._control.placeholder)}}function me(Ye,ct){1&Ye&&b.Hsn(0,3,["*ngSwitchCase","true"])}function Ce(Ye,ct){1&Ye&&(b.TgZ(0,"span",23),b._uU(1," *"),b.qZA())}function Be(Ye,ct){if(1&Ye){const X=b.EpF();b.TgZ(0,"label",20,21),b.NdJ("cdkObserveContent",function(){return b.CHM(X),b.oxw().updateOutlineGap()}),b.YNc(2,ue,4,1,"ng-container",12),b.YNc(3,me,1,0,"ng-content",12),b.YNc(4,Ce,2,0,"span",22),b.qZA()}if(2&Ye){const X=b.oxw();b.ekj("mat-empty",X._control.empty&&!X._shouldAlwaysFloat())("mat-form-field-empty",X._control.empty&&!X._shouldAlwaysFloat())("mat-accent","accent"==X.color)("mat-warn","warn"==X.color),b.Q6J("cdkObserveContentDisabled","outline"!=X.appearance)("id",X._labelId)("ngSwitch",X._hasLabel()),b.uIk("for",X._control.id)("aria-owns",X._control.id),b.xp6(2),b.Q6J("ngSwitchCase",!1),b.xp6(1),b.Q6J("ngSwitchCase",!0),b.xp6(1),b.Q6J("ngIf",!X.hideRequiredMarker&&X._control.required&&!X._control.disabled)}}function Ge(Ye,ct){1&Ye&&(b.TgZ(0,"div",24),b.Hsn(1,4),b.qZA())}function de(Ye,ct){if(1&Ye&&(b.TgZ(0,"div",25),b._UZ(1,"span",26),b.qZA()),2&Ye){const X=b.oxw();b.xp6(1),b.ekj("mat-accent","accent"==X.color)("mat-warn","warn"==X.color)}}function ut(Ye,ct){if(1&Ye&&(b.TgZ(0,"div"),b.Hsn(1,5),b.qZA()),2&Ye){const X=b.oxw();b.Q6J("@transitionMessages",X._subscriptAnimationState)}}function Qe(Ye,ct){if(1&Ye&&(b.TgZ(0,"div",30),b._uU(1),b.qZA()),2&Ye){const X=b.oxw(2);b.Q6J("id",X._hintLabelId),b.xp6(1),b.Oqu(X.hintLabel)}}function jt(Ye,ct){if(1&Ye&&(b.TgZ(0,"div",27),b.YNc(1,Qe,2,2,"div",28),b.Hsn(2,6),b._UZ(3,"div",29),b.Hsn(4,7),b.qZA()),2&Ye){const X=b.oxw();b.Q6J("@transitionMessages",X._subscriptAnimationState),b.xp6(1),b.Q6J("ngIf",X.hintLabel)}}const bt=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],zt=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let rt=0;const Ft=new b.OlP("MatError");let xt=(()=>{class Ye{constructor(X,oe){this.id="mat-error-"+rt++,X||oe.nativeElement.setAttribute("aria-live","polite")}}return Ye.\u0275fac=function(X){return new(X||Ye)(b.$8M("aria-live"),b.Y36(b.SBq))},Ye.\u0275dir=b.lG2({type:Ye,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(X,oe){2&X&&b.uIk("id",oe.id)},inputs:{id:"id"},features:[b._Bn([{provide:Ft,useExisting:Ye}])]}),Ye})();const Vt={transitionMessages:(0,xe.X$)("transitionMessages",[(0,xe.SB)("enter",(0,xe.oB)({opacity:1,transform:"translateY(0%)"})),(0,xe.eR)("void => enter",[(0,xe.oB)({opacity:0,transform:"translateY(-5px)"}),(0,xe.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Rt=(()=>{class Ye{}return Ye.\u0275fac=function(X){return new(X||Ye)},Ye.\u0275dir=b.lG2({type:Ye}),Ye})(),Ut=0;const Ze=new b.OlP("MatHint");let Pe=(()=>{class Ye{constructor(){this.align="start",this.id="mat-hint-"+Ut++}}return Ye.\u0275fac=function(X){return new(X||Ye)},Ye.\u0275dir=b.lG2({type:Ye,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(X,oe){2&X&&(b.uIk("id",oe.id)("align",null),b.ekj("mat-form-field-hint-end","end"===oe.align))},inputs:{align:"align",id:"id"},features:[b._Bn([{provide:Ze,useExisting:Ye}])]}),Ye})(),Le=(()=>{class Ye{}return Ye.\u0275fac=function(X){return new(X||Ye)},Ye.\u0275dir=b.lG2({type:Ye,selectors:[["mat-label"]]}),Ye})(),tt=(()=>{class Ye{}return Ye.\u0275fac=function(X){return new(X||Ye)},Ye.\u0275dir=b.lG2({type:Ye,selectors:[["mat-placeholder"]]}),Ye})();const Je=new b.OlP("MatPrefix"),rn=new b.OlP("MatSuffix");let fn=(()=>{class Ye{}return Ye.\u0275fac=function(X){return new(X||Ye)},Ye.\u0275dir=b.lG2({type:Ye,selectors:[["","matSuffix",""]],features:[b._Bn([{provide:rn,useExisting:Ye}])]}),Ye})(),vn=0;const Qt=(0,te.pj)(class{constructor(Ye){this._elementRef=Ye}},"primary"),fe=new b.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),$e=new b.OlP("MatFormField");let vt=(()=>{class Ye extends Qt{constructor(X,oe,_e,dt,Tt,qt,nn){super(X),this._changeDetectorRef=oe,this._dir=_e,this._defaults=dt,this._platform=Tt,this._ngZone=qt,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new ce.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+vn++,this._labelId="mat-form-field-label-"+vn++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==nn,this.appearance=dt&&dt.appearance?dt.appearance:"legacy",this._hideRequiredMarker=!(!dt||null==dt.hideRequiredMarker)&&dt.hideRequiredMarker}get appearance(){return this._appearance}set appearance(X){const oe=this._appearance;this._appearance=X||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&oe!==X&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(X){this._hideRequiredMarker=(0,v.Ig)(X)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(X){this._hintLabel=X,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(X){X!==this._floatLabel&&(this._floatLabel=X||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(X){this._explicitFormFieldControl=X}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const X=this._control;X.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${X.controlType}`),X.stateChanges.pipe((0,z.O)(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),X.ngControl&&X.ngControl.valueChanges&&X.ngControl.valueChanges.pipe((0,B.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,B.R)(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,ye.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe((0,z.O)(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe((0,z.O)(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe((0,B.R)(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(X){const oe=this._control?this._control.ngControl:null;return oe&&oe[X]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,(0,be.R)(this._label.nativeElement,"transitionend").pipe((0,re.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let X=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&X.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const oe=this._hintChildren?this._hintChildren.find(dt=>"start"===dt.align):null,_e=this._hintChildren?this._hintChildren.find(dt=>"end"===dt.align):null;oe?X.push(oe.id):this._hintLabel&&X.push(this._hintLabelId),_e&&X.push(_e.id)}else this._errorChildren&&X.push(...this._errorChildren.map(oe=>oe.id));this._control.setDescribedByIds(X)}}_validateControlChild(){}updateOutlineGap(){const X=this._label?this._label.nativeElement:null,oe=this._connectionContainerRef.nativeElement,_e=".mat-form-field-outline-start",dt=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!X||!X.children.length||!X.textContent.trim()){const kn=oe.querySelectorAll(`${_e}, ${dt}`);for(let Fn=0;Fn<kn.length;Fn++)kn[Fn].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let Tt=0,qt=0;const nn=oe.querySelectorAll(_e),Tn=oe.querySelectorAll(dt);if(this._label&&this._label.nativeElement.children.length){const kn=oe.getBoundingClientRect();if(0===kn.width&&0===kn.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const Fn=this._getStartEnd(kn),ii=X.children,wi=this._getStartEnd(ii[0].getBoundingClientRect());let ri=0;for(let mn=0;mn<ii.length;mn++)ri+=ii[mn].offsetWidth;Tt=Math.abs(wi-Fn)-5,qt=ri>0?.75*ri+10:0}for(let kn=0;kn<nn.length;kn++)nn[kn].style.width=`${Tt}px`;for(let kn=0;kn<Tn.length;kn++)Tn[kn].style.width=`${qt}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(X){return this._dir&&"rtl"===this._dir.value?X.right:X.left}_isAttachedToDOM(){const X=this._elementRef.nativeElement;if(X.getRootNode){const oe=X.getRootNode();return oe&&oe!==X}return document.documentElement.contains(X)}}return Ye.\u0275fac=function(X){return new(X||Ye)(b.Y36(b.SBq),b.Y36(b.sBO),b.Y36(Fe.Is,8),b.Y36(fe,8),b.Y36(ot.t4),b.Y36(b.R0b),b.Y36(We.Qb,8))},Ye.\u0275cmp=b.Xpm({type:Ye,selectors:[["mat-form-field"]],contentQueries:function(X,oe,_e){if(1&X&&(b.Suo(_e,Rt,5),b.Suo(_e,Rt,7),b.Suo(_e,Le,5),b.Suo(_e,Le,7),b.Suo(_e,tt,5),b.Suo(_e,Ft,5),b.Suo(_e,Ze,5),b.Suo(_e,Je,5),b.Suo(_e,rn,5)),2&X){let dt;b.iGM(dt=b.CRH())&&(oe._controlNonStatic=dt.first),b.iGM(dt=b.CRH())&&(oe._controlStatic=dt.first),b.iGM(dt=b.CRH())&&(oe._labelChildNonStatic=dt.first),b.iGM(dt=b.CRH())&&(oe._labelChildStatic=dt.first),b.iGM(dt=b.CRH())&&(oe._placeholderChild=dt.first),b.iGM(dt=b.CRH())&&(oe._errorChildren=dt),b.iGM(dt=b.CRH())&&(oe._hintChildren=dt),b.iGM(dt=b.CRH())&&(oe._prefixChildren=dt),b.iGM(dt=b.CRH())&&(oe._suffixChildren=dt)}},viewQuery:function(X,oe){if(1&X&&(b.Gf(et,7),b.Gf(Re,5),b.Gf(Ke,5)),2&X){let _e;b.iGM(_e=b.CRH())&&(oe._connectionContainerRef=_e.first),b.iGM(_e=b.CRH())&&(oe._inputContainerRef=_e.first),b.iGM(_e=b.CRH())&&(oe._label=_e.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(X,oe){2&X&&b.ekj("mat-form-field-appearance-standard","standard"==oe.appearance)("mat-form-field-appearance-fill","fill"==oe.appearance)("mat-form-field-appearance-outline","outline"==oe.appearance)("mat-form-field-appearance-legacy","legacy"==oe.appearance)("mat-form-field-invalid",oe._control.errorState)("mat-form-field-can-float",oe._canLabelFloat())("mat-form-field-should-float",oe._shouldLabelFloat())("mat-form-field-has-label",oe._hasFloatingLabel())("mat-form-field-hide-placeholder",oe._hideControlPlaceholder())("mat-form-field-disabled",oe._control.disabled)("mat-form-field-autofilled",oe._control.autofilled)("mat-focused",oe._control.focused)("ng-untouched",oe._shouldForward("untouched"))("ng-touched",oe._shouldForward("touched"))("ng-pristine",oe._shouldForward("pristine"))("ng-dirty",oe._shouldForward("dirty"))("ng-valid",oe._shouldForward("valid"))("ng-invalid",oe._shouldForward("invalid"))("ng-pending",oe._shouldForward("pending"))("_mat-animation-noopable",!oe._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[b._Bn([{provide:$e,useExisting:Ye}]),b.qOj],ngContentSelectors:zt,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(X,oe){1&X&&(b.F$t(bt),b.TgZ(0,"div",0)(1,"div",1,2),b.NdJ("click",function(dt){return oe._control.onContainerClick&&oe._control.onContainerClick(dt)}),b.YNc(3,_t,9,0,"ng-container",3),b.YNc(4,lt,2,1,"div",4),b.TgZ(5,"div",5,6),b.Hsn(7),b.TgZ(8,"span",7),b.YNc(9,Be,5,16,"label",8),b.qZA()(),b.YNc(10,Ge,2,0,"div",9),b.qZA(),b.YNc(11,de,2,4,"div",10),b.TgZ(12,"div",11),b.YNc(13,ut,2,1,"div",12),b.YNc(14,jt,5,2,"div",13),b.qZA()()),2&X&&(b.xp6(3),b.Q6J("ngIf","outline"==oe.appearance),b.xp6(1),b.Q6J("ngIf",oe._prefixChildren.length),b.xp6(5),b.Q6J("ngIf",oe._hasFloatingLabel()),b.xp6(1),b.Q6J("ngIf",oe._suffixChildren.length),b.xp6(1),b.Q6J("ngIf","outline"!=oe.appearance),b.xp6(1),b.Q6J("ngSwitch",oe._getDisplayedMessages()),b.xp6(1),b.Q6J("ngSwitchCase","error"),b.xp6(1),b.Q6J("ngSwitchCase","hint"))},directives:[R.O5,a.wD,R.RF,R.n9],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[Vt.transitionMessages]},changeDetection:0}),Ye})(),Ht=(()=>{class Ye{}return Ye.\u0275fac=function(X){return new(X||Ye)},Ye.\u0275mod=b.oAB({type:Ye}),Ye.\u0275inj=b.cJS({imports:[[R.ez,te.BQ,a.Q8],te.BQ]}),Ye})()},5245:(on,st,D)=>{D.d(st,{Hw:()=>dn,Ps:()=>Wt});var a=D(5e3),R=D(508),b=D(3191),te=D(9808),v=D(9646),ce=D(2843),ye=D(4128),be=D(727),z=D(8505),B=D(4004),re=D(262),xe=D(8746),We=D(3099),Fe=D(5698),ot=D(520),et=D(6097);const Re=["*"];let Ke;function lt(Ut){var Ze;return(null===(Ze=function _t(){if(void 0===Ke&&(Ke=null,"undefined"!=typeof window)){const Ut=window;void 0!==Ut.trustedTypes&&(Ke=Ut.trustedTypes.createPolicy("angular#components",{createHTML:Ze=>Ze}))}return Ke}())||void 0===Ze?void 0:Ze.createHTML(Ut))||Ut}function ue(Ut){return Error(`Unable to find icon with the name "${Ut}"`)}function Ce(Ut){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${Ut}".`)}function Be(Ut){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${Ut}".`)}class Ge{constructor(Ze,Pe,Le){this.url=Ze,this.svgText=Pe,this.options=Le}}let de=(()=>{class Ut{constructor(Pe,Le,tt,Je){this._httpClient=Pe,this._sanitizer=Le,this._errorHandler=Je,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=tt}addSvgIcon(Pe,Le,tt){return this.addSvgIconInNamespace("",Pe,Le,tt)}addSvgIconLiteral(Pe,Le,tt){return this.addSvgIconLiteralInNamespace("",Pe,Le,tt)}addSvgIconInNamespace(Pe,Le,tt,Je){return this._addSvgIconConfig(Pe,Le,new Ge(tt,null,Je))}addSvgIconResolver(Pe){return this._resolvers.push(Pe),this}addSvgIconLiteralInNamespace(Pe,Le,tt,Je){const Mt=this._sanitizer.sanitize(a.q3G.HTML,tt);if(!Mt)throw Be(tt);const rn=lt(Mt);return this._addSvgIconConfig(Pe,Le,new Ge("",rn,Je))}addSvgIconSet(Pe,Le){return this.addSvgIconSetInNamespace("",Pe,Le)}addSvgIconSetLiteral(Pe,Le){return this.addSvgIconSetLiteralInNamespace("",Pe,Le)}addSvgIconSetInNamespace(Pe,Le,tt){return this._addSvgIconSetConfig(Pe,new Ge(Le,null,tt))}addSvgIconSetLiteralInNamespace(Pe,Le,tt){const Je=this._sanitizer.sanitize(a.q3G.HTML,Le);if(!Je)throw Be(Le);const Mt=lt(Je);return this._addSvgIconSetConfig(Pe,new Ge("",Mt,tt))}registerFontClassAlias(Pe,Le=Pe){return this._fontCssClassesByAlias.set(Pe,Le),this}classNameForFontAlias(Pe){return this._fontCssClassesByAlias.get(Pe)||Pe}setDefaultFontSetClass(Pe){return this._defaultFontSetClass=Pe,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(Pe){const Le=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,Pe);if(!Le)throw Ce(Pe);const tt=this._cachedIconsByUrl.get(Le);return tt?(0,v.of)(jt(tt)):this._loadSvgIconFromConfig(new Ge(Pe,null)).pipe((0,z.b)(Je=>this._cachedIconsByUrl.set(Le,Je)),(0,B.U)(Je=>jt(Je)))}getNamedSvgIcon(Pe,Le=""){const tt=bt(Le,Pe);let Je=this._svgIconConfigs.get(tt);if(Je)return this._getSvgFromConfig(Je);if(Je=this._getIconConfigFromResolvers(Le,Pe),Je)return this._svgIconConfigs.set(tt,Je),this._getSvgFromConfig(Je);const Mt=this._iconSetConfigs.get(Le);return Mt?this._getSvgFromIconSetConfigs(Pe,Mt):(0,ce._)(ue(tt))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(Pe){return Pe.svgText?(0,v.of)(jt(this._svgElementFromConfig(Pe))):this._loadSvgIconFromConfig(Pe).pipe((0,B.U)(Le=>jt(Le)))}_getSvgFromIconSetConfigs(Pe,Le){const tt=this._extractIconWithNameFromAnySet(Pe,Le);if(tt)return(0,v.of)(tt);const Je=Le.filter(Mt=>!Mt.svgText).map(Mt=>this._loadSvgIconSetFromConfig(Mt).pipe((0,re.K)(rn=>{const vn=`Loading icon set URL: ${this._sanitizer.sanitize(a.q3G.RESOURCE_URL,Mt.url)} failed: ${rn.message}`;return this._errorHandler.handleError(new Error(vn)),(0,v.of)(null)})));return(0,ye.D)(Je).pipe((0,B.U)(()=>{const Mt=this._extractIconWithNameFromAnySet(Pe,Le);if(!Mt)throw ue(Pe);return Mt}))}_extractIconWithNameFromAnySet(Pe,Le){for(let tt=Le.length-1;tt>=0;tt--){const Je=Le[tt];if(Je.svgText&&Je.svgText.toString().indexOf(Pe)>-1){const Mt=this._svgElementFromConfig(Je),rn=this._extractSvgIconFromSet(Mt,Pe,Je.options);if(rn)return rn}}return null}_loadSvgIconFromConfig(Pe){return this._fetchIcon(Pe).pipe((0,z.b)(Le=>Pe.svgText=Le),(0,B.U)(()=>this._svgElementFromConfig(Pe)))}_loadSvgIconSetFromConfig(Pe){return Pe.svgText?(0,v.of)(null):this._fetchIcon(Pe).pipe((0,z.b)(Le=>Pe.svgText=Le))}_extractSvgIconFromSet(Pe,Le,tt){const Je=Pe.querySelector(`[id="${Le}"]`);if(!Je)return null;const Mt=Je.cloneNode(!0);if(Mt.removeAttribute("id"),"svg"===Mt.nodeName.toLowerCase())return this._setSvgAttributes(Mt,tt);if("symbol"===Mt.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(Mt),tt);const rn=this._svgElementFromString(lt("<svg></svg>"));return rn.appendChild(Mt),this._setSvgAttributes(rn,tt)}_svgElementFromString(Pe){const Le=this._document.createElement("DIV");Le.innerHTML=Pe;const tt=Le.querySelector("svg");if(!tt)throw Error("<svg> tag not found");return tt}_toSvgElement(Pe){const Le=this._svgElementFromString(lt("<svg></svg>")),tt=Pe.attributes;for(let Je=0;Je<tt.length;Je++){const{name:Mt,value:rn}=tt[Je];"id"!==Mt&&Le.setAttribute(Mt,rn)}for(let Je=0;Je<Pe.childNodes.length;Je++)Pe.childNodes[Je].nodeType===this._document.ELEMENT_NODE&&Le.appendChild(Pe.childNodes[Je].cloneNode(!0));return Le}_setSvgAttributes(Pe,Le){return Pe.setAttribute("fit",""),Pe.setAttribute("height","100%"),Pe.setAttribute("width","100%"),Pe.setAttribute("preserveAspectRatio","xMidYMid meet"),Pe.setAttribute("focusable","false"),Le&&Le.viewBox&&Pe.setAttribute("viewBox",Le.viewBox),Pe}_fetchIcon(Pe){var Le;const{url:tt,options:Je}=Pe,Mt=null!==(Le=null==Je?void 0:Je.withCredentials)&&void 0!==Le&&Le;if(!this._httpClient)throw function me(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==tt)throw Error(`Cannot fetch icon from URL "${tt}".`);const rn=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,tt);if(!rn)throw Ce(tt);const fn=this._inProgressUrlFetches.get(rn);if(fn)return fn;const vn=this._httpClient.get(rn,{responseType:"text",withCredentials:Mt}).pipe((0,B.U)(Qn=>lt(Qn)),(0,xe.x)(()=>this._inProgressUrlFetches.delete(rn)),(0,We.B)());return this._inProgressUrlFetches.set(rn,vn),vn}_addSvgIconConfig(Pe,Le,tt){return this._svgIconConfigs.set(bt(Pe,Le),tt),this}_addSvgIconSetConfig(Pe,Le){const tt=this._iconSetConfigs.get(Pe);return tt?tt.push(Le):this._iconSetConfigs.set(Pe,[Le]),this}_svgElementFromConfig(Pe){if(!Pe.svgElement){const Le=this._svgElementFromString(Pe.svgText);this._setSvgAttributes(Le,Pe.options),Pe.svgElement=Le}return Pe.svgElement}_getIconConfigFromResolvers(Pe,Le){for(let tt=0;tt<this._resolvers.length;tt++){const Je=this._resolvers[tt](Le,Pe);if(Je)return zt(Je)?new Ge(Je.url,null,Je.options):new Ge(Je,null)}}}return Ut.\u0275fac=function(Pe){return new(Pe||Ut)(a.LFG(ot.eN,8),a.LFG(et.H7),a.LFG(te.K0,8),a.LFG(a.qLn))},Ut.\u0275prov=a.Yz7({token:Ut,factory:Ut.\u0275fac,providedIn:"root"}),Ut})();function jt(Ut){return Ut.cloneNode(!0)}function bt(Ut,Ze){return Ut+":"+Ze}function zt(Ut){return!(!Ut.url||!Ut.options)}const rt=(0,R.pj)(class{constructor(Ut){this._elementRef=Ut}}),Ft=new a.OlP("mat-icon-location",{providedIn:"root",factory:function xt(){const Ut=(0,a.f3M)(te.K0),Ze=Ut?Ut.location:null;return{getPathname:()=>Ze?Ze.pathname+Ze.search:""}}}),Vt=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Rt=Vt.map(Ut=>`[${Ut}]`).join(", "),Lt=/^url\(['"]?#(.*?)['"]?\)$/;let dn=(()=>{class Ut extends rt{constructor(Pe,Le,tt,Je,Mt){super(Pe),this._iconRegistry=Le,this._location=Je,this._errorHandler=Mt,this._inline=!1,this._currentIconFetch=be.w0.EMPTY,tt||Pe.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(Pe){this._inline=(0,b.Ig)(Pe)}get svgIcon(){return this._svgIcon}set svgIcon(Pe){Pe!==this._svgIcon&&(Pe?this._updateSvgIcon(Pe):this._svgIcon&&this._clearSvgElement(),this._svgIcon=Pe)}get fontSet(){return this._fontSet}set fontSet(Pe){const Le=this._cleanupFontValue(Pe);Le!==this._fontSet&&(this._fontSet=Le,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(Pe){const Le=this._cleanupFontValue(Pe);Le!==this._fontIcon&&(this._fontIcon=Le,this._updateFontIconClasses())}_splitIconName(Pe){if(!Pe)return["",""];const Le=Pe.split(":");switch(Le.length){case 1:return["",Le[0]];case 2:return Le;default:throw Error(`Invalid icon name: "${Pe}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const Pe=this._elementsWithExternalReferences;if(Pe&&Pe.size){const Le=this._location.getPathname();Le!==this._previousPath&&(this._previousPath=Le,this._prependPathToReferences(Le))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(Pe){this._clearSvgElement();const Le=this._location.getPathname();this._previousPath=Le,this._cacheChildrenWithExternalReferences(Pe),this._prependPathToReferences(Le),this._elementRef.nativeElement.appendChild(Pe)}_clearSvgElement(){const Pe=this._elementRef.nativeElement;let Le=Pe.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();Le--;){const tt=Pe.childNodes[Le];(1!==tt.nodeType||"svg"===tt.nodeName.toLowerCase())&&tt.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const Pe=this._elementRef.nativeElement,Le=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();Le!=this._previousFontSetClass&&(this._previousFontSetClass&&Pe.classList.remove(this._previousFontSetClass),Le&&Pe.classList.add(Le),this._previousFontSetClass=Le),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&Pe.classList.remove(this._previousFontIconClass),this.fontIcon&&Pe.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(Pe){return"string"==typeof Pe?Pe.trim().split(" ")[0]:Pe}_prependPathToReferences(Pe){const Le=this._elementsWithExternalReferences;Le&&Le.forEach((tt,Je)=>{tt.forEach(Mt=>{Je.setAttribute(Mt.name,`url('${Pe}#${Mt.value}')`)})})}_cacheChildrenWithExternalReferences(Pe){const Le=Pe.querySelectorAll(Rt),tt=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let Je=0;Je<Le.length;Je++)Vt.forEach(Mt=>{const rn=Le[Je],fn=rn.getAttribute(Mt),vn=fn?fn.match(Lt):null;if(vn){let Qn=tt.get(rn);Qn||(Qn=[],tt.set(rn,Qn)),Qn.push({name:Mt,value:vn[1]})}})}_updateSvgIcon(Pe){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),Pe){const[Le,tt]=this._splitIconName(Pe);Le&&(this._svgNamespace=Le),tt&&(this._svgName=tt),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(tt,Le).pipe((0,Fe.q)(1)).subscribe(Je=>this._setSvgElement(Je),Je=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${Le}:${tt}! ${Je.message}`))})}}}return Ut.\u0275fac=function(Pe){return new(Pe||Ut)(a.Y36(a.SBq),a.Y36(de),a.$8M("aria-hidden"),a.Y36(Ft),a.Y36(a.qLn))},Ut.\u0275cmp=a.Xpm({type:Ut,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(Pe,Le){2&Pe&&(a.uIk("data-mat-icon-type",Le._usingFontIcon()?"font":"svg")("data-mat-icon-name",Le._svgName||Le.fontIcon)("data-mat-icon-namespace",Le._svgNamespace||Le.fontSet),a.ekj("mat-icon-inline",Le.inline)("mat-icon-no-color","primary"!==Le.color&&"accent"!==Le.color&&"warn"!==Le.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[a.qOj],ngContentSelectors:Re,decls:1,vars:0,template:function(Pe,Le){1&Pe&&(a.F$t(),a.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),Ut})(),Wt=(()=>{class Ut{}return Ut.\u0275fac=function(Pe){return new(Pe||Ut)},Ut.\u0275mod=a.oAB({type:Ut}),Ut.\u0275inj=a.cJS({imports:[[R.BQ],R.BQ]}),Ut})()},7531:(on,st,D)=>{D.d(st,{Jk:()=>ot,Nt:()=>_t,c:()=>lt});var a=D(3191),R=D(925),b=D(5e3),te=D(3075),v=D(508),ce=D(7322),ye=D(7579),be=D(515);const z=(0,R.i$)({passive:!0});let B=(()=>{class ue{constructor(Ce,Be){this._platform=Ce,this._ngZone=Be,this._monitoredElements=new Map}monitor(Ce){if(!this._platform.isBrowser)return be.E;const Be=(0,a.fI)(Ce),Ge=this._monitoredElements.get(Be);if(Ge)return Ge.subject;const de=new ye.x,ut="cdk-text-field-autofilled",Qe=jt=>{"cdk-text-field-autofill-start"!==jt.animationName||Be.classList.contains(ut)?"cdk-text-field-autofill-end"===jt.animationName&&Be.classList.contains(ut)&&(Be.classList.remove(ut),this._ngZone.run(()=>de.next({target:jt.target,isAutofilled:!1}))):(Be.classList.add(ut),this._ngZone.run(()=>de.next({target:jt.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{Be.addEventListener("animationstart",Qe,z),Be.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(Be,{subject:de,unlisten:()=>{Be.removeEventListener("animationstart",Qe,z)}}),de}stopMonitoring(Ce){const Be=(0,a.fI)(Ce),Ge=this._monitoredElements.get(Be);Ge&&(Ge.unlisten(),Ge.subject.complete(),Be.classList.remove("cdk-text-field-autofill-monitored"),Be.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(Be))}ngOnDestroy(){this._monitoredElements.forEach((Ce,Be)=>this.stopMonitoring(Be))}}return ue.\u0275fac=function(Ce){return new(Ce||ue)(b.LFG(R.t4),b.LFG(b.R0b))},ue.\u0275prov=b.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"}),ue})(),We=(()=>{class ue{}return ue.\u0275fac=function(Ce){return new(Ce||ue)},ue.\u0275mod=b.oAB({type:ue}),ue.\u0275inj=b.cJS({}),ue})();const ot=new b.OlP("MAT_INPUT_VALUE_ACCESSOR"),et=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Re=0;const Ke=(0,v.FD)(class{constructor(ue,me,Ce,Be){this._defaultErrorStateMatcher=ue,this._parentForm=me,this._parentFormGroup=Ce,this.ngControl=Be}});let _t=(()=>{class ue extends Ke{constructor(Ce,Be,Ge,de,ut,Qe,jt,bt,zt,rt){super(Qe,de,ut,Ge),this._elementRef=Ce,this._platform=Be,this._autofillMonitor=bt,this._formField=rt,this._uid="mat-input-"+Re++,this.focused=!1,this.stateChanges=new ye.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(Vt=>(0,R.qK)().has(Vt)),this._iOSKeyupListener=Vt=>{const Rt=Vt.target;!Rt.value&&0===Rt.selectionStart&&0===Rt.selectionEnd&&(Rt.setSelectionRange(1,1),Rt.setSelectionRange(0,0))};const Ft=this._elementRef.nativeElement,xt=Ft.nodeName.toLowerCase();this._inputValueAccessor=jt||Ft,this._previousNativeValue=this.value,this.id=this.id,Be.IOS&&zt.runOutsideAngular(()=>{Ce.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===xt,this._isTextarea="textarea"===xt,this._isInFormField=!!rt,this._isNativeSelect&&(this.controlType=Ft.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(Ce){this._disabled=(0,a.Ig)(Ce),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(Ce){this._id=Ce||this._uid}get required(){var Ce,Be,Ge,de;return null!==(de=null!==(Ce=this._required)&&void 0!==Ce?Ce:null===(Ge=null===(Be=this.ngControl)||void 0===Be?void 0:Be.control)||void 0===Ge?void 0:Ge.hasValidator(te.kI.required))&&void 0!==de&&de}set required(Ce){this._required=(0,a.Ig)(Ce)}get type(){return this._type}set type(Ce){this._type=Ce||"text",this._validateType(),!this._isTextarea&&(0,R.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(Ce){Ce!==this.value&&(this._inputValueAccessor.value=Ce,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(Ce){this._readonly=(0,a.Ig)(Ce)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(Ce=>{this.autofilled=Ce.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(Ce){this._elementRef.nativeElement.focus(Ce)}_focusChanged(Ce){Ce!==this.focused&&(this.focused=Ce,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var Ce,Be;const Ge=(null===(Be=null===(Ce=this._formField)||void 0===Ce?void 0:Ce._hideControlPlaceholder)||void 0===Be?void 0:Be.call(Ce))?null:this.placeholder;if(Ge!==this._previousPlaceholder){const de=this._elementRef.nativeElement;this._previousPlaceholder=Ge,Ge?de.setAttribute("placeholder",Ge):de.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const Ce=this._elementRef.nativeElement.value;this._previousNativeValue!==Ce&&(this._previousNativeValue=Ce,this.stateChanges.next())}_validateType(){et.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let Ce=this._elementRef.nativeElement.validity;return Ce&&Ce.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const Ce=this._elementRef.nativeElement,Be=Ce.options[0];return this.focused||Ce.multiple||!this.empty||!!(Ce.selectedIndex>-1&&Be&&Be.label)}return this.focused||!this.empty}setDescribedByIds(Ce){Ce.length?this._elementRef.nativeElement.setAttribute("aria-describedby",Ce.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const Ce=this._elementRef.nativeElement;return this._isNativeSelect&&(Ce.multiple||Ce.size>1)}}return ue.\u0275fac=function(Ce){return new(Ce||ue)(b.Y36(b.SBq),b.Y36(R.t4),b.Y36(te.a5,10),b.Y36(te.F,8),b.Y36(te.sg,8),b.Y36(v.rD),b.Y36(ot,10),b.Y36(B),b.Y36(b.R0b),b.Y36(ce.G_,8))},ue.\u0275dir=b.lG2({type:ue,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(Ce,Be){1&Ce&&b.NdJ("focus",function(){return Be._focusChanged(!0)})("blur",function(){return Be._focusChanged(!1)})("input",function(){return Be._onInput()}),2&Ce&&(b.Ikx("disabled",Be.disabled)("required",Be.required),b.uIk("id",Be.id)("data-placeholder",Be.placeholder)("name",Be.name||null)("readonly",Be.readonly&&!Be._isNativeSelect||null)("aria-invalid",Be.empty&&Be.required?null:Be.errorState)("aria-required",Be.required),b.ekj("mat-input-server",Be._isServer)("mat-native-select-inline",Be._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[b._Bn([{provide:ce.Eo,useExisting:ue}]),b.qOj,b.TTD]}),ue})(),lt=(()=>{class ue{}return ue.\u0275fac=function(Ce){return new(Ce||ue)},ue.\u0275mod=b.oAB({type:ue}),ue.\u0275inj=b.cJS({providers:[v.rD],imports:[[We,ce.lN,v.BQ],We,ce.lN]}),ue})()},4449:(on,st,D)=>{D.d(st,{Nh:()=>jt,ie:()=>dn});var a=D(9808),R=D(5e3),b=D(508);D(3191),D(7579),D(2722),D(8675),D(8255),D(449),D(1159),D(3075);let We=(()=>{class Wt{}return Wt.\u0275fac=function(Ze){return new(Ze||Wt)},Wt.\u0275mod=R.oAB({type:Wt}),Wt.\u0275inj=R.cJS({imports:[[b.BQ],b.BQ]}),Wt})(),jt=(()=>{class Wt{}return Wt.\u0275fac=function(Ze){return new(Ze||Wt)},Wt.\u0275dir=R.lG2({type:Wt,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),Wt})(),dn=(()=>{class Wt{}return Wt.\u0275fac=function(Ze){return new(Ze||Wt)},Wt.\u0275mod=R.oAB({type:Wt}),Wt.\u0275inj=R.cJS({imports:[[b.uc,b.si,b.BQ,b.us,a.ez],b.uc,b.BQ,b.us,We]}),Wt})()},4847:(on,st,D)=>{D.d(st,{JX:()=>Ge,YE:()=>ue});var a=D(5e3),R=D(3191),b=D(508),te=D(7579),ce=(D(1777),D(9808));let et=(()=>{class de{constructor(){this.changes=new te.x}}return de.\u0275fac=function(Qe){return new(Qe||de)},de.\u0275prov=a.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"}),de})();const Ke={provide:et,deps:[[new a.FiY,new a.tp0,et]],useFactory:function Re(de){return de||new et}},_t=new a.OlP("MAT_SORT_DEFAULT_OPTIONS"),lt=(0,b.dB)((0,b.Id)(class{}));let ue=(()=>{class de extends lt{constructor(Qe){super(),this._defaultOptions=Qe,this.sortables=new Map,this._stateChanges=new te.x,this.start="asc",this._direction="",this.sortChange=new a.vpe}get direction(){return this._direction}set direction(Qe){this._direction=Qe}get disableClear(){return this._disableClear}set disableClear(Qe){this._disableClear=(0,R.Ig)(Qe)}register(Qe){this.sortables.set(Qe.id,Qe)}deregister(Qe){this.sortables.delete(Qe.id)}sort(Qe){this.active!=Qe.id?(this.active=Qe.id,this.direction=Qe.start?Qe.start:this.start):this.direction=this.getNextSortDirection(Qe),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(Qe){var jt,bt,zt;if(!Qe)return"";const rt=null!==(bt=null!==(jt=null==Qe?void 0:Qe.disableClear)&&void 0!==jt?jt:this.disableClear)&&void 0!==bt?bt:!!(null===(zt=this._defaultOptions)||void 0===zt?void 0:zt.disableClear);let Ft=function me(de,ut){let Qe=["asc","desc"];return"desc"==de&&Qe.reverse(),ut||Qe.push(""),Qe}(Qe.start||this.start,rt),xt=Ft.indexOf(this.direction)+1;return xt>=Ft.length&&(xt=0),Ft[xt]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return de.\u0275fac=function(Qe){return new(Qe||de)(a.Y36(_t,8))},de.\u0275dir=a.lG2({type:de,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],active:["matSortActive","active"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[a.qOj,a.TTD]}),de})(),Ge=(()=>{class de{}return de.\u0275fac=function(Qe){return new(Qe||de)},de.\u0275mod=a.oAB({type:de}),de.\u0275inj=a.cJS({providers:[Ke],imports:[[ce.ez,b.BQ]]}),de})()},4999:(on,st,D)=>{D.d(st,{ev:()=>He,Dz:()=>Se,w1:()=>je,ge:()=>It,fO:()=>Me,XQ:()=>Gt,as:()=>ze,Gk:()=>En,nj:()=>pt,BZ:()=>U,p0:()=>Bi});var a=D(5e3),R=D(3191),b=D(449),te=D(9808),v=D(7579),ce=D(8996),ye=D(1135),be=D(8306),z=D(576),re=D(9646),xe=D(2722),We=D(5698),Fe=D(226),ot=D(925),et=D(8962);const Re=[[["caption"]],[["colgroup"],["col"]]],Ke=["caption","colgroup, col"];function ue(Te){return class extends Te{constructor(...Ne){super(...Ne),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(Ne){const ae=this._sticky;this._sticky=(0,R.Ig)(Ne),this._hasStickyChanged=ae!==this._sticky}hasStickyChanged(){const Ne=this._hasStickyChanged;return this._hasStickyChanged=!1,Ne}resetStickyChanged(){this._hasStickyChanged=!1}}}const me=new a.OlP("CDK_TABLE");let Be=(()=>{class Te{constructor(ae){this.template=ae}}return Te.\u0275fac=function(ae){return new(ae||Te)(a.Y36(a.Rgc))},Te.\u0275dir=a.lG2({type:Te,selectors:[["","cdkCellDef",""]]}),Te})(),Ge=(()=>{class Te{constructor(ae){this.template=ae}}return Te.\u0275fac=function(ae){return new(ae||Te)(a.Y36(a.Rgc))},Te.\u0275dir=a.lG2({type:Te,selectors:[["","cdkHeaderCellDef",""]]}),Te})(),de=(()=>{class Te{constructor(ae){this.template=ae}}return Te.\u0275fac=function(ae){return new(ae||Te)(a.Y36(a.Rgc))},Te.\u0275dir=a.lG2({type:Te,selectors:[["","cdkFooterCellDef",""]]}),Te})();class ut{}const Qe=ue(ut);let jt=(()=>{class Te extends Qe{constructor(ae){super(),this._table=ae,this._stickyEnd=!1}get name(){return this._name}set name(ae){this._setNameInput(ae)}get stickyEnd(){return this._stickyEnd}set stickyEnd(ae){const qe=this._stickyEnd;this._stickyEnd=(0,R.Ig)(ae),this._hasStickyChanged=qe!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(ae){ae&&(this._name=ae,this.cssClassFriendlyName=ae.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return Te.\u0275fac=function(ae){return new(ae||Te)(a.Y36(me,8))},Te.\u0275dir=a.lG2({type:Te,selectors:[["","cdkColumnDef",""]],contentQueries:function(ae,qe,kt){if(1&ae&&(a.Suo(kt,Be,5),a.Suo(kt,Ge,5),a.Suo(kt,de,5)),2&ae){let tn;a.iGM(tn=a.CRH())&&(qe.cell=tn.first),a.iGM(tn=a.CRH())&&(qe.headerCell=tn.first),a.iGM(tn=a.CRH())&&(qe.footerCell=tn.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[a._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:Te}]),a.qOj]}),Te})();class bt{constructor(Ne,ae){ae.nativeElement.classList.add(...Ne._columnCssClassName)}}let zt=(()=>{class Te extends bt{constructor(ae,qe){super(ae,qe)}}return Te.\u0275fac=function(ae){return new(ae||Te)(a.Y36(jt),a.Y36(a.SBq))},Te.\u0275dir=a.lG2({type:Te,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[a.qOj]}),Te})(),Ft=(()=>{class Te extends bt{constructor(ae,qe){var kt;if(super(ae,qe),1===(null===(kt=ae._table)||void 0===kt?void 0:kt._elementRef.nativeElement.nodeType)){const tn=ae._table._elementRef.nativeElement.getAttribute("role");qe.nativeElement.setAttribute("role","grid"===tn||"treegrid"===tn?"gridcell":"cell")}}}return Te.\u0275fac=function(ae){return new(ae||Te)(a.Y36(jt),a.Y36(a.SBq))},Te.\u0275dir=a.lG2({type:Te,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[a.qOj]}),Te})();class xt{constructor(){this.tasks=[],this.endTasks=[]}}const Vt=new a.OlP("_COALESCED_STYLE_SCHEDULER");let Rt=(()=>{class Te{constructor(ae){this._ngZone=ae,this._currentSchedule=null,this._destroyed=new v.x}schedule(ae){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(ae)}scheduleEnd(ae){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(ae)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new xt,this._getScheduleObservable().pipe((0,xe.R)(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const ae=this._currentSchedule;this._currentSchedule=new xt;for(const qe of ae.tasks)qe();for(const qe of ae.endTasks)qe()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,ce.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe((0,We.q)(1))}}return Te.\u0275fac=function(ae){return new(ae||Te)(a.LFG(a.R0b))},Te.\u0275prov=a.Yz7({token:Te,factory:Te.\u0275fac}),Te})(),dn=(()=>{class Te{constructor(ae,qe){this.template=ae,this._differs=qe}ngOnChanges(ae){if(!this._columnsDiffer){const qe=ae.columns&&ae.columns.currentValue||[];this._columnsDiffer=this._differs.find(qe).create(),this._columnsDiffer.diff(qe)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(ae){return this instanceof Ze?ae.headerCell.template:this instanceof tt?ae.footerCell.template:ae.cell.template}}return Te.\u0275fac=function(ae){return new(ae||Te)(a.Y36(a.Rgc),a.Y36(a.ZZ4))},Te.\u0275dir=a.lG2({type:Te,features:[a.TTD]}),Te})();class Wt extends dn{}const Ut=ue(Wt);let Ze=(()=>{class Te extends Ut{constructor(ae,qe,kt){super(ae,qe),this._table=kt}ngOnChanges(ae){super.ngOnChanges(ae)}}return Te.\u0275fac=function(ae){return new(ae||Te)(a.Y36(a.Rgc),a.Y36(a.ZZ4),a.Y36(me,8))},Te.\u0275dir=a.lG2({type:Te,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[a.qOj,a.TTD]}),Te})();class Pe extends dn{}const Le=ue(Pe);let tt=(()=>{class Te extends Le{constructor(ae,qe,kt){super(ae,qe),this._table=kt}ngOnChanges(ae){super.ngOnChanges(ae)}}return Te.\u0275fac=function(ae){return new(ae||Te)(a.Y36(a.Rgc),a.Y36(a.ZZ4),a.Y36(me,8))},Te.\u0275dir=a.lG2({type:Te,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[a.qOj,a.TTD]}),Te})(),Je=(()=>{class Te extends dn{constructor(ae,qe,kt){super(ae,qe),this._table=kt}}return Te.\u0275fac=function(ae){return new(ae||Te)(a.Y36(a.Rgc),a.Y36(a.ZZ4),a.Y36(me,8))},Te.\u0275dir=a.lG2({type:Te,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[a.qOj]}),Te})(),Mt=(()=>{class Te{constructor(ae){this._viewContainer=ae,Te.mostRecentCellOutlet=this}ngOnDestroy(){Te.mostRecentCellOutlet===this&&(Te.mostRecentCellOutlet=null)}}return Te.mostRecentCellOutlet=null,Te.\u0275fac=function(ae){return new(ae||Te)(a.Y36(a.s_b))},Te.\u0275dir=a.lG2({type:Te,selectors:[["","cdkCellOutlet",""]]}),Te})(),rn=(()=>{class Te{}return Te.\u0275fac=function(ae){return new(ae||Te)},Te.\u0275cmp=a.Xpm({type:Te,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(ae,qe){1&ae&&a.GkF(0,0)},directives:[Mt],encapsulation:2}),Te})(),vn=(()=>{class Te{}return Te.\u0275fac=function(ae){return new(ae||Te)},Te.\u0275cmp=a.Xpm({type:Te,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(ae,qe){1&ae&&a.GkF(0,0)},directives:[Mt],encapsulation:2}),Te})(),Qn=(()=>{class Te{constructor(ae){this.templateRef=ae,this._contentClassName="cdk-no-data-row"}}return Te.\u0275fac=function(ae){return new(ae||Te)(a.Y36(a.Rgc))},Te.\u0275dir=a.lG2({type:Te,selectors:[["ng-template","cdkNoDataRow",""]]}),Te})();const ni=["top","bottom","left","right"];class Qt{constructor(Ne,ae,qe,kt,tn=!0,bn=!0,ei){this._isNativeHtmlTable=Ne,this._stickCellCss=ae,this.direction=qe,this._coalescedStyleScheduler=kt,this._isBrowser=tn,this._needsPositionStickyOnElement=bn,this._positionListener=ei,this._cachedCellWidths=[],this._borderCellCss={top:`${ae}-border-elem-top`,bottom:`${ae}-border-elem-bottom`,left:`${ae}-border-elem-left`,right:`${ae}-border-elem-right`}}clearStickyPositioning(Ne,ae){const qe=[];for(const kt of Ne)if(kt.nodeType===kt.ELEMENT_NODE){qe.push(kt);for(let tn=0;tn<kt.children.length;tn++)qe.push(kt.children[tn])}this._coalescedStyleScheduler.schedule(()=>{for(const kt of qe)this._removeStickyStyle(kt,ae)})}updateStickyColumns(Ne,ae,qe,kt=!0){if(!Ne.length||!this._isBrowser||!ae.some(Si=>Si)&&!qe.some(Si=>Si))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const tn=Ne[0],bn=tn.children.length,ei=this._getCellWidths(tn,kt),Bn=this._getStickyStartColumnPositions(ei,ae),Pi=this._getStickyEndColumnPositions(ei,qe),si=ae.lastIndexOf(!0),zn=qe.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const Si="rtl"===this.direction,er=Si?"right":"left",jr=Si?"left":"right";for(const Wi of Ne)for(let fi=0;fi<bn;fi++){const Gr=Wi.children[fi];ae[fi]&&this._addStickyStyle(Gr,er,Bn[fi],fi===si),qe[fi]&&this._addStickyStyle(Gr,jr,Pi[fi],fi===zn)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===si?[]:ei.slice(0,si+1).map((Wi,fi)=>ae[fi]?Wi:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===zn?[]:ei.slice(zn).map((Wi,fi)=>qe[fi+zn]?Wi:null).reverse()}))})}stickRows(Ne,ae,qe){if(!this._isBrowser)return;const kt="bottom"===qe?Ne.slice().reverse():Ne,tn="bottom"===qe?ae.slice().reverse():ae,bn=[],ei=[],Bn=[];for(let si=0,zn=0;si<kt.length;si++){if(!tn[si])continue;bn[si]=zn;const Si=kt[si];Bn[si]=this._isNativeHtmlTable?Array.from(Si.children):[Si];const er=Si.getBoundingClientRect().height;zn+=er,ei[si]=er}const Pi=tn.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{var si,zn;for(let Si=0;Si<kt.length;Si++){if(!tn[Si])continue;const er=bn[Si],jr=Si===Pi;for(const Wi of Bn[Si])this._addStickyStyle(Wi,qe,er,jr)}"top"===qe?null===(si=this._positionListener)||void 0===si||si.stickyHeaderRowsUpdated({sizes:ei,offsets:bn,elements:Bn}):null===(zn=this._positionListener)||void 0===zn||zn.stickyFooterRowsUpdated({sizes:ei,offsets:bn,elements:Bn})})}updateStickyFooterContainer(Ne,ae){if(!this._isNativeHtmlTable)return;const qe=Ne.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{ae.some(kt=>!kt)?this._removeStickyStyle(qe,["bottom"]):this._addStickyStyle(qe,"bottom",0,!1)})}_removeStickyStyle(Ne,ae){for(const kt of ae)Ne.style[kt]="",Ne.classList.remove(this._borderCellCss[kt]);ni.some(kt=>-1===ae.indexOf(kt)&&Ne.style[kt])?Ne.style.zIndex=this._getCalculatedZIndex(Ne):(Ne.style.zIndex="",this._needsPositionStickyOnElement&&(Ne.style.position=""),Ne.classList.remove(this._stickCellCss))}_addStickyStyle(Ne,ae,qe,kt){Ne.classList.add(this._stickCellCss),kt&&Ne.classList.add(this._borderCellCss[ae]),Ne.style[ae]=`${qe}px`,Ne.style.zIndex=this._getCalculatedZIndex(Ne),this._needsPositionStickyOnElement&&(Ne.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(Ne){const ae={top:100,bottom:10,left:1,right:1};let qe=0;for(const kt of ni)Ne.style[kt]&&(qe+=ae[kt]);return qe?`${qe}`:""}_getCellWidths(Ne,ae=!0){if(!ae&&this._cachedCellWidths.length)return this._cachedCellWidths;const qe=[],kt=Ne.children;for(let tn=0;tn<kt.length;tn++)qe.push(kt[tn].getBoundingClientRect().width);return this._cachedCellWidths=qe,qe}_getStickyStartColumnPositions(Ne,ae){const qe=[];let kt=0;for(let tn=0;tn<Ne.length;tn++)ae[tn]&&(qe[tn]=kt,kt+=Ne[tn]);return qe}_getStickyEndColumnPositions(Ne,ae){const qe=[];let kt=0;for(let tn=Ne.length;tn>0;tn--)ae[tn]&&(qe[tn]=kt,kt+=Ne[tn]);return qe}}const _e=new a.OlP("CDK_SPL");let Tt=(()=>{class Te{constructor(ae,qe){this.viewContainer=ae,this.elementRef=qe}}return Te.\u0275fac=function(ae){return new(ae||Te)(a.Y36(a.s_b),a.Y36(a.SBq))},Te.\u0275dir=a.lG2({type:Te,selectors:[["","rowOutlet",""]]}),Te})(),qt=(()=>{class Te{constructor(ae,qe){this.viewContainer=ae,this.elementRef=qe}}return Te.\u0275fac=function(ae){return new(ae||Te)(a.Y36(a.s_b),a.Y36(a.SBq))},Te.\u0275dir=a.lG2({type:Te,selectors:[["","headerRowOutlet",""]]}),Te})(),nn=(()=>{class Te{constructor(ae,qe){this.viewContainer=ae,this.elementRef=qe}}return Te.\u0275fac=function(ae){return new(ae||Te)(a.Y36(a.s_b),a.Y36(a.SBq))},Te.\u0275dir=a.lG2({type:Te,selectors:[["","footerRowOutlet",""]]}),Te})(),Tn=(()=>{class Te{constructor(ae,qe){this.viewContainer=ae,this.elementRef=qe}}return Te.\u0275fac=function(ae){return new(ae||Te)(a.Y36(a.s_b),a.Y36(a.SBq))},Te.\u0275dir=a.lG2({type:Te,selectors:[["","noDataRowOutlet",""]]}),Te})(),ii=(()=>{class Te{constructor(ae,qe,kt,tn,bn,ei,Bn,Pi,si,zn,Si,er){this._differs=ae,this._changeDetectorRef=qe,this._elementRef=kt,this._dir=bn,this._platform=Bn,this._viewRepeater=Pi,this._coalescedStyleScheduler=si,this._viewportRuler=zn,this._stickyPositioningListener=Si,this._ngZone=er,this._onDestroy=new v.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new a.vpe,this.viewChange=new ye.X({start:0,end:Number.MAX_VALUE}),tn||this._elementRef.nativeElement.setAttribute("role","table"),this._document=ei,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(ae){this._trackByFn=ae}get dataSource(){return this._dataSource}set dataSource(ae){this._dataSource!==ae&&this._switchDataSource(ae)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(ae){this._multiTemplateDataRows=(0,R.Ig)(ae),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(ae){this._fixedLayout=(0,R.Ig)(ae),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((ae,qe)=>this.trackBy?this.trackBy(qe.dataIndex,qe.data):qe),this._viewportRuler.change().pipe((0,xe.R)(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const qe=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||qe,this._forceRecalculateCellWidths=qe,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(ae=>{ae.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),(0,b.Z9)(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const ae=this._dataDiffer.diff(this._renderRows);if(!ae)return this._updateNoDataRow(),void this.contentChanged.next();const qe=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(ae,qe,(kt,tn,bn)=>this._getEmbeddedViewArgs(kt.item,bn),kt=>kt.item.data,kt=>{1===kt.operation&&kt.context&&this._renderCellTemplateForItem(kt.record.item.rowDef,kt.context)}),this._updateRowIndexContext(),ae.forEachIdentityChange(kt=>{qe.get(kt.currentIndex).context.$implicit=kt.item.data}),this._updateNoDataRow(),this._ngZone&&a.R0b.isInAngularZone()?this._ngZone.onStable.pipe((0,We.q)(1),(0,xe.R)(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(ae){this._customColumnDefs.add(ae)}removeColumnDef(ae){this._customColumnDefs.delete(ae)}addRowDef(ae){this._customRowDefs.add(ae)}removeRowDef(ae){this._customRowDefs.delete(ae)}addHeaderRowDef(ae){this._customHeaderRowDefs.add(ae),this._headerRowDefChanged=!0}removeHeaderRowDef(ae){this._customHeaderRowDefs.delete(ae),this._headerRowDefChanged=!0}addFooterRowDef(ae){this._customFooterRowDefs.add(ae),this._footerRowDefChanged=!0}removeFooterRowDef(ae){this._customFooterRowDefs.delete(ae),this._footerRowDefChanged=!0}setNoDataRow(ae){this._customNoDataRow=ae}updateStickyHeaderRowStyles(){const ae=this._getRenderedRows(this._headerRowOutlet),kt=this._elementRef.nativeElement.querySelector("thead");kt&&(kt.style.display=ae.length?"":"none");const tn=this._headerRowDefs.map(bn=>bn.sticky);this._stickyStyler.clearStickyPositioning(ae,["top"]),this._stickyStyler.stickRows(ae,tn,"top"),this._headerRowDefs.forEach(bn=>bn.resetStickyChanged())}updateStickyFooterRowStyles(){const ae=this._getRenderedRows(this._footerRowOutlet),kt=this._elementRef.nativeElement.querySelector("tfoot");kt&&(kt.style.display=ae.length?"":"none");const tn=this._footerRowDefs.map(bn=>bn.sticky);this._stickyStyler.clearStickyPositioning(ae,["bottom"]),this._stickyStyler.stickRows(ae,tn,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,tn),this._footerRowDefs.forEach(bn=>bn.resetStickyChanged())}updateStickyColumnStyles(){const ae=this._getRenderedRows(this._headerRowOutlet),qe=this._getRenderedRows(this._rowOutlet),kt=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...ae,...qe,...kt],["left","right"]),this._stickyColumnStylesNeedReset=!1),ae.forEach((tn,bn)=>{this._addStickyColumnStyles([tn],this._headerRowDefs[bn])}),this._rowDefs.forEach(tn=>{const bn=[];for(let ei=0;ei<qe.length;ei++)this._renderRows[ei].rowDef===tn&&bn.push(qe[ei]);this._addStickyColumnStyles(bn,tn)}),kt.forEach((tn,bn)=>{this._addStickyColumnStyles([tn],this._footerRowDefs[bn])}),Array.from(this._columnDefsByName.values()).forEach(tn=>tn.resetStickyChanged())}_getAllRenderRows(){const ae=[],qe=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let kt=0;kt<this._data.length;kt++){let tn=this._data[kt];const bn=this._getRenderRowsForData(tn,kt,qe.get(tn));this._cachedRenderRowsMap.has(tn)||this._cachedRenderRowsMap.set(tn,new WeakMap);for(let ei=0;ei<bn.length;ei++){let Bn=bn[ei];const Pi=this._cachedRenderRowsMap.get(Bn.data);Pi.has(Bn.rowDef)?Pi.get(Bn.rowDef).push(Bn):Pi.set(Bn.rowDef,[Bn]),ae.push(Bn)}}return ae}_getRenderRowsForData(ae,qe,kt){return this._getRowDefs(ae,qe).map(bn=>{const ei=kt&&kt.has(bn)?kt.get(bn):[];if(ei.length){const Bn=ei.shift();return Bn.dataIndex=qe,Bn}return{data:ae,rowDef:bn,dataIndex:qe}})}_cacheColumnDefs(){this._columnDefsByName.clear(),wi(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(qe=>{this._columnDefsByName.has(qe.name),this._columnDefsByName.set(qe.name,qe)})}_cacheRowDefs(){this._headerRowDefs=wi(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=wi(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=wi(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const ae=this._rowDefs.filter(qe=>!qe.when);this._defaultRowDef=ae[0]}_renderUpdatedColumns(){const ae=(bn,ei)=>bn||!!ei.getColumnsDiff(),qe=this._rowDefs.reduce(ae,!1);qe&&this._forceRenderDataRows();const kt=this._headerRowDefs.reduce(ae,!1);kt&&this._forceRenderHeaderRows();const tn=this._footerRowDefs.reduce(ae,!1);return tn&&this._forceRenderFooterRows(),qe||kt||tn}_switchDataSource(ae){this._data=[],(0,b.Z9)(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),ae||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=ae}_observeRenderChanges(){if(!this.dataSource)return;let ae;(0,b.Z9)(this.dataSource)?ae=this.dataSource.connect(this):function B(Te){return!!Te&&(Te instanceof be.y||(0,z.m)(Te.lift)&&(0,z.m)(Te.subscribe))}(this.dataSource)?ae=this.dataSource:Array.isArray(this.dataSource)&&(ae=(0,re.of)(this.dataSource)),this._renderChangeSubscription=ae.pipe((0,xe.R)(this._onDestroy)).subscribe(qe=>{this._data=qe||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((ae,qe)=>this._renderRow(this._headerRowOutlet,ae,qe)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((ae,qe)=>this._renderRow(this._footerRowOutlet,ae,qe)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(ae,qe){const kt=Array.from(qe.columns||[]).map(ei=>this._columnDefsByName.get(ei)),tn=kt.map(ei=>ei.sticky),bn=kt.map(ei=>ei.stickyEnd);this._stickyStyler.updateStickyColumns(ae,tn,bn,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(ae){const qe=[];for(let kt=0;kt<ae.viewContainer.length;kt++){const tn=ae.viewContainer.get(kt);qe.push(tn.rootNodes[0])}return qe}_getRowDefs(ae,qe){if(1==this._rowDefs.length)return[this._rowDefs[0]];let kt=[];if(this.multiTemplateDataRows)kt=this._rowDefs.filter(tn=>!tn.when||tn.when(qe,ae));else{let tn=this._rowDefs.find(bn=>bn.when&&bn.when(qe,ae))||this._defaultRowDef;tn&&kt.push(tn)}return kt}_getEmbeddedViewArgs(ae,qe){return{templateRef:ae.rowDef.template,context:{$implicit:ae.data},index:qe}}_renderRow(ae,qe,kt,tn={}){const bn=ae.viewContainer.createEmbeddedView(qe.template,tn,kt);return this._renderCellTemplateForItem(qe,tn),bn}_renderCellTemplateForItem(ae,qe){for(let kt of this._getCellTemplates(ae))Mt.mostRecentCellOutlet&&Mt.mostRecentCellOutlet._viewContainer.createEmbeddedView(kt,qe);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const ae=this._rowOutlet.viewContainer;for(let qe=0,kt=ae.length;qe<kt;qe++){const bn=ae.get(qe).context;bn.count=kt,bn.first=0===qe,bn.last=qe===kt-1,bn.even=qe%2==0,bn.odd=!bn.even,this.multiTemplateDataRows?(bn.dataIndex=this._renderRows[qe].dataIndex,bn.renderIndex=qe):bn.index=this._renderRows[qe].dataIndex}}_getCellTemplates(ae){return ae&&ae.columns?Array.from(ae.columns,qe=>{const kt=this._columnDefsByName.get(qe);return ae.extractCellTemplate(kt)}):[]}_applyNativeTableSections(){const ae=this._document.createDocumentFragment(),qe=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const kt of qe){const tn=this._document.createElement(kt.tag);tn.setAttribute("role","rowgroup");for(const bn of kt.outlets)tn.appendChild(bn.elementRef.nativeElement);ae.appendChild(tn)}this._elementRef.nativeElement.appendChild(ae)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const ae=(qe,kt)=>qe||kt.hasStickyChanged();this._headerRowDefs.reduce(ae,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(ae,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(ae,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new Qt(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,re.of)()).pipe((0,xe.R)(this._onDestroy)).subscribe(qe=>{this._stickyStyler.direction=qe,this.updateStickyColumnStyles()})}_getOwnDefs(ae){return ae.filter(qe=>!qe._table||qe._table===this)}_updateNoDataRow(){const ae=this._customNoDataRow||this._noDataRow;if(!ae)return;const qe=0===this._rowOutlet.viewContainer.length;if(qe===this._isShowingNoDataRow)return;const kt=this._noDataRowOutlet.viewContainer;if(qe){const tn=kt.createEmbeddedView(ae.templateRef),bn=tn.rootNodes[0];1===tn.rootNodes.length&&(null==bn?void 0:bn.nodeType)===this._document.ELEMENT_NODE&&(bn.setAttribute("role","row"),bn.classList.add(ae._contentClassName))}else kt.clear();this._isShowingNoDataRow=qe}}return Te.\u0275fac=function(ae){return new(ae||Te)(a.Y36(a.ZZ4),a.Y36(a.sBO),a.Y36(a.SBq),a.$8M("role"),a.Y36(Fe.Is,8),a.Y36(te.K0),a.Y36(ot.t4),a.Y36(b.k),a.Y36(Vt),a.Y36(et.rL),a.Y36(_e,12),a.Y36(a.R0b,8))},Te.\u0275cmp=a.Xpm({type:Te,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(ae,qe,kt){if(1&ae&&(a.Suo(kt,Qn,5),a.Suo(kt,jt,5),a.Suo(kt,Je,5),a.Suo(kt,Ze,5),a.Suo(kt,tt,5)),2&ae){let tn;a.iGM(tn=a.CRH())&&(qe._noDataRow=tn.first),a.iGM(tn=a.CRH())&&(qe._contentColumnDefs=tn),a.iGM(tn=a.CRH())&&(qe._contentRowDefs=tn),a.iGM(tn=a.CRH())&&(qe._contentHeaderRowDefs=tn),a.iGM(tn=a.CRH())&&(qe._contentFooterRowDefs=tn)}},viewQuery:function(ae,qe){if(1&ae&&(a.Gf(Tt,7),a.Gf(qt,7),a.Gf(nn,7),a.Gf(Tn,7)),2&ae){let kt;a.iGM(kt=a.CRH())&&(qe._rowOutlet=kt.first),a.iGM(kt=a.CRH())&&(qe._headerRowOutlet=kt.first),a.iGM(kt=a.CRH())&&(qe._footerRowOutlet=kt.first),a.iGM(kt=a.CRH())&&(qe._noDataRowOutlet=kt.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(ae,qe){2&ae&&a.ekj("cdk-table-fixed-layout",qe.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[a._Bn([{provide:me,useExisting:Te},{provide:b.k,useClass:b.yy},{provide:Vt,useClass:Rt},{provide:_e,useValue:null}])],ngContentSelectors:Ke,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(ae,qe){1&ae&&(a.F$t(Re),a.Hsn(0),a.Hsn(1,1),a.GkF(2,0)(3,1)(4,2)(5,3))},directives:[qt,Tt,Tn,nn],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),Te})();function wi(Te,Ne){return Te.concat(Array.from(Ne))}let mi=(()=>{class Te{}return Te.\u0275fac=function(ae){return new(ae||Te)},Te.\u0275mod=a.oAB({type:Te}),Te.\u0275inj=a.cJS({imports:[[et.Cl]]}),Te})();var Sn=D(508);const At=[[["caption"]],[["colgroup"],["col"]]],W=["caption","colgroup, col"];let U=(()=>{class Te extends ii{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return Te.\u0275fac=function(){let Ne;return function(qe){return(Ne||(Ne=a.n5z(Te)))(qe||Te)}}(),Te.\u0275cmp=a.Xpm({type:Te,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(ae,qe){2&ae&&a.ekj("mat-table-fixed-layout",qe.fixedLayout)},exportAs:["matTable"],features:[a._Bn([{provide:b.k,useClass:b.yy},{provide:ii,useExisting:Te},{provide:me,useExisting:Te},{provide:Vt,useClass:Rt},{provide:_e,useValue:null}]),a.qOj],ngContentSelectors:W,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(ae,qe){1&ae&&(a.F$t(At),a.Hsn(0),a.Hsn(1,1),a.GkF(2,0)(3,1)(4,2)(5,3))},directives:[qt,Tt,Tn,nn],styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),Te})(),Se=(()=>{class Te extends Be{}return Te.\u0275fac=function(){let Ne;return function(qe){return(Ne||(Ne=a.n5z(Te)))(qe||Te)}}(),Te.\u0275dir=a.lG2({type:Te,selectors:[["","matCellDef",""]],features:[a._Bn([{provide:Be,useExisting:Te}]),a.qOj]}),Te})(),Me=(()=>{class Te extends Ge{}return Te.\u0275fac=function(){let Ne;return function(qe){return(Ne||(Ne=a.n5z(Te)))(qe||Te)}}(),Te.\u0275dir=a.lG2({type:Te,selectors:[["","matHeaderCellDef",""]],features:[a._Bn([{provide:Ge,useExisting:Te}]),a.qOj]}),Te})(),je=(()=>{class Te extends jt{get name(){return this._name}set name(ae){this._setNameInput(ae)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return Te.\u0275fac=function(){let Ne;return function(qe){return(Ne||(Ne=a.n5z(Te)))(qe||Te)}}(),Te.\u0275dir=a.lG2({type:Te,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[a._Bn([{provide:jt,useExisting:Te},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:Te}]),a.qOj]}),Te})(),It=(()=>{class Te extends zt{}return Te.\u0275fac=function(){let Ne;return function(qe){return(Ne||(Ne=a.n5z(Te)))(qe||Te)}}(),Te.\u0275dir=a.lG2({type:Te,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[a.qOj]}),Te})(),He=(()=>{class Te extends Ft{}return Te.\u0275fac=function(){let Ne;return function(qe){return(Ne||(Ne=a.n5z(Te)))(qe||Te)}}(),Te.\u0275dir=a.lG2({type:Te,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[a.qOj]}),Te})(),ze=(()=>{class Te extends Ze{}return Te.\u0275fac=function(){let Ne;return function(qe){return(Ne||(Ne=a.n5z(Te)))(qe||Te)}}(),Te.\u0275dir=a.lG2({type:Te,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[a._Bn([{provide:Ze,useExisting:Te}]),a.qOj]}),Te})(),pt=(()=>{class Te extends Je{}return Te.\u0275fac=function(){let Ne;return function(qe){return(Ne||(Ne=a.n5z(Te)))(qe||Te)}}(),Te.\u0275dir=a.lG2({type:Te,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[a._Bn([{provide:Je,useExisting:Te}]),a.qOj]}),Te})(),Gt=(()=>{class Te extends rn{}return Te.\u0275fac=function(){let Ne;return function(qe){return(Ne||(Ne=a.n5z(Te)))(qe||Te)}}(),Te.\u0275cmp=a.Xpm({type:Te,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[a._Bn([{provide:rn,useExisting:Te}]),a.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(ae,qe){1&ae&&a.GkF(0,0)},directives:[Mt],encapsulation:2}),Te})(),En=(()=>{class Te extends vn{}return Te.\u0275fac=function(){let Ne;return function(qe){return(Ne||(Ne=a.n5z(Te)))(qe||Te)}}(),Te.\u0275cmp=a.Xpm({type:Te,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[a._Bn([{provide:vn,useExisting:Te}]),a.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(ae,qe){1&ae&&a.GkF(0,0)},directives:[Mt],encapsulation:2}),Te})(),Bi=(()=>{class Te{}return Te.\u0275fac=function(ae){return new(ae||Te)},Te.\u0275mod=a.oAB({type:Te}),Te.\u0275inj=a.cJS({imports:[[mi,Sn.BQ],Sn.BQ]}),Te})()},4594:(on,st,D)=>{D.d(st,{Ye:()=>z,g0:()=>re});var a=D(5e3),R=D(508),b=D(9808),te=D(925);const v=["*",[["mat-toolbar-row"]]],ce=["*","mat-toolbar-row"],ye=(0,R.pj)(class{constructor(xe){this._elementRef=xe}});let be=(()=>{class xe{}return xe.\u0275fac=function(Fe){return new(Fe||xe)},xe.\u0275dir=a.lG2({type:xe,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),xe})(),z=(()=>{class xe extends ye{constructor(Fe,ot,et){super(Fe),this._platform=ot,this._document=et}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return xe.\u0275fac=function(Fe){return new(Fe||xe)(a.Y36(a.SBq),a.Y36(te.t4),a.Y36(b.K0))},xe.\u0275cmp=a.Xpm({type:xe,selectors:[["mat-toolbar"]],contentQueries:function(Fe,ot,et){if(1&Fe&&a.Suo(et,be,5),2&Fe){let Re;a.iGM(Re=a.CRH())&&(ot._toolbarRows=Re)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(Fe,ot){2&Fe&&a.ekj("mat-toolbar-multiple-rows",ot._toolbarRows.length>0)("mat-toolbar-single-row",0===ot._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[a.qOj],ngContentSelectors:ce,decls:2,vars:0,template:function(Fe,ot){1&Fe&&(a.F$t(v),a.Hsn(0),a.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),xe})(),re=(()=>{class xe{}return xe.\u0275fac=function(Fe){return new(Fe||xe)},xe.\u0275mod=a.oAB({type:xe}),xe.\u0275inj=a.cJS({imports:[[R.BQ],R.BQ]}),xe})()},6360:(on,st,D)=>{D.d(st,{Qb:()=>$s,PW:()=>Yr});var a=D(5e3),R=D(6097),b=D(1777);const te=!1;function ce(le){return new a.vHH(3e3,te)}function Pe(){return"undefined"!=typeof window&&void 0!==window.document}function Le(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function tt(le){switch(le.length){case 0:return new b.ZN;case 1:return le[0];default:return new b.ZE(le)}}function Je(le,C,M,H,pe={},Ue={}){const ft=[],gt=[];let Bt=-1,ln=null;if(H.forEach(Nn=>{const Zn=Nn.offset,_i=Zn==Bt,Ii=_i&&ln||{};Object.keys(Nn).forEach(ai=>{let li=ai,Qi=Nn[ai];if("offset"!==ai)switch(li=C.normalizePropertyName(li,ft),Qi){case b.k1:Qi=pe[ai];break;case b.l3:Qi=Ue[ai];break;default:Qi=C.normalizeStyleValue(ai,li,Qi,ft)}Ii[li]=Qi}),_i||gt.push(Ii),ln=Ii,Bt=Zn}),ft.length)throw function bt(le){return new a.vHH(3502,te)}();return gt}function Mt(le,C,M,H){switch(C){case"start":le.onStart(()=>H(M&&rn(M,"start",le)));break;case"done":le.onDone(()=>H(M&&rn(M,"done",le)));break;case"destroy":le.onDestroy(()=>H(M&&rn(M,"destroy",le)))}}function rn(le,C,M){const H=M.totalTime,Ue=fn(le.element,le.triggerName,le.fromState,le.toState,C||le.phaseName,null==H?le.totalTime:H,!!M.disabled),ft=le._data;return null!=ft&&(Ue._data=ft),Ue}function fn(le,C,M,H,pe="",Ue=0,ft){return{element:le,triggerName:C,fromState:M,toState:H,phaseName:pe,totalTime:Ue,disabled:!!ft}}function vn(le,C,M){let H;return le instanceof Map?(H=le.get(C),H||le.set(C,H=M)):(H=le[C],H||(H=le[C]=M)),H}function Qn(le){const C=le.indexOf(":");return[le.substring(1,C),le.substr(C+1)]}let ni=(le,C)=>!1,Qt=(le,C,M)=>[],fe=null;function $e(le){const C=le.parentNode||le.host;return C===fe?null:C}(Le()||"undefined"!=typeof Element)&&(Pe()?(fe=(()=>document.documentElement)(),ni=(le,C)=>{for(;C;){if(C===le)return!0;C=$e(C)}return!1}):ni=(le,C)=>le.contains(C),Qt=(le,C,M)=>{if(M)return Array.from(le.querySelectorAll(C));const H=le.querySelector(C);return H?[H]:[]});let Ye=null,ct=!1;function X(le){Ye||(Ye=function oe(){return"undefined"!=typeof document?document.body:null}()||{},ct=!!Ye.style&&"WebkitAppearance"in Ye.style);let C=!0;return Ye.style&&!function Ht(le){return"ebkit"==le.substring(1,6)}(le)&&(C=le in Ye.style,!C&&ct&&(C="Webkit"+le.charAt(0).toUpperCase()+le.substr(1)in Ye.style)),C}const _e=ni,dt=Qt;let qt=(()=>{class le{validateStyleProperty(M){return X(M)}matchesElement(M,H){return!1}containsElement(M,H){return _e(M,H)}getParentElement(M){return $e(M)}query(M,H,pe){return dt(M,H,pe)}computeStyle(M,H,pe){return pe||""}animate(M,H,pe,Ue,ft,gt=[],Bt){return new b.ZN(pe,Ue)}}return le.\u0275fac=function(M){return new(M||le)},le.\u0275prov=a.Yz7({token:le,factory:le.\u0275fac}),le})(),nn=(()=>{class le{}return le.NOOP=new qt,le})();const ii="ng-enter",wi="ng-leave",ri="ng-trigger",mn=".ng-trigger",mi="ng-animating",Sn=".ng-animating";function At(le){if("number"==typeof le)return le;const C=le.match(/^(-?[\.\d]+)(m?s)/);return!C||C.length<2?0:W(parseFloat(C[1]),C[2])}function W(le,C){return"s"===C?1e3*le:le}function O(le,C,M){return le.hasOwnProperty("duration")?le:function m(le,C,M){let pe,Ue=0,ft="";if("string"==typeof le){const gt=le.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===gt)return C.push(ce()),{duration:0,delay:0,easing:""};pe=W(parseFloat(gt[1]),gt[2]);const Bt=gt[3];null!=Bt&&(Ue=W(parseFloat(Bt),gt[4]));const ln=gt[5];ln&&(ft=ln)}else pe=le;if(!M){let gt=!1,Bt=C.length;pe<0&&(C.push(function ye(){return new a.vHH(3100,te)}()),gt=!0),Ue<0&&(C.push(function be(){return new a.vHH(3101,te)}()),gt=!0),gt&&C.splice(Bt,0,ce())}return{duration:pe,delay:Ue,easing:ft}}(le,C,M)}function x(le,C={}){return Object.keys(le).forEach(M=>{C[M]=le[M]}),C}function Se(le,C,M={}){if(C)for(let H in le)M[H]=le[H];else x(le,M);return M}function Me(le,C,M){return M?C+":"+M+";":""}function Ie(le){let C="";for(let M=0;M<le.style.length;M++){const H=le.style.item(M);C+=Me(0,H,le.style.getPropertyValue(H))}for(const M in le.style)le.style.hasOwnProperty(M)&&!M.startsWith("_")&&(C+=Me(0,gi(M),le.style[M]));le.setAttribute("style",C)}function je(le,C,M){le.style&&(Object.keys(C).forEach(H=>{const pe=En(H);M&&!M.hasOwnProperty(H)&&(M[H]=le.style[pe]),le.style[pe]=C[H]}),Le()&&Ie(le))}function It(le,C){le.style&&(Object.keys(C).forEach(M=>{const H=En(M);le.style[H]=""}),Le()&&Ie(le))}function Et(le){return Array.isArray(le)?1==le.length?le[0]:(0,b.vP)(le):le}const ze=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ve(le){let C=[];if("string"==typeof le){let M;for(;M=ze.exec(le);)C.push(M[1]);ze.lastIndex=0}return C}function pt(le,C,M){const H=le.toString(),pe=H.replace(ze,(Ue,ft)=>{let gt=C[ft];return C.hasOwnProperty(ft)||(M.push(function B(le){return new a.vHH(3003,te)}()),gt=""),gt.toString()});return pe==H?le:pe}function Gt(le){const C=[];let M=le.next();for(;!M.done;)C.push(M.value),M=le.next();return C}const Mn=/-+([a-z0-9])/g;function En(le){return le.replace(Mn,(...C)=>C[1].toUpperCase())}function gi(le){return le.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Bi(le,C,M){switch(C.type){case 7:return le.visitTrigger(C,M);case 0:return le.visitState(C,M);case 1:return le.visitTransition(C,M);case 2:return le.visitSequence(C,M);case 3:return le.visitGroup(C,M);case 4:return le.visitAnimate(C,M);case 5:return le.visitKeyframes(C,M);case 6:return le.visitStyle(C,M);case 8:return le.visitReference(C,M);case 9:return le.visitAnimateChild(C,M);case 10:return le.visitAnimateRef(C,M);case 11:return le.visitQuery(C,M);case 12:return le.visitStagger(C,M);default:throw function re(le){return new a.vHH(3004,te)}()}}function nr(le,C){return window.getComputedStyle(le)[C]}function bn(le,C){const M=[];return"string"==typeof le?le.split(/\s*,\s*/).forEach(H=>function ei(le,C,M){if(":"==le[0]){const Bt=function Bn(le,C){switch(le){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(M,H)=>parseFloat(H)>parseFloat(M);case":decrement":return(M,H)=>parseFloat(H)<parseFloat(M);default:return C.push(function de(le){return new a.vHH(3016,te)}()),"* => *"}}(le,M);if("function"==typeof Bt)return void C.push(Bt);le=Bt}const H=le.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==H||H.length<4)return M.push(function Ge(le){return new a.vHH(3015,te)}()),C;const pe=H[1],Ue=H[2],ft=H[3];C.push(zn(pe,ft));"<"==Ue[0]&&!("*"==pe&&"*"==ft)&&C.push(zn(ft,pe))}(H,M,C)):M.push(le),M}const Pi=new Set(["true","1"]),si=new Set(["false","0"]);function zn(le,C){const M=Pi.has(le)||si.has(le),H=Pi.has(C)||si.has(C);return(pe,Ue)=>{let ft="*"==le||le==pe,gt="*"==C||C==Ue;return!ft&&M&&"boolean"==typeof pe&&(ft=pe?Pi.has(le):si.has(le)),!gt&&H&&"boolean"==typeof Ue&&(gt=Ue?Pi.has(C):si.has(C)),ft&&gt}}const er=new RegExp("s*:selfs*,?","g");function jr(le,C,M,H){return new fi(le).build(C,M,H)}class fi{constructor(C){this._driver=C}build(C,M,H){const pe=new Dt(M);this._resetContextStyleTimingState(pe);const Ue=Bi(this,Et(C),pe);return pe.unsupportedCSSPropertiesFound.size&&pe.unsupportedCSSPropertiesFound.keys(),Ue}_resetContextStyleTimingState(C){C.currentQuerySelector="",C.collectedStyles={},C.collectedStyles[""]={},C.currentTime=0}visitTrigger(C,M){let H=M.queryCount=0,pe=M.depCount=0;const Ue=[],ft=[];return"@"==C.name.charAt(0)&&M.errors.push(function We(){return new a.vHH(3006,te)}()),C.definitions.forEach(gt=>{if(this._resetContextStyleTimingState(M),0==gt.type){const Bt=gt,ln=Bt.name;ln.toString().split(/\s*,\s*/).forEach(Nn=>{Bt.name=Nn,Ue.push(this.visitState(Bt,M))}),Bt.name=ln}else if(1==gt.type){const Bt=this.visitTransition(gt,M);H+=Bt.queryCount,pe+=Bt.depCount,ft.push(Bt)}else M.errors.push(function Fe(){return new a.vHH(3007,te)}())}),{type:7,name:C.name,states:Ue,transitions:ft,queryCount:H,depCount:pe,options:null}}visitState(C,M){const H=this.visitStyle(C.styles,M),pe=C.options&&C.options.params||null;if(H.containsDynamicStyles){const Ue=new Set,ft=pe||{};H.styles.forEach(gt=>{if(an(gt)){const Bt=gt;Object.keys(Bt).forEach(ln=>{Ve(Bt[ln]).forEach(Nn=>{ft.hasOwnProperty(Nn)||Ue.add(Nn)})})}}),Ue.size&&(Gt(Ue.values()),M.errors.push(function ot(le,C){return new a.vHH(3008,te)}()))}return{type:0,name:C.name,style:H,options:pe?{params:pe}:null}}visitTransition(C,M){M.queryCount=0,M.depCount=0;const H=Bi(this,Et(C.animation),M);return{type:1,matchers:bn(C.expr,M.errors),animation:H,queryCount:M.queryCount,depCount:M.depCount,options:Rn(C.options)}}visitSequence(C,M){return{type:2,steps:C.steps.map(H=>Bi(this,H,M)),options:Rn(C.options)}}visitGroup(C,M){const H=M.currentTime;let pe=0;const Ue=C.steps.map(ft=>{M.currentTime=H;const gt=Bi(this,ft,M);return pe=Math.max(pe,M.currentTime),gt});return M.currentTime=pe,{type:3,steps:Ue,options:Rn(C.options)}}visitAnimate(C,M){const H=function _n(le,C){if(le.hasOwnProperty("duration"))return le;if("number"==typeof le)return Xn(O(le,C).duration,0,"");const M=le;if(M.split(/\s+/).some(Ue=>"{"==Ue.charAt(0)&&"{"==Ue.charAt(1))){const Ue=Xn(0,0,"");return Ue.dynamic=!0,Ue.strValue=M,Ue}const pe=O(M,C);return Xn(pe.duration,pe.delay,pe.easing)}(C.timings,M.errors);M.currentAnimateTimings=H;let pe,Ue=C.styles?C.styles:(0,b.oB)({});if(5==Ue.type)pe=this.visitKeyframes(Ue,M);else{let ft=C.styles,gt=!1;if(!ft){gt=!0;const ln={};H.easing&&(ln.easing=H.easing),ft=(0,b.oB)(ln)}M.currentTime+=H.duration+H.delay;const Bt=this.visitStyle(ft,M);Bt.isEmptyStep=gt,pe=Bt}return M.currentAnimateTimings=null,{type:4,timings:H,style:pe,options:null}}visitStyle(C,M){const H=this._makeStyleAst(C,M);return this._validateStyleAst(H,M),H}_makeStyleAst(C,M){const H=[];Array.isArray(C.styles)?C.styles.forEach(ft=>{"string"==typeof ft?ft==b.l3?H.push(ft):M.errors.push(function et(le){return new a.vHH(3002,te)}()):H.push(ft)}):H.push(C.styles);let pe=!1,Ue=null;return H.forEach(ft=>{if(an(ft)){const gt=ft,Bt=gt.easing;if(Bt&&(Ue=Bt,delete gt.easing),!pe)for(let ln in gt)if(gt[ln].toString().indexOf("{{")>=0){pe=!0;break}}}),{type:6,styles:H,easing:Ue,offset:C.offset,containsDynamicStyles:pe,options:null}}_validateStyleAst(C,M){const H=M.currentAnimateTimings;let pe=M.currentTime,Ue=M.currentTime;H&&Ue>0&&(Ue-=H.duration+H.delay),C.styles.forEach(ft=>{"string"!=typeof ft&&Object.keys(ft).forEach(gt=>{if(!this._driver.validateStyleProperty(gt))return delete ft[gt],void M.unsupportedCSSPropertiesFound.add(gt);const Bt=M.collectedStyles[M.currentQuerySelector],ln=Bt[gt];let Nn=!0;ln&&(Ue!=pe&&Ue>=ln.startTime&&pe<=ln.endTime&&(M.errors.push(function Ke(le,C,M,H,pe){return new a.vHH(3010,te)}()),Nn=!1),Ue=ln.startTime),Nn&&(Bt[gt]={startTime:Ue,endTime:pe}),M.options&&function He(le,C,M){const H=C.params||{},pe=Ve(le);pe.length&&pe.forEach(Ue=>{H.hasOwnProperty(Ue)||M.push(function z(le){return new a.vHH(3001,te)}())})}(ft[gt],M.options,M.errors)})})}visitKeyframes(C,M){const H={type:5,styles:[],options:null};if(!M.currentAnimateTimings)return M.errors.push(function _t(){return new a.vHH(3011,te)}()),H;let Ue=0;const ft=[];let gt=!1,Bt=!1,ln=0;const Nn=C.steps.map(rr=>{const ur=this._makeStyleAst(rr,M);let ms=null!=ur.offset?ur.offset:function St(le){if("string"==typeof le)return null;let C=null;if(Array.isArray(le))le.forEach(M=>{if(an(M)&&M.hasOwnProperty("offset")){const H=M;C=parseFloat(H.offset),delete H.offset}});else if(an(le)&&le.hasOwnProperty("offset")){const M=le;C=parseFloat(M.offset),delete M.offset}return C}(ur.styles),Mr=0;return null!=ms&&(Ue++,Mr=ur.offset=ms),Bt=Bt||Mr<0||Mr>1,gt=gt||Mr<ln,ln=Mr,ft.push(Mr),ur});Bt&&M.errors.push(function lt(){return new a.vHH(3012,te)}()),gt&&M.errors.push(function ue(){return new a.vHH(3200,te)}());const Zn=C.steps.length;let _i=0;Ue>0&&Ue<Zn?M.errors.push(function me(){return new a.vHH(3202,te)}()):0==Ue&&(_i=1/(Zn-1));const Ii=Zn-1,ai=M.currentTime,li=M.currentAnimateTimings,Qi=li.duration;return Nn.forEach((rr,ur)=>{const ms=_i>0?ur==Ii?1:_i*ur:ft[ur],Mr=ms*Qi;M.currentTime=ai+li.delay+Mr,li.duration=Mr,this._validateStyleAst(rr,M),rr.offset=ms,H.styles.push(rr)}),H}visitReference(C,M){return{type:8,animation:Bi(this,Et(C.animation),M),options:Rn(C.options)}}visitAnimateChild(C,M){return M.depCount++,{type:9,options:Rn(C.options)}}visitAnimateRef(C,M){return{type:10,animation:this.visitReference(C.animation,M),options:Rn(C.options)}}visitQuery(C,M){const H=M.currentQuerySelector,pe=C.options||{};M.queryCount++,M.currentQuery=C;const[Ue,ft]=function Gr(le){const C=!!le.split(/\s*,\s*/).find(M=>":self"==M);return C&&(le=le.replace(er,"")),le=le.replace(/@\*/g,mn).replace(/@\w+/g,M=>mn+"-"+M.substr(1)).replace(/:animating/g,Sn),[le,C]}(C.selector);M.currentQuerySelector=H.length?H+" "+Ue:Ue,vn(M.collectedStyles,M.currentQuerySelector,{});const gt=Bi(this,Et(C.animation),M);return M.currentQuery=null,M.currentQuerySelector=H,{type:11,selector:Ue,limit:pe.limit||0,optional:!!pe.optional,includeSelf:ft,animation:gt,originalSelector:C.selector,options:Rn(C.options)}}visitStagger(C,M){M.currentQuery||M.errors.push(function Ce(){return new a.vHH(3013,te)}());const H="full"===C.timings?{duration:0,delay:0,easing:"full"}:O(C.timings,M.errors,!0);return{type:12,animation:Bi(this,Et(C.animation),M),timings:H,options:null}}}class Dt{constructor(C){this.errors=C,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function an(le){return!Array.isArray(le)&&"object"==typeof le}function Rn(le){return le?(le=x(le)).params&&(le.params=function Pt(le){return le?x(le):null}(le.params)):le={},le}function Xn(le,C,M){return{duration:le,delay:C,easing:M}}function $i(le,C,M,H,pe,Ue,ft=null,gt=!1){return{type:1,element:le,keyframes:C,preStyleProps:M,postStyleProps:H,duration:pe,delay:Ue,totalTime:pe+Ue,easing:ft,subTimeline:gt}}class Fi{constructor(){this._map=new Map}get(C){return this._map.get(C)||[]}append(C,M){let H=this._map.get(C);H||this._map.set(C,H=[]),H.push(...M)}has(C){return this._map.has(C)}clear(){this._map.clear()}}const kr=new RegExp(":enter","g"),Io=new RegExp(":leave","g");function mr(le,C,M,H,pe,Ue={},ft={},gt,Bt,ln=[]){return(new Ms).buildKeyframes(le,C,M,H,pe,Ue,ft,gt,Bt,ln)}class Ms{buildKeyframes(C,M,H,pe,Ue,ft,gt,Bt,ln,Nn=[]){ln=ln||new Fi;const Zn=new Is(C,M,ln,pe,Ue,Nn,[]);Zn.options=Bt,Zn.currentTimeline.setStyles([ft],null,Zn.errors,Bt),Bi(this,H,Zn);const _i=Zn.timelines.filter(Ii=>Ii.containsAnimation());if(Object.keys(gt).length){let Ii;for(let ai=_i.length-1;ai>=0;ai--){const li=_i[ai];if(li.element===M){Ii=li;break}}Ii&&!Ii.allowOnlyTimelineStyles()&&Ii.setStyles([gt],null,Zn.errors,Bt)}return _i.length?_i.map(Ii=>Ii.buildKeyframes()):[$i(M,[],[],[],0,0,"",!1)]}visitTrigger(C,M){}visitState(C,M){}visitTransition(C,M){}visitAnimateChild(C,M){const H=M.subInstructions.get(M.element);if(H){const pe=M.createSubContext(C.options),Ue=M.currentTimeline.currentTime,ft=this._visitSubInstructions(H,pe,pe.options);Ue!=ft&&M.transformIntoNewTimeline(ft)}M.previousNode=C}visitAnimateRef(C,M){const H=M.createSubContext(C.options);H.transformIntoNewTimeline(),this.visitReference(C.animation,H),M.transformIntoNewTimeline(H.currentTimeline.currentTime),M.previousNode=C}_visitSubInstructions(C,M,H){let Ue=M.currentTimeline.currentTime;const ft=null!=H.duration?At(H.duration):null,gt=null!=H.delay?At(H.delay):null;return 0!==ft&&C.forEach(Bt=>{const ln=M.appendInstructionToTimeline(Bt,ft,gt);Ue=Math.max(Ue,ln.duration+ln.delay)}),Ue}visitReference(C,M){M.updateOptions(C.options,!0),Bi(this,C.animation,M),M.previousNode=C}visitSequence(C,M){const H=M.subContextCount;let pe=M;const Ue=C.options;if(Ue&&(Ue.params||Ue.delay)&&(pe=M.createSubContext(Ue),pe.transformIntoNewTimeline(),null!=Ue.delay)){6==pe.previousNode.type&&(pe.currentTimeline.snapshotCurrentStyles(),pe.previousNode=us);const ft=At(Ue.delay);pe.delayNextStep(ft)}C.steps.length&&(C.steps.forEach(ft=>Bi(this,ft,pe)),pe.currentTimeline.applyStylesToKeyframe(),pe.subContextCount>H&&pe.transformIntoNewTimeline()),M.previousNode=C}visitGroup(C,M){const H=[];let pe=M.currentTimeline.currentTime;const Ue=C.options&&C.options.delay?At(C.options.delay):0;C.steps.forEach(ft=>{const gt=M.createSubContext(C.options);Ue&&gt.delayNextStep(Ue),Bi(this,ft,gt),pe=Math.max(pe,gt.currentTimeline.currentTime),H.push(gt.currentTimeline)}),H.forEach(ft=>M.currentTimeline.mergeTimelineCollectedStyles(ft)),M.transformIntoNewTimeline(pe),M.previousNode=C}_visitTiming(C,M){if(C.dynamic){const H=C.strValue;return O(M.params?pt(H,M.params,M.errors):H,M.errors)}return{duration:C.duration,delay:C.delay,easing:C.easing}}visitAnimate(C,M){const H=M.currentAnimateTimings=this._visitTiming(C.timings,M),pe=M.currentTimeline;H.delay&&(M.incrementTime(H.delay),pe.snapshotCurrentStyles());const Ue=C.style;5==Ue.type?this.visitKeyframes(Ue,M):(M.incrementTime(H.duration),this.visitStyle(Ue,M),pe.applyStylesToKeyframe()),M.currentAnimateTimings=null,M.previousNode=C}visitStyle(C,M){const H=M.currentTimeline,pe=M.currentAnimateTimings;!pe&&H.getCurrentStyleProperties().length&&H.forwardFrame();const Ue=pe&&pe.easing||C.easing;C.isEmptyStep?H.applyEmptyStep(Ue):H.setStyles(C.styles,Ue,M.errors,M.options),M.previousNode=C}visitKeyframes(C,M){const H=M.currentAnimateTimings,pe=M.currentTimeline.duration,Ue=H.duration,gt=M.createSubContext().currentTimeline;gt.easing=H.easing,C.styles.forEach(Bt=>{gt.forwardTime((Bt.offset||0)*Ue),gt.setStyles(Bt.styles,Bt.easing,M.errors,M.options),gt.applyStylesToKeyframe()}),M.currentTimeline.mergeTimelineCollectedStyles(gt),M.transformIntoNewTimeline(pe+Ue),M.previousNode=C}visitQuery(C,M){const H=M.currentTimeline.currentTime,pe=C.options||{},Ue=pe.delay?At(pe.delay):0;Ue&&(6===M.previousNode.type||0==H&&M.currentTimeline.getCurrentStyleProperties().length)&&(M.currentTimeline.snapshotCurrentStyles(),M.previousNode=us);let ft=H;const gt=M.invokeQuery(C.selector,C.originalSelector,C.limit,C.includeSelf,!!pe.optional,M.errors);M.currentQueryTotal=gt.length;let Bt=null;gt.forEach((ln,Nn)=>{M.currentQueryIndex=Nn;const Zn=M.createSubContext(C.options,ln);Ue&&Zn.delayNextStep(Ue),ln===M.element&&(Bt=Zn.currentTimeline),Bi(this,C.animation,Zn),Zn.currentTimeline.applyStylesToKeyframe(),ft=Math.max(ft,Zn.currentTimeline.currentTime)}),M.currentQueryIndex=0,M.currentQueryTotal=0,M.transformIntoNewTimeline(ft),Bt&&(M.currentTimeline.mergeTimelineCollectedStyles(Bt),M.currentTimeline.snapshotCurrentStyles()),M.previousNode=C}visitStagger(C,M){const H=M.parentContext,pe=M.currentTimeline,Ue=C.timings,ft=Math.abs(Ue.duration),gt=ft*(M.currentQueryTotal-1);let Bt=ft*M.currentQueryIndex;switch(Ue.duration<0?"reverse":Ue.easing){case"reverse":Bt=gt-Bt;break;case"full":Bt=H.currentStaggerTime}const Nn=M.currentTimeline;Bt&&Nn.delayNextStep(Bt);const Zn=Nn.currentTime;Bi(this,C.animation,M),M.previousNode=C,H.currentStaggerTime=pe.currentTime-Zn+(pe.startTime-H.currentTimeline.startTime)}}const us={};class Is{constructor(C,M,H,pe,Ue,ft,gt,Bt){this._driver=C,this.element=M,this.subInstructions=H,this._enterClassName=pe,this._leaveClassName=Ue,this.errors=ft,this.timelines=gt,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=us,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Bt||new Vr(this._driver,M,0),gt.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(C,M){if(!C)return;const H=C;let pe=this.options;null!=H.duration&&(pe.duration=At(H.duration)),null!=H.delay&&(pe.delay=At(H.delay));const Ue=H.params;if(Ue){let ft=pe.params;ft||(ft=this.options.params={}),Object.keys(Ue).forEach(gt=>{(!M||!ft.hasOwnProperty(gt))&&(ft[gt]=pt(Ue[gt],ft,this.errors))})}}_copyOptions(){const C={};if(this.options){const M=this.options.params;if(M){const H=C.params={};Object.keys(M).forEach(pe=>{H[pe]=M[pe]})}}return C}createSubContext(C=null,M,H){const pe=M||this.element,Ue=new Is(this._driver,pe,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(pe,H||0));return Ue.previousNode=this.previousNode,Ue.currentAnimateTimings=this.currentAnimateTimings,Ue.options=this._copyOptions(),Ue.updateOptions(C),Ue.currentQueryIndex=this.currentQueryIndex,Ue.currentQueryTotal=this.currentQueryTotal,Ue.parentContext=this,this.subContextCount++,Ue}transformIntoNewTimeline(C){return this.previousNode=us,this.currentTimeline=this.currentTimeline.fork(this.element,C),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(C,M,H){const pe={duration:null!=M?M:C.duration,delay:this.currentTimeline.currentTime+(null!=H?H:0)+C.delay,easing:""},Ue=new To(this._driver,C.element,C.keyframes,C.preStyleProps,C.postStyleProps,pe,C.stretchStartingKeyframe);return this.timelines.push(Ue),pe}incrementTime(C){this.currentTimeline.forwardTime(this.currentTimeline.duration+C)}delayNextStep(C){C>0&&this.currentTimeline.delayNextStep(C)}invokeQuery(C,M,H,pe,Ue,ft){let gt=[];if(pe&&gt.push(this.element),C.length>0){C=(C=C.replace(kr,"."+this._enterClassName)).replace(Io,"."+this._leaveClassName);let ln=this._driver.query(this.element,C,1!=H);0!==H&&(ln=H<0?ln.slice(ln.length+H,ln.length):ln.slice(0,H)),gt.push(...ln)}return!Ue&&0==gt.length&&ft.push(function Be(le){return new a.vHH(3014,te)}()),gt}}class Vr{constructor(C,M,H,pe){this._driver=C,this.element=M,this.startTime=H,this._elementTimelineStylesLookup=pe,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(M),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(M,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(C){const M=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||M?(this.forwardTime(this.currentTime+C),M&&this.snapshotCurrentStyles()):this.startTime+=C}fork(C,M){return this.applyStylesToKeyframe(),new Vr(this._driver,C,M||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(C){this.applyStylesToKeyframe(),this.duration=C,this._loadKeyframe()}_updateStyle(C,M){this._localTimelineStyles[C]=M,this._globalTimelineStyles[C]=M,this._styleSummary[C]={time:this.currentTime,value:M}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(C){C&&(this._previousKeyframe.easing=C),Object.keys(this._globalTimelineStyles).forEach(M=>{this._backFill[M]=this._globalTimelineStyles[M]||b.l3,this._currentKeyframe[M]=b.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(C,M,H,pe){M&&(this._previousKeyframe.easing=M);const Ue=pe&&pe.params||{},ft=function Hs(le,C){const M={};let H;return le.forEach(pe=>{"*"===pe?(H=H||Object.keys(C),H.forEach(Ue=>{M[Ue]=b.l3})):Se(pe,!1,M)}),M}(C,this._globalTimelineStyles);Object.keys(ft).forEach(gt=>{const Bt=pt(ft[gt],Ue,H);this._pendingStyles[gt]=Bt,this._localTimelineStyles.hasOwnProperty(gt)||(this._backFill[gt]=this._globalTimelineStyles.hasOwnProperty(gt)?this._globalTimelineStyles[gt]:b.l3),this._updateStyle(gt,Bt)})}applyStylesToKeyframe(){const C=this._pendingStyles,M=Object.keys(C);0!=M.length&&(this._pendingStyles={},M.forEach(H=>{this._currentKeyframe[H]=C[H]}),Object.keys(this._localTimelineStyles).forEach(H=>{this._currentKeyframe.hasOwnProperty(H)||(this._currentKeyframe[H]=this._localTimelineStyles[H])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(C=>{const M=this._localTimelineStyles[C];this._pendingStyles[C]=M,this._updateStyle(C,M)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const C=[];for(let M in this._currentKeyframe)C.push(M);return C}mergeTimelineCollectedStyles(C){Object.keys(C._styleSummary).forEach(M=>{const H=this._styleSummary[M],pe=C._styleSummary[M];(!H||pe.time>H.time)&&this._updateStyle(M,pe.value)})}buildKeyframes(){this.applyStylesToKeyframe();const C=new Set,M=new Set,H=1===this._keyframes.size&&0===this.duration;let pe=[];this._keyframes.forEach((gt,Bt)=>{const ln=Se(gt,!0);Object.keys(ln).forEach(Nn=>{const Zn=ln[Nn];Zn==b.k1?C.add(Nn):Zn==b.l3&&M.add(Nn)}),H||(ln.offset=Bt/this.duration),pe.push(ln)});const Ue=C.size?Gt(C.values()):[],ft=M.size?Gt(M.values()):[];if(H){const gt=pe[0],Bt=x(gt);gt.offset=0,Bt.offset=1,pe=[gt,Bt]}return $i(this.element,pe,Ue,ft,this.duration,this.startTime,this.easing,!1)}}class To extends Vr{constructor(C,M,H,pe,Ue,ft,gt=!1){super(C,M,ft.delay),this.keyframes=H,this.preStyleProps=pe,this.postStyleProps=Ue,this._stretchStartingKeyframe=gt,this.timings={duration:ft.duration,delay:ft.delay,easing:ft.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let C=this.keyframes,{delay:M,duration:H,easing:pe}=this.timings;if(this._stretchStartingKeyframe&&M){const Ue=[],ft=H+M,gt=M/ft,Bt=Se(C[0],!1);Bt.offset=0,Ue.push(Bt);const ln=Se(C[0],!1);ln.offset=so(gt),Ue.push(ln);const Nn=C.length-1;for(let Zn=1;Zn<=Nn;Zn++){let _i=Se(C[Zn],!1);_i.offset=so((M+_i.offset*H)/ft),Ue.push(_i)}H=ft,M=0,pe="",C=Ue}return $i(this.element,C,this.preStyleProps,this.postStyleProps,H,M,pe,!0)}}function so(le,C=3){const M=Math.pow(10,C-1);return Math.round(le*M)/M}class vs{}class go extends vs{normalizePropertyName(C,M){return En(C)}normalizeStyleValue(C,M,H,pe){let Ue="";const ft=H.toString().trim();if(qo[M]&&0!==H&&"0"!==H)if("number"==typeof H)Ue="px";else{const gt=H.match(/^[+-]?[\d\.]+([a-z]*)$/);gt&&0==gt[1].length&&pe.push(function xe(le,C){return new a.vHH(3005,te)}())}return ft+Ue}}const qo=(()=>function ys(le){const C={};return le.forEach(M=>C[M]=!0),C}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Rs(le,C,M,H,pe,Ue,ft,gt,Bt,ln,Nn,Zn,_i){return{type:0,element:le,triggerName:C,isRemovalTransition:pe,fromState:M,fromStyles:Ue,toState:H,toStyles:ft,timelines:gt,queriedElements:Bt,preStyleProps:ln,postStyleProps:Nn,totalTime:Zn,errors:_i}}const js={};class zr{constructor(C,M,H){this._triggerName=C,this.ast=M,this._stateStyles=H}match(C,M,H,pe){return function ps(le,C,M,H,pe){return le.some(Ue=>Ue(C,M,H,pe))}(this.ast.matchers,C,M,H,pe)}buildStyles(C,M,H){const pe=this._stateStyles["*"],Ue=this._stateStyles[C],ft=pe?pe.buildStyles(M,H):{};return Ue?Ue.buildStyles(M,H):ft}build(C,M,H,pe,Ue,ft,gt,Bt,ln,Nn){const Zn=[],_i=this.ast.options&&this.ast.options.params||js,ai=this.buildStyles(H,gt&&gt.params||js,Zn),li=Bt&&Bt.params||js,Qi=this.buildStyles(pe,li,Zn),rr=new Set,ur=new Map,ms=new Map,Mr="void"===pe,tr={params:Object.assign(Object.assign({},_i),li)},Wr=Nn?[]:mr(C,M,this.ast.animation,Ue,ft,ai,Qi,tr,ln,Zn);let Li=0;if(Wr.forEach(Ho=>{Li=Math.max(Ho.duration+Ho.delay,Li)}),Zn.length)return Rs(M,this._triggerName,H,pe,Mr,ai,Qi,[],[],ur,ms,Li,Zn);Wr.forEach(Ho=>{const So=Ho.element,Jo=vn(ur,So,{});Ho.preStyleProps.forEach(ea=>Jo[ea]=!0);const la=vn(ms,So,{});Ho.postStyleProps.forEach(ea=>la[ea]=!0),So!==M&&rr.add(So)});const fs=Gt(rr.values());return Rs(M,this._triggerName,H,pe,Mr,ai,Qi,Wr,fs,ur,ms,Li)}}class Zs{constructor(C,M,H){this.styles=C,this.defaultParams=M,this.normalizer=H}buildStyles(C,M){const H={},pe=x(this.defaultParams);return Object.keys(C).forEach(Ue=>{const ft=C[Ue];null!=ft&&(pe[Ue]=ft)}),this.styles.styles.forEach(Ue=>{if("string"!=typeof Ue){const ft=Ue;Object.keys(ft).forEach(gt=>{let Bt=ft[gt];Bt.length>1&&(Bt=pt(Bt,pe,M));const ln=this.normalizer.normalizePropertyName(gt,M);Bt=this.normalizer.normalizeStyleValue(gt,ln,Bt,M),H[ln]=Bt})}}),H}}class Or{constructor(C,M,H){this.name=C,this.ast=M,this._normalizer=H,this.transitionFactories=[],this.states={},M.states.forEach(pe=>{this.states[pe.name]=new Zs(pe.style,pe.options&&pe.options.params||{},H)}),ts(this.states,"true","1"),ts(this.states,"false","0"),M.transitions.forEach(pe=>{this.transitionFactories.push(new zr(C,pe,this.states))}),this.fallbackTransition=function Gs(le,C,M){return new zr(le,{type:1,animation:{type:2,steps:[],options:null},matchers:[(ft,gt)=>!0],options:null,queryCount:0,depCount:0},C)}(C,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(C,M,H,pe){return this.transitionFactories.find(ft=>ft.match(C,M,H,pe))||null}matchStyles(C,M,H){return this.fallbackTransition.buildStyles(C,M,H)}}function ts(le,C,M){le.hasOwnProperty(C)?le.hasOwnProperty(M)||(le[M]=le[C]):le.hasOwnProperty(M)&&(le[C]=le[M])}const ns=new Fi;class zs{constructor(C,M,H){this.bodyNode=C,this._driver=M,this._normalizer=H,this._animations={},this._playersById={},this.players=[]}register(C,M){const H=[],Ue=jr(this._driver,M,H,[]);if(H.length)throw function zt(le){return new a.vHH(3503,te)}();this._animations[C]=Ue}_buildPlayer(C,M,H){const pe=C.element,Ue=Je(0,this._normalizer,0,C.keyframes,M,H);return this._driver.animate(pe,Ue,C.duration,C.delay,C.easing,[],!0)}create(C,M,H={}){const pe=[],Ue=this._animations[C];let ft;const gt=new Map;if(Ue?(ft=mr(this._driver,M,Ue,ii,wi,{},{},H,ns,pe),ft.forEach(Nn=>{const Zn=vn(gt,Nn.element,{});Nn.postStyleProps.forEach(_i=>Zn[_i]=null)})):(pe.push(function rt(){return new a.vHH(3300,te)}()),ft=[]),pe.length)throw function Ft(le){return new a.vHH(3504,te)}();gt.forEach((Nn,Zn)=>{Object.keys(Nn).forEach(_i=>{Nn[_i]=this._driver.computeStyle(Zn,_i,b.l3)})});const ln=tt(ft.map(Nn=>{const Zn=gt.get(Nn.element);return this._buildPlayer(Nn,{},Zn)}));return this._playersById[C]=ln,ln.onDestroy(()=>this.destroy(C)),this.players.push(ln),ln}destroy(C){const M=this._getPlayer(C);M.destroy(),delete this._playersById[C];const H=this.players.indexOf(M);H>=0&&this.players.splice(H,1)}_getPlayer(C){const M=this._playersById[C];if(!M)throw function xt(le){return new a.vHH(3301,te)}();return M}listen(C,M,H,pe){const Ue=fn(M,"","","");return Mt(this._getPlayer(C),H,Ue,pe),()=>{}}command(C,M,H,pe){if("register"==H)return void this.register(C,pe[0]);if("create"==H)return void this.create(C,M,pe[0]||{});const Ue=this._getPlayer(C);switch(H){case"play":Ue.play();break;case"pause":Ue.pause();break;case"reset":Ue.reset();break;case"restart":Ue.restart();break;case"finish":Ue.finish();break;case"init":Ue.init();break;case"setPosition":Ue.setPosition(parseFloat(pe[0]));break;case"destroy":this.destroy(C)}}}const Br="ng-animate-queued",$r="ng-animate-disabled",Ki=[],bs={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},wr={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Dr="__ng_removed";class oo{constructor(C,M=""){this.namespaceId=M;const H=C&&C.hasOwnProperty("value");if(this.value=function K(le){return null!=le?le:null}(H?C.value:C),H){const Ue=x(C);delete Ue.value,this.options=Ue}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(C){const M=C.params;if(M){const H=this.options.params;Object.keys(M).forEach(pe=>{null==H[pe]&&(H[pe]=M[pe])})}}}const Fs="void",Ss=new oo(Fs);class qs{constructor(C,M,H){this.id=C,this.hostElement=M,this._engine=H,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+C,un(M,this._hostClassName)}listen(C,M,H,pe){if(!this._triggers.hasOwnProperty(M))throw function Vt(le,C){return new a.vHH(3302,te)}();if(null==H||0==H.length)throw function Rt(le){return new a.vHH(3303,te)}();if(!function $(le){return"start"==le||"done"==le}(H))throw function Lt(le,C){return new a.vHH(3400,te)}();const Ue=vn(this._elementListeners,C,[]),ft={name:M,phase:H,callback:pe};Ue.push(ft);const gt=vn(this._engine.statesByElement,C,{});return gt.hasOwnProperty(M)||(un(C,ri),un(C,ri+"-"+M),gt[M]=Ss),()=>{this._engine.afterFlush(()=>{const Bt=Ue.indexOf(ft);Bt>=0&&Ue.splice(Bt,1),this._triggers[M]||delete gt[M]})}}register(C,M){return!this._triggers[C]&&(this._triggers[C]=M,!0)}_getTrigger(C){const M=this._triggers[C];if(!M)throw function dn(le){return new a.vHH(3401,te)}();return M}trigger(C,M,H,pe=!0){const Ue=this._getTrigger(M),ft=new ds(this.id,M,C);let gt=this._engine.statesByElement.get(C);gt||(un(C,ri),un(C,ri+"-"+M),this._engine.statesByElement.set(C,gt={}));let Bt=gt[M];const ln=new oo(H,this.id);if(!(H&&H.hasOwnProperty("value"))&&Bt&&ln.absorbOptions(Bt.options),gt[M]=ln,Bt||(Bt=Ss),ln.value!==Fs&&Bt.value===ln.value){if(!function Ei(le,C){const M=Object.keys(le),H=Object.keys(C);if(M.length!=H.length)return!1;for(let pe=0;pe<M.length;pe++){const Ue=M[pe];if(!C.hasOwnProperty(Ue)||le[Ue]!==C[Ue])return!1}return!0}(Bt.params,ln.params)){const li=[],Qi=Ue.matchStyles(Bt.value,Bt.params,li),rr=Ue.matchStyles(ln.value,ln.params,li);li.length?this._engine.reportError(li):this._engine.afterFlush(()=>{It(C,Qi),je(C,rr)})}return}const _i=vn(this._engine.playersByElement,C,[]);_i.forEach(li=>{li.namespaceId==this.id&&li.triggerName==M&&li.queued&&li.destroy()});let Ii=Ue.matchTransition(Bt.value,ln.value,C,ln.params),ai=!1;if(!Ii){if(!pe)return;Ii=Ue.fallbackTransition,ai=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:C,triggerName:M,transition:Ii,fromState:Bt,toState:ln,player:ft,isFallbackTransition:ai}),ai||(un(C,Br),ft.onStart(()=>{Vn(C,Br)})),ft.onDone(()=>{let li=this.players.indexOf(ft);li>=0&&this.players.splice(li,1);const Qi=this._engine.playersByElement.get(C);if(Qi){let rr=Qi.indexOf(ft);rr>=0&&Qi.splice(rr,1)}}),this.players.push(ft),_i.push(ft),ft}deregister(C){delete this._triggers[C],this._engine.statesByElement.forEach((M,H)=>{delete M[C]}),this._elementListeners.forEach((M,H)=>{this._elementListeners.set(H,M.filter(pe=>pe.name!=C))})}clearElementCache(C){this._engine.statesByElement.delete(C),this._elementListeners.delete(C);const M=this._engine.playersByElement.get(C);M&&(M.forEach(H=>H.destroy()),this._engine.playersByElement.delete(C))}_signalRemovalForInnerTriggers(C,M){const H=this._engine.driver.query(C,mn,!0);H.forEach(pe=>{if(pe[Dr])return;const Ue=this._engine.fetchNamespacesByElement(pe);Ue.size?Ue.forEach(ft=>ft.triggerLeaveAnimation(pe,M,!1,!0)):this.clearElementCache(pe)}),this._engine.afterFlushAnimationsDone(()=>H.forEach(pe=>this.clearElementCache(pe)))}triggerLeaveAnimation(C,M,H,pe){const Ue=this._engine.statesByElement.get(C),ft=new Map;if(Ue){const gt=[];if(Object.keys(Ue).forEach(Bt=>{if(ft.set(Bt,Ue[Bt].value),this._triggers[Bt]){const ln=this.trigger(C,Bt,Fs,pe);ln&&gt.push(ln)}}),gt.length)return this._engine.markElementAsRemoved(this.id,C,!0,M,ft),H&&tt(gt).onDone(()=>this._engine.processLeaveNode(C)),!0}return!1}prepareLeaveAnimationListeners(C){const M=this._elementListeners.get(C),H=this._engine.statesByElement.get(C);if(M&&H){const pe=new Set;M.forEach(Ue=>{const ft=Ue.name;if(pe.has(ft))return;pe.add(ft);const Bt=this._triggers[ft].fallbackTransition,ln=H[ft]||Ss,Nn=new oo(Fs),Zn=new ds(this.id,ft,C);this._engine.totalQueuedPlayers++,this._queue.push({element:C,triggerName:ft,transition:Bt,fromState:ln,toState:Nn,player:Zn,isFallbackTransition:!0})})}}removeNode(C,M){const H=this._engine;if(C.childElementCount&&this._signalRemovalForInnerTriggers(C,M),this.triggerLeaveAnimation(C,M,!0))return;let pe=!1;if(H.totalAnimations){const Ue=H.players.length?H.playersByQueriedElement.get(C):[];if(Ue&&Ue.length)pe=!0;else{let ft=C;for(;ft=ft.parentNode;)if(H.statesByElement.get(ft)){pe=!0;break}}}if(this.prepareLeaveAnimationListeners(C),pe)H.markElementAsRemoved(this.id,C,!1,M);else{const Ue=C[Dr];(!Ue||Ue===bs)&&(H.afterFlush(()=>this.clearElementCache(C)),H.destroyInnerAnimations(C),H._onRemovalComplete(C,M))}}insertNode(C,M){un(C,this._hostClassName)}drainQueuedTransitions(C){const M=[];return this._queue.forEach(H=>{const pe=H.player;if(pe.destroyed)return;const Ue=H.element,ft=this._elementListeners.get(Ue);ft&&ft.forEach(gt=>{if(gt.name==H.triggerName){const Bt=fn(Ue,H.triggerName,H.fromState.value,H.toState.value);Bt._data=C,Mt(H.player,gt.phase,Bt,gt.callback)}}),pe.markedForDestroy?this._engine.afterFlush(()=>{pe.destroy()}):M.push(H)}),this._queue=[],M.sort((H,pe)=>{const Ue=H.transition.ast.depCount,ft=pe.transition.ast.depCount;return 0==Ue||0==ft?Ue-ft:this._engine.driver.containsElement(H.element,pe.element)?1:-1})}destroy(C){this.players.forEach(M=>M.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,C)}elementContainsData(C){let M=!1;return this._elementListeners.has(C)&&(M=!0),M=!!this._queue.find(H=>H.element===C)||M,M}}class Pr{constructor(C,M,H){this.bodyNode=C,this.driver=M,this._normalizer=H,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(pe,Ue)=>{}}_onRemovalComplete(C,M){this.onRemovalComplete(C,M)}get queuedPlayers(){const C=[];return this._namespaceList.forEach(M=>{M.players.forEach(H=>{H.queued&&C.push(H)})}),C}createNamespace(C,M){const H=new qs(C,M,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,M)?this._balanceNamespaceList(H,M):(this.newHostElements.set(M,H),this.collectEnterElement(M)),this._namespaceLookup[C]=H}_balanceNamespaceList(C,M){const H=this._namespaceList,pe=this.namespacesByHostElement,Ue=H.length-1;if(Ue>=0){let ft=!1;if(void 0!==this.driver.getParentElement){let gt=this.driver.getParentElement(M);for(;gt;){const Bt=pe.get(gt);if(Bt){const ln=H.indexOf(Bt);H.splice(ln+1,0,C),ft=!0;break}gt=this.driver.getParentElement(gt)}}else for(let gt=Ue;gt>=0;gt--)if(this.driver.containsElement(H[gt].hostElement,M)){H.splice(gt+1,0,C),ft=!0;break}ft||H.unshift(C)}else H.push(C);return pe.set(M,C),C}register(C,M){let H=this._namespaceLookup[C];return H||(H=this.createNamespace(C,M)),H}registerTrigger(C,M,H){let pe=this._namespaceLookup[C];pe&&pe.register(M,H)&&this.totalAnimations++}destroy(C,M){if(!C)return;const H=this._fetchNamespace(C);this.afterFlush(()=>{this.namespacesByHostElement.delete(H.hostElement),delete this._namespaceLookup[C];const pe=this._namespaceList.indexOf(H);pe>=0&&this._namespaceList.splice(pe,1)}),this.afterFlushAnimationsDone(()=>H.destroy(M))}_fetchNamespace(C){return this._namespaceLookup[C]}fetchNamespacesByElement(C){const M=new Set,H=this.statesByElement.get(C);if(H){const pe=Object.keys(H);for(let Ue=0;Ue<pe.length;Ue++){const ft=H[pe[Ue]].namespaceId;if(ft){const gt=this._fetchNamespace(ft);gt&&M.add(gt)}}}return M}trigger(C,M,H,pe){if(Ee(M)){const Ue=this._fetchNamespace(C);if(Ue)return Ue.trigger(M,H,pe),!0}return!1}insertNode(C,M,H,pe){if(!Ee(M))return;const Ue=M[Dr];if(Ue&&Ue.setForRemoval){Ue.setForRemoval=!1,Ue.setForMove=!0;const ft=this.collectedLeaveElements.indexOf(M);ft>=0&&this.collectedLeaveElements.splice(ft,1)}if(C){const ft=this._fetchNamespace(C);ft&&ft.insertNode(M,H)}pe&&this.collectEnterElement(M)}collectEnterElement(C){this.collectedEnterElements.push(C)}markElementAsDisabled(C,M){M?this.disabledNodes.has(C)||(this.disabledNodes.add(C),un(C,$r)):this.disabledNodes.has(C)&&(this.disabledNodes.delete(C),Vn(C,$r))}removeNode(C,M,H,pe){if(Ee(M)){const Ue=C?this._fetchNamespace(C):null;if(Ue?Ue.removeNode(M,pe):this.markElementAsRemoved(C,M,!1,pe),H){const ft=this.namespacesByHostElement.get(M);ft&&ft.id!==C&&ft.removeNode(M,pe)}}else this._onRemovalComplete(M,pe)}markElementAsRemoved(C,M,H,pe,Ue){this.collectedLeaveElements.push(M),M[Dr]={namespaceId:C,setForRemoval:pe,hasAnimation:H,removedBeforeQueried:!1,previousTriggersValues:Ue}}listen(C,M,H,pe,Ue){return Ee(M)?this._fetchNamespace(C).listen(M,H,pe,Ue):()=>{}}_buildInstruction(C,M,H,pe,Ue){return C.transition.build(this.driver,C.element,C.fromState.value,C.toState.value,H,pe,C.fromState.options,C.toState.options,M,Ue)}destroyInnerAnimations(C){let M=this.driver.query(C,mn,!0);M.forEach(H=>this.destroyActiveAnimationsForElement(H)),0!=this.playersByQueriedElement.size&&(M=this.driver.query(C,Sn,!0),M.forEach(H=>this.finishActiveQueriedAnimationOnElement(H)))}destroyActiveAnimationsForElement(C){const M=this.playersByElement.get(C);M&&M.forEach(H=>{H.queued?H.markedForDestroy=!0:H.destroy()})}finishActiveQueriedAnimationOnElement(C){const M=this.playersByQueriedElement.get(C);M&&M.forEach(H=>H.finish())}whenRenderingDone(){return new Promise(C=>{if(this.players.length)return tt(this.players).onDone(()=>C());C()})}processLeaveNode(C){var M;const H=C[Dr];if(H&&H.setForRemoval){if(C[Dr]=bs,H.namespaceId){this.destroyInnerAnimations(C);const pe=this._fetchNamespace(H.namespaceId);pe&&pe.clearElementCache(C)}this._onRemovalComplete(C,H.setForRemoval)}(null===(M=C.classList)||void 0===M?void 0:M.contains($r))&&this.markElementAsDisabled(C,!1),this.driver.query(C,".ng-animate-disabled",!0).forEach(pe=>{this.markElementAsDisabled(pe,!1)})}flush(C=-1){let M=[];if(this.newHostElements.size&&(this.newHostElements.forEach((H,pe)=>this._balanceNamespaceList(H,pe)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let H=0;H<this.collectedEnterElements.length;H++)un(this.collectedEnterElements[H],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const H=[];try{M=this._flushAnimations(H,C)}finally{for(let pe=0;pe<H.length;pe++)H[pe]()}}else for(let H=0;H<this.collectedLeaveElements.length;H++)this.processLeaveNode(this.collectedLeaveElements[H]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(H=>H()),this._flushFns=[],this._whenQuietFns.length){const H=this._whenQuietFns;this._whenQuietFns=[],M.length?tt(M).onDone(()=>{H.forEach(pe=>pe())}):H.forEach(pe=>pe())}}reportError(C){throw function Wt(le){return new a.vHH(3402,te)}()}_flushAnimations(C,M){const H=new Fi,pe=[],Ue=new Map,ft=[],gt=new Map,Bt=new Map,ln=new Map,Nn=new Set;this.disabledNodes.forEach(jn=>{Nn.add(jn);const Un=this.driver.query(jn,".ng-animate-queued",!0);for(let ui=0;ui<Un.length;ui++)Nn.add(Un[ui])});const Zn=this.bodyNode,_i=Array.from(this.statesByElement.keys()),Ii=Xt(_i,this.collectedEnterElements),ai=new Map;let li=0;Ii.forEach((jn,Un)=>{const ui=ii+li++;ai.set(Un,ui),jn.forEach(di=>un(di,ui))});const Qi=[],rr=new Set,ur=new Set;for(let jn=0;jn<this.collectedLeaveElements.length;jn++){const Un=this.collectedLeaveElements[jn],ui=Un[Dr];ui&&ui.setForRemoval&&(Qi.push(Un),rr.add(Un),ui.hasAnimation?this.driver.query(Un,".ng-star-inserted",!0).forEach(di=>rr.add(di)):ur.add(Un))}const ms=new Map,Mr=Xt(_i,Array.from(rr));Mr.forEach((jn,Un)=>{const ui=wi+li++;ms.set(Un,ui),jn.forEach(di=>un(di,ui))}),C.push(()=>{Ii.forEach((jn,Un)=>{const ui=ai.get(Un);jn.forEach(di=>Vn(di,ui))}),Mr.forEach((jn,Un)=>{const ui=ms.get(Un);jn.forEach(di=>Vn(di,ui))}),Qi.forEach(jn=>{this.processLeaveNode(jn)})});const tr=[],Wr=[];for(let jn=this._namespaceList.length-1;jn>=0;jn--)this._namespaceList[jn].drainQueuedTransitions(M).forEach(ui=>{const di=ui.player,Zi=ui.element;if(tr.push(di),this.collectedEnterElements.length){const Zr=Zi[Dr];if(Zr&&Zr.setForMove){if(Zr.previousTriggersValues&&Zr.previousTriggersValues.has(ui.triggerName)){const Hn=Zr.previousTriggersValues.get(ui.triggerName),On=this.statesByElement.get(ui.element);On&&On[ui.triggerName]&&(On[ui.triggerName].value=Hn)}return void di.destroy()}}const br=!Zn||!this.driver.containsElement(Zn,Zi),Kr=ms.get(Zi),vo=ai.get(Zi),cn=this._buildInstruction(ui,H,vo,Kr,br);if(cn.errors&&cn.errors.length)return void Wr.push(cn);if(br)return di.onStart(()=>It(Zi,cn.fromStyles)),di.onDestroy(()=>je(Zi,cn.toStyles)),void pe.push(di);if(ui.isFallbackTransition)return di.onStart(()=>It(Zi,cn.fromStyles)),di.onDestroy(()=>je(Zi,cn.toStyles)),void pe.push(di);const dr=[];cn.timelines.forEach(Zr=>{Zr.stretchStartingKeyframe=!0,this.disabledNodes.has(Zr.element)||dr.push(Zr)}),cn.timelines=dr,H.append(Zi,cn.timelines),ft.push({instruction:cn,player:di,element:Zi}),cn.queriedElements.forEach(Zr=>vn(gt,Zr,[]).push(di)),cn.preStyleProps.forEach((Zr,Hn)=>{const On=Object.keys(Zr);if(On.length){let is=Bt.get(Hn);is||Bt.set(Hn,is=new Set),On.forEach(An=>is.add(An))}}),cn.postStyleProps.forEach((Zr,Hn)=>{const On=Object.keys(Zr);let is=ln.get(Hn);is||ln.set(Hn,is=new Set),On.forEach(An=>is.add(An))})});if(Wr.length){const jn=[];Wr.forEach(Un=>{jn.push(function Ze(le,C){return new a.vHH(3505,te)}())}),tr.forEach(Un=>Un.destroy()),this.reportError(jn)}const Li=new Map,fs=new Map;ft.forEach(jn=>{const Un=jn.element;H.has(Un)&&(fs.set(Un,Un),this._beforeAnimationBuild(jn.player.namespaceId,jn.instruction,Li))}),pe.forEach(jn=>{const Un=jn.element;this._getPreviousPlayers(Un,!1,jn.namespaceId,jn.triggerName,null).forEach(di=>{vn(Li,Un,[]).push(di),di.destroy()})});const Ho=Qi.filter(jn=>or(jn,Bt,ln)),So=new Map;yt(So,this.driver,ur,ln,b.l3).forEach(jn=>{or(jn,Bt,ln)&&Ho.push(jn)});const la=new Map;Ii.forEach((jn,Un)=>{yt(la,this.driver,new Set(jn),Bt,b.k1)}),Ho.forEach(jn=>{const Un=So.get(jn),ui=la.get(jn);So.set(jn,Object.assign(Object.assign({},Un),ui))});const ea=[],xo=[],vr={};ft.forEach(jn=>{const{element:Un,player:ui,instruction:di}=jn;if(H.has(Un)){if(Nn.has(Un))return ui.onDestroy(()=>je(Un,di.toStyles)),ui.disabled=!0,ui.overrideTotalTime(di.totalTime),void pe.push(ui);let Zi=vr;if(fs.size>1){let Kr=Un;const vo=[];for(;Kr=Kr.parentNode;){const cn=fs.get(Kr);if(cn){Zi=cn;break}vo.push(Kr)}vo.forEach(cn=>fs.set(cn,Zi))}const br=this._buildAnimation(ui.namespaceId,di,Li,Ue,la,So);if(ui.setRealPlayer(br),Zi===vr)ea.push(ui);else{const Kr=this.playersByElement.get(Zi);Kr&&Kr.length&&(ui.parentPlayer=tt(Kr)),pe.push(ui)}}else It(Un,di.fromStyles),ui.onDestroy(()=>je(Un,di.toStyles)),xo.push(ui),Nn.has(Un)&&pe.push(ui)}),xo.forEach(jn=>{const Un=Ue.get(jn.element);if(Un&&Un.length){const ui=tt(Un);jn.setRealPlayer(ui)}}),pe.forEach(jn=>{jn.parentPlayer?jn.syncPlayerEvents(jn.parentPlayer):jn.destroy()});for(let jn=0;jn<Qi.length;jn++){const Un=Qi[jn],ui=Un[Dr];if(Vn(Un,wi),ui&&ui.hasAnimation)continue;let di=[];if(gt.size){let br=gt.get(Un);br&&br.length&&di.push(...br);let Kr=this.driver.query(Un,Sn,!0);for(let vo=0;vo<Kr.length;vo++){let cn=gt.get(Kr[vo]);cn&&cn.length&&di.push(...cn)}}const Zi=di.filter(br=>!br.destroyed);Zi.length?ci(this,Un,Zi):this.processLeaveNode(Un)}return Qi.length=0,ea.forEach(jn=>{this.players.push(jn),jn.onDone(()=>{jn.destroy();const Un=this.players.indexOf(jn);this.players.splice(Un,1)}),jn.play()}),ea}elementContainsData(C,M){let H=!1;const pe=M[Dr];return pe&&pe.setForRemoval&&(H=!0),this.playersByElement.has(M)&&(H=!0),this.playersByQueriedElement.has(M)&&(H=!0),this.statesByElement.has(M)&&(H=!0),this._fetchNamespace(C).elementContainsData(M)||H}afterFlush(C){this._flushFns.push(C)}afterFlushAnimationsDone(C){this._whenQuietFns.push(C)}_getPreviousPlayers(C,M,H,pe,Ue){let ft=[];if(M){const gt=this.playersByQueriedElement.get(C);gt&&(ft=gt)}else{const gt=this.playersByElement.get(C);if(gt){const Bt=!Ue||Ue==Fs;gt.forEach(ln=>{ln.queued||!Bt&&ln.triggerName!=pe||ft.push(ln)})}}return(H||pe)&&(ft=ft.filter(gt=>!(H&&H!=gt.namespaceId||pe&&pe!=gt.triggerName))),ft}_beforeAnimationBuild(C,M,H){const Ue=M.element,ft=M.isRemovalTransition?void 0:C,gt=M.isRemovalTransition?void 0:M.triggerName;for(const Bt of M.timelines){const ln=Bt.element,Nn=ln!==Ue,Zn=vn(H,ln,[]);this._getPreviousPlayers(ln,Nn,ft,gt,M.toState).forEach(Ii=>{const ai=Ii.getRealPlayer();ai.beforeDestroy&&ai.beforeDestroy(),Ii.destroy(),Zn.push(Ii)})}It(Ue,M.fromStyles)}_buildAnimation(C,M,H,pe,Ue,ft){const gt=M.triggerName,Bt=M.element,ln=[],Nn=new Set,Zn=new Set,_i=M.timelines.map(ai=>{const li=ai.element;Nn.add(li);const Qi=li[Dr];if(Qi&&Qi.removedBeforeQueried)return new b.ZN(ai.duration,ai.delay);const rr=li!==Bt,ur=function Oi(le){const C=[];return Jn(le,C),C}((H.get(li)||Ki).map(Li=>Li.getRealPlayer())).filter(Li=>!!Li.element&&Li.element===li),ms=Ue.get(li),Mr=ft.get(li),tr=Je(0,this._normalizer,0,ai.keyframes,ms,Mr),Wr=this._buildPlayer(ai,tr,ur);if(ai.subTimeline&&pe&&Zn.add(li),rr){const Li=new ds(C,gt,li);Li.setRealPlayer(Wr),ln.push(Li)}return Wr});ln.forEach(ai=>{vn(this.playersByQueriedElement,ai.element,[]).push(ai),ai.onDone(()=>function xi(le,C,M){let H;if(le instanceof Map){if(H=le.get(C),H){if(H.length){const pe=H.indexOf(M);H.splice(pe,1)}0==H.length&&le.delete(C)}}else if(H=le[C],H){if(H.length){const pe=H.indexOf(M);H.splice(pe,1)}0==H.length&&delete le[C]}return H}(this.playersByQueriedElement,ai.element,ai))}),Nn.forEach(ai=>un(ai,mi));const Ii=tt(_i);return Ii.onDestroy(()=>{Nn.forEach(ai=>Vn(ai,mi)),je(Bt,M.toStyles)}),Zn.forEach(ai=>{vn(pe,ai,[]).push(Ii)}),Ii}_buildPlayer(C,M,H){return M.length>0?this.driver.animate(C.element,M,C.duration,C.delay,C.easing,H):new b.ZN(C.duration,C.delay)}}class ds{constructor(C,M,H){this.namespaceId=C,this.triggerName=M,this.element=H,this._player=new b.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(C){this._containsRealPlayer||(this._player=C,Object.keys(this._queuedCallbacks).forEach(M=>{this._queuedCallbacks[M].forEach(H=>Mt(C,M,void 0,H))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(C.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(C){this.totalTime=C}syncPlayerEvents(C){const M=this._player;M.triggerCallback&&C.onStart(()=>M.triggerCallback("start")),C.onDone(()=>this.finish()),C.onDestroy(()=>this.destroy())}_queueEvent(C,M){vn(this._queuedCallbacks,C,[]).push(M)}onDone(C){this.queued&&this._queueEvent("done",C),this._player.onDone(C)}onStart(C){this.queued&&this._queueEvent("start",C),this._player.onStart(C)}onDestroy(C){this.queued&&this._queueEvent("destroy",C),this._player.onDestroy(C)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(C){this.queued||this._player.setPosition(C)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(C){const M=this._player;M.triggerCallback&&M.triggerCallback(C)}}function Ee(le){return le&&1===le.nodeType}function Ae(le,C){const M=le.style.display;return le.style.display=null!=C?C:"none",M}function yt(le,C,M,H,pe){const Ue=[];M.forEach(Bt=>Ue.push(Ae(Bt)));const ft=[];H.forEach((Bt,ln)=>{const Nn={};Bt.forEach(Zn=>{const _i=Nn[Zn]=C.computeStyle(ln,Zn,pe);(!_i||0==_i.length)&&(ln[Dr]=wr,ft.push(ln))}),le.set(ln,Nn)});let gt=0;return M.forEach(Bt=>Ae(Bt,Ue[gt++])),ft}function Xt(le,C){const M=new Map;if(le.forEach(gt=>M.set(gt,[])),0==C.length)return M;const pe=new Set(C),Ue=new Map;function ft(gt){if(!gt)return 1;let Bt=Ue.get(gt);if(Bt)return Bt;const ln=gt.parentNode;return Bt=M.has(ln)?ln:pe.has(ln)?1:ft(ln),Ue.set(gt,Bt),Bt}return C.forEach(gt=>{const Bt=ft(gt);1!==Bt&&M.get(Bt).push(gt)}),M}function un(le,C){var M;null===(M=le.classList)||void 0===M||M.add(C)}function Vn(le,C){var M;null===(M=le.classList)||void 0===M||M.remove(C)}function ci(le,C,M){tt(M).onDone(()=>le.processLeaveNode(C))}function Jn(le,C){for(let M=0;M<le.length;M++){const H=le[M];H instanceof b.ZE?Jn(H.players,C):C.push(H)}}function or(le,C,M){const H=M.get(le);if(!H)return!1;let pe=C.get(le);return pe?H.forEach(Ue=>pe.add(Ue)):C.set(le,H),M.delete(le),!0}class Ri{constructor(C,M,H){this.bodyNode=C,this._driver=M,this._normalizer=H,this._triggerCache={},this.onRemovalComplete=(pe,Ue)=>{},this._transitionEngine=new Pr(C,M,H),this._timelineEngine=new zs(C,M,H),this._transitionEngine.onRemovalComplete=(pe,Ue)=>this.onRemovalComplete(pe,Ue)}registerTrigger(C,M,H,pe,Ue){const ft=C+"-"+pe;let gt=this._triggerCache[ft];if(!gt){const Bt=[],Nn=jr(this._driver,Ue,Bt,[]);if(Bt.length)throw function jt(le,C){return new a.vHH(3404,te)}();gt=function Qo(le,C,M){return new Or(le,C,M)}(pe,Nn,this._normalizer),this._triggerCache[ft]=gt}this._transitionEngine.registerTrigger(M,pe,gt)}register(C,M){this._transitionEngine.register(C,M)}destroy(C,M){this._transitionEngine.destroy(C,M)}onInsert(C,M,H,pe){this._transitionEngine.insertNode(C,M,H,pe)}onRemove(C,M,H,pe){this._transitionEngine.removeNode(C,M,pe||!1,H)}disableAnimations(C,M){this._transitionEngine.markElementAsDisabled(C,M)}process(C,M,H,pe){if("@"==H.charAt(0)){const[Ue,ft]=Qn(H);this._timelineEngine.command(Ue,M,ft,pe)}else this._transitionEngine.trigger(C,M,H,pe)}listen(C,M,H,pe,Ue){if("@"==H.charAt(0)){const[ft,gt]=Qn(H);return this._timelineEngine.listen(ft,M,gt,Ue)}return this._transitionEngine.listen(C,M,H,pe,Ue)}flush(C=-1){this._transitionEngine.flush(C)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Z=(()=>{class le{constructor(M,H,pe){this._element=M,this._startStyles=H,this._endStyles=pe,this._state=0;let Ue=le.initialStylesByElement.get(M);Ue||le.initialStylesByElement.set(M,Ue={}),this._initialStyles=Ue}start(){this._state<1&&(this._startStyles&&je(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(je(this._element,this._initialStyles),this._endStyles&&(je(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(le.initialStylesByElement.delete(this._element),this._startStyles&&(It(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(It(this._element,this._endStyles),this._endStyles=null),je(this._element,this._initialStyles),this._state=3)}}return le.initialStylesByElement=new WeakMap,le})();function j(le){let C=null;const M=Object.keys(le);for(let H=0;H<M.length;H++){const pe=M[H];F(pe)&&(C=C||{},C[pe]=le[pe])}return C}function F(le){return"display"===le||"position"===le}class De{constructor(C,M,H,pe){this.element=C,this.keyframes=M,this.options=H,this._specialStyles=pe,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=H.duration,this._delay=H.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(C=>C()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const C=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,C,this.options),this._finalKeyframe=C.length?C[C.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(C,M,H){return C.animate(M,H)}onStart(C){this._onStartFns.push(C)}onDone(C){this._onDoneFns.push(C)}onDestroy(C){this._onDestroyFns.push(C)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(C=>C()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(C=>C()),this._onDestroyFns=[])}setPosition(C){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=C*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const C={};if(this.hasStarted()){const M=this._finalKeyframe;Object.keys(M).forEach(H=>{"offset"!=H&&(C[H]=this._finished?M[H]:nr(this.element,H))})}this.currentSnapshot=C}triggerCallback(C){const M="start"==C?this._onStartFns:this._onDoneFns;M.forEach(H=>H()),M.length=0}}class en{validateStyleProperty(C){return X(C)}matchesElement(C,M){return!1}containsElement(C,M){return _e(C,M)}getParentElement(C){return $e(C)}query(C,M,H){return dt(C,M,H)}computeStyle(C,M,H){return window.getComputedStyle(C)[M]}animate(C,M,H,pe,Ue,ft=[]){const Bt={duration:H,delay:pe,fill:0==pe?"both":"forwards"};Ue&&(Bt.easing=Ue);const ln={},Nn=ft.filter(_i=>_i instanceof De);(function Di(le,C){return 0===le||0===C})(H,pe)&&Nn.forEach(_i=>{let Ii=_i.currentSnapshot;Object.keys(Ii).forEach(ai=>ln[ai]=Ii[ai])}),M=function Vi(le,C,M){const H=Object.keys(M);if(H.length&&C.length){let Ue=C[0],ft=[];if(H.forEach(gt=>{Ue.hasOwnProperty(gt)||ft.push(gt),Ue[gt]=M[gt]}),ft.length)for(var pe=1;pe<C.length;pe++){let gt=C[pe];ft.forEach(function(Bt){gt[Bt]=nr(le,Bt)})}}return C}(C,M=M.map(_i=>Se(_i,!1)),ln);const Zn=function qi(le,C){let M=null,H=null;return Array.isArray(C)&&C.length?(M=j(C[0]),C.length>1&&(H=j(C[C.length-1]))):C&&(M=j(C)),M||H?new Z(le,M,H):null}(C,M);return new De(C,M,Bt,Zn)}}var Ln=D(9808);let ir=(()=>{class le extends b._j{constructor(M,H){super(),this._nextAnimationId=0,this._renderer=M.createRenderer(H.body,{id:"0",encapsulation:a.ifc.None,styles:[],data:{animation:[]}})}build(M){const H=this._nextAnimationId.toString();this._nextAnimationId++;const pe=Array.isArray(M)?(0,b.vP)(M):M;return _o(this._renderer,null,H,"register",[pe]),new Fr(H,this._renderer)}}return le.\u0275fac=function(M){return new(M||le)(a.LFG(a.FYo),a.LFG(Ln.K0))},le.\u0275prov=a.Yz7({token:le,factory:le.\u0275fac}),le})();class Fr extends b.LC{constructor(C,M){super(),this._id=C,this._renderer=M}create(C,M){return new hs(this._id,C,M||{},this._renderer)}}class hs{constructor(C,M,H,pe){this.id=C,this.element=M,this._renderer=pe,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",H)}_listen(C,M){return this._renderer.listen(this.element,`@@${this.id}:${C}`,M)}_command(C,...M){return _o(this._renderer,this.element,this.id,C,M)}onDone(C){this._listen("done",C)}onStart(C){this._listen("start",C)}onDestroy(C){this._listen("destroy",C)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(C){this._command("setPosition",C)}getPosition(){var C,M;return null!==(M=null===(C=this._renderer.engine.players[+this.id])||void 0===C?void 0:C.getPosition())&&void 0!==M?M:0}}function _o(le,C,M,H,pe){return le.setProperty(C,`@@${M}:${H}`,pe)}const pn="@.disabled";let Ui=(()=>{class le{constructor(M,H,pe){this.delegate=M,this.engine=H,this._zone=pe,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),H.onRemovalComplete=(Ue,ft)=>{const gt=null==ft?void 0:ft.parentNode(Ue);gt&&ft.removeChild(gt,Ue)}}createRenderer(M,H){const Ue=this.delegate.createRenderer(M,H);if(!(M&&H&&H.data&&H.data.animation)){let Nn=this._rendererCache.get(Ue);return Nn||(Nn=new ao("",Ue,this.engine),this._rendererCache.set(Ue,Nn)),Nn}const ft=H.id,gt=H.id+"-"+this._currentId;this._currentId++,this.engine.register(gt,M);const Bt=Nn=>{Array.isArray(Nn)?Nn.forEach(Bt):this.engine.registerTrigger(ft,gt,M,Nn.name,Nn)};return H.data.animation.forEach(Bt),new Er(this,gt,Ue,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(M,H,pe){M>=0&&M<this._microtaskId?this._zone.run(()=>H(pe)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(Ue=>{const[ft,gt]=Ue;ft(gt)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([H,pe]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return le.\u0275fac=function(M){return new(M||le)(a.LFG(a.FYo),a.LFG(Ri),a.LFG(a.R0b))},le.\u0275prov=a.Yz7({token:le,factory:le.\u0275fac}),le})();class ao{constructor(C,M,H){this.namespaceId=C,this.delegate=M,this.engine=H,this.destroyNode=this.delegate.destroyNode?pe=>M.destroyNode(pe):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(C,M){return this.delegate.createElement(C,M)}createComment(C){return this.delegate.createComment(C)}createText(C){return this.delegate.createText(C)}appendChild(C,M){this.delegate.appendChild(C,M),this.engine.onInsert(this.namespaceId,M,C,!1)}insertBefore(C,M,H,pe=!0){this.delegate.insertBefore(C,M,H),this.engine.onInsert(this.namespaceId,M,C,pe)}removeChild(C,M,H){this.engine.onRemove(this.namespaceId,M,this.delegate,H)}selectRootElement(C,M){return this.delegate.selectRootElement(C,M)}parentNode(C){return this.delegate.parentNode(C)}nextSibling(C){return this.delegate.nextSibling(C)}setAttribute(C,M,H,pe){this.delegate.setAttribute(C,M,H,pe)}removeAttribute(C,M,H){this.delegate.removeAttribute(C,M,H)}addClass(C,M){this.delegate.addClass(C,M)}removeClass(C,M){this.delegate.removeClass(C,M)}setStyle(C,M,H,pe){this.delegate.setStyle(C,M,H,pe)}removeStyle(C,M,H){this.delegate.removeStyle(C,M,H)}setProperty(C,M,H){"@"==M.charAt(0)&&M==pn?this.disableAnimations(C,!!H):this.delegate.setProperty(C,M,H)}setValue(C,M){this.delegate.setValue(C,M)}listen(C,M,H){return this.delegate.listen(C,M,H)}disableAnimations(C,M){this.engine.disableAnimations(C,M)}}class Er extends ao{constructor(C,M,H,pe){super(M,H,pe),this.factory=C,this.namespaceId=M}setProperty(C,M,H){"@"==M.charAt(0)?"."==M.charAt(1)&&M==pn?this.disableAnimations(C,H=void 0===H||!!H):this.engine.process(this.namespaceId,C,M.substr(1),H):this.delegate.setProperty(C,M,H)}listen(C,M,H){if("@"==M.charAt(0)){const pe=function oa(le){switch(le){case"body":return document.body;case"document":return document;case"window":return window;default:return le}}(C);let Ue=M.substr(1),ft="";return"@"!=Ue.charAt(0)&&([Ue,ft]=function Qs(le){const C=le.indexOf(".");return[le.substring(0,C),le.substr(C+1)]}(Ue)),this.engine.listen(this.namespaceId,pe,Ue,ft,gt=>{this.factory.scheduleListenerCallback(gt._data||-1,H,gt)})}return this.delegate.listen(C,M,H)}}let Ns=(()=>{class le extends Ri{constructor(M,H,pe){super(M.body,H,pe)}ngOnDestroy(){this.flush()}}return le.\u0275fac=function(M){return new(M||le)(a.LFG(Ln.K0),a.LFG(nn),a.LFG(vs))},le.\u0275prov=a.Yz7({token:le,factory:le.\u0275fac}),le})();const $s=new a.OlP("AnimationModuleType"),aa=[{provide:b._j,useClass:ir},{provide:vs,useFactory:function Xo(){return new go}},{provide:Ri,useClass:Ns},{provide:a.FYo,useFactory:function Sa(le,C,M){return new Ui(le,C,M)},deps:[R.se,Ri,a.R0b]}],Ua=[{provide:nn,useFactory:()=>new en},{provide:$s,useValue:"BrowserAnimations"},...aa],lo=[{provide:nn,useClass:qt},{provide:$s,useValue:"NoopAnimations"},...aa];let Yr=(()=>{class le{static withConfig(M){return{ngModule:le,providers:M.disableAnimations?lo:Ua}}}return le.\u0275fac=function(M){return new(M||le)},le.\u0275mod=a.oAB({type:le}),le.\u0275inj=a.cJS({providers:Ua,imports:[R.b2]}),le})()},6097:(on,st,D)=>{D.d(st,{H7:()=>Ie,b2:()=>ni,q6:()=>vn,se:()=>zt});var a=D(9808),R=D(5e3);class b extends a.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class te extends b{static makeCurrent(){(0,a.HT)(new te)}onAndCancel(ze,Ve,pt){return ze.addEventListener(Ve,pt,!1),()=>{ze.removeEventListener(Ve,pt,!1)}}dispatchEvent(ze,Ve){ze.dispatchEvent(Ve)}remove(ze){ze.parentNode&&ze.parentNode.removeChild(ze)}createElement(ze,Ve){return(Ve=Ve||this.getDefaultDocument()).createElement(ze)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ze){return ze.nodeType===Node.ELEMENT_NODE}isShadowRoot(ze){return ze instanceof DocumentFragment}getGlobalEventTarget(ze,Ve){return"window"===Ve?window:"document"===Ve?ze:"body"===Ve?ze.body:null}getBaseHref(ze){const Ve=function ce(){return v=v||document.querySelector("base"),v?v.getAttribute("href"):null}();return null==Ve?null:function be(He){ye=ye||document.createElement("a"),ye.setAttribute("href",He);const ze=ye.pathname;return"/"===ze.charAt(0)?ze:`/${ze}`}(Ve)}resetBaseElement(){v=null}getUserAgent(){return window.navigator.userAgent}getCookie(ze){return(0,a.Mx)(document.cookie,ze)}}let ye,v=null;const z=new R.OlP("TRANSITION_ID"),re=[{provide:R.ip1,useFactory:function B(He,ze,Ve){return()=>{Ve.get(R.CZH).donePromise.then(()=>{const pt=(0,a.q)(),Gt=ze.querySelectorAll(`style[ng-transition="${He}"]`);for(let Mn=0;Mn<Gt.length;Mn++)pt.remove(Gt[Mn])})}},deps:[z,a.K0,R.zs3],multi:!0}];class xe{static init(){(0,R.VLi)(new xe)}addToWindow(ze){R.dqk.getAngularTestability=(pt,Gt=!0)=>{const Mn=ze.findTestabilityInTree(pt,Gt);if(null==Mn)throw new Error("Could not find testability for element.");return Mn},R.dqk.getAllAngularTestabilities=()=>ze.getAllTestabilities(),R.dqk.getAllAngularRootElements=()=>ze.getAllRootElements(),R.dqk.frameworkStabilizers||(R.dqk.frameworkStabilizers=[]),R.dqk.frameworkStabilizers.push(pt=>{const Gt=R.dqk.getAllAngularTestabilities();let Mn=Gt.length,En=!1;const gi=function(Di){En=En||Di,Mn--,0==Mn&&pt(En)};Gt.forEach(function(Di){Di.whenStable(gi)})})}findTestabilityInTree(ze,Ve,pt){if(null==Ve)return null;const Gt=ze.getTestability(Ve);return null!=Gt?Gt:pt?(0,a.q)().isShadowRoot(Ve)?this.findTestabilityInTree(ze,Ve.host,!0):this.findTestabilityInTree(ze,Ve.parentElement,!0):null}}let We=(()=>{class He{build(){return new XMLHttpRequest}}return He.\u0275fac=function(Ve){return new(Ve||He)},He.\u0275prov=R.Yz7({token:He,factory:He.\u0275fac}),He})();const Fe=new R.OlP("EventManagerPlugins");let ot=(()=>{class He{constructor(Ve,pt){this._zone=pt,this._eventNameToPlugin=new Map,Ve.forEach(Gt=>Gt.manager=this),this._plugins=Ve.slice().reverse()}addEventListener(Ve,pt,Gt){return this._findPluginFor(pt).addEventListener(Ve,pt,Gt)}addGlobalEventListener(Ve,pt,Gt){return this._findPluginFor(pt).addGlobalEventListener(Ve,pt,Gt)}getZone(){return this._zone}_findPluginFor(Ve){const pt=this._eventNameToPlugin.get(Ve);if(pt)return pt;const Gt=this._plugins;for(let Mn=0;Mn<Gt.length;Mn++){const En=Gt[Mn];if(En.supports(Ve))return this._eventNameToPlugin.set(Ve,En),En}throw new Error(`No event manager plugin found for event ${Ve}`)}}return He.\u0275fac=function(Ve){return new(Ve||He)(R.LFG(Fe),R.LFG(R.R0b))},He.\u0275prov=R.Yz7({token:He,factory:He.\u0275fac}),He})();class et{constructor(ze){this._doc=ze}addGlobalEventListener(ze,Ve,pt){const Gt=(0,a.q)().getGlobalEventTarget(this._doc,ze);if(!Gt)throw new Error(`Unsupported event target ${Gt} for event ${Ve}`);return this.addEventListener(Gt,Ve,pt)}}let Re=(()=>{class He{constructor(){this._stylesSet=new Set}addStyles(Ve){const pt=new Set;Ve.forEach(Gt=>{this._stylesSet.has(Gt)||(this._stylesSet.add(Gt),pt.add(Gt))}),this.onStylesAdded(pt)}onStylesAdded(Ve){}getAllStyles(){return Array.from(this._stylesSet)}}return He.\u0275fac=function(Ve){return new(Ve||He)},He.\u0275prov=R.Yz7({token:He,factory:He.\u0275fac}),He})(),Ke=(()=>{class He extends Re{constructor(Ve){super(),this._doc=Ve,this._hostNodes=new Map,this._hostNodes.set(Ve.head,[])}_addStylesToHost(Ve,pt,Gt){Ve.forEach(Mn=>{const En=this._doc.createElement("style");En.textContent=Mn,Gt.push(pt.appendChild(En))})}addHost(Ve){const pt=[];this._addStylesToHost(this._stylesSet,Ve,pt),this._hostNodes.set(Ve,pt)}removeHost(Ve){const pt=this._hostNodes.get(Ve);pt&&pt.forEach(_t),this._hostNodes.delete(Ve)}onStylesAdded(Ve){this._hostNodes.forEach((pt,Gt)=>{this._addStylesToHost(Ve,Gt,pt)})}ngOnDestroy(){this._hostNodes.forEach(Ve=>Ve.forEach(_t))}}return He.\u0275fac=function(Ve){return new(Ve||He)(R.LFG(a.K0))},He.\u0275prov=R.Yz7({token:He,factory:He.\u0275fac}),He})();function _t(He){(0,a.q)().remove(He)}const lt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ue=/%COMP%/g;function Qe(He,ze,Ve){for(let pt=0;pt<ze.length;pt++){let Gt=ze[pt];Array.isArray(Gt)?Qe(He,Gt,Ve):(Gt=Gt.replace(ue,He),Ve.push(Gt))}return Ve}function jt(He){return ze=>{if("__ngUnwrap__"===ze)return He;!1===He(ze)&&(ze.preventDefault(),ze.returnValue=!1)}}let zt=(()=>{class He{constructor(Ve,pt,Gt){this.eventManager=Ve,this.sharedStylesHost=pt,this.appId=Gt,this.rendererByCompId=new Map,this.defaultRenderer=new rt(Ve)}createRenderer(Ve,pt){if(!Ve||!pt)return this.defaultRenderer;switch(pt.encapsulation){case R.ifc.Emulated:{let Gt=this.rendererByCompId.get(pt.id);return Gt||(Gt=new Vt(this.eventManager,this.sharedStylesHost,pt,this.appId),this.rendererByCompId.set(pt.id,Gt)),Gt.applyToHost(Ve),Gt}case 1:case R.ifc.ShadowDom:return new Rt(this.eventManager,this.sharedStylesHost,Ve,pt);default:if(!this.rendererByCompId.has(pt.id)){const Gt=Qe(pt.id,pt.styles,[]);this.sharedStylesHost.addStyles(Gt),this.rendererByCompId.set(pt.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return He.\u0275fac=function(Ve){return new(Ve||He)(R.LFG(ot),R.LFG(Ke),R.LFG(R.AFp))},He.\u0275prov=R.Yz7({token:He,factory:He.\u0275fac}),He})();class rt{constructor(ze){this.eventManager=ze,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ze,Ve){return Ve?document.createElementNS(lt[Ve]||Ve,ze):document.createElement(ze)}createComment(ze){return document.createComment(ze)}createText(ze){return document.createTextNode(ze)}appendChild(ze,Ve){ze.appendChild(Ve)}insertBefore(ze,Ve,pt){ze&&ze.insertBefore(Ve,pt)}removeChild(ze,Ve){ze&&ze.removeChild(Ve)}selectRootElement(ze,Ve){let pt="string"==typeof ze?document.querySelector(ze):ze;if(!pt)throw new Error(`The selector "${ze}" did not match any elements`);return Ve||(pt.textContent=""),pt}parentNode(ze){return ze.parentNode}nextSibling(ze){return ze.nextSibling}setAttribute(ze,Ve,pt,Gt){if(Gt){Ve=Gt+":"+Ve;const Mn=lt[Gt];Mn?ze.setAttributeNS(Mn,Ve,pt):ze.setAttribute(Ve,pt)}else ze.setAttribute(Ve,pt)}removeAttribute(ze,Ve,pt){if(pt){const Gt=lt[pt];Gt?ze.removeAttributeNS(Gt,Ve):ze.removeAttribute(`${pt}:${Ve}`)}else ze.removeAttribute(Ve)}addClass(ze,Ve){ze.classList.add(Ve)}removeClass(ze,Ve){ze.classList.remove(Ve)}setStyle(ze,Ve,pt,Gt){Gt&(R.JOm.DashCase|R.JOm.Important)?ze.style.setProperty(Ve,pt,Gt&R.JOm.Important?"important":""):ze.style[Ve]=pt}removeStyle(ze,Ve,pt){pt&R.JOm.DashCase?ze.style.removeProperty(Ve):ze.style[Ve]=""}setProperty(ze,Ve,pt){ze[Ve]=pt}setValue(ze,Ve){ze.nodeValue=Ve}listen(ze,Ve,pt){return"string"==typeof ze?this.eventManager.addGlobalEventListener(ze,Ve,jt(pt)):this.eventManager.addEventListener(ze,Ve,jt(pt))}}class Vt extends rt{constructor(ze,Ve,pt,Gt){super(ze),this.component=pt;const Mn=Qe(Gt+"-"+pt.id,pt.styles,[]);Ve.addStyles(Mn),this.contentAttr=function de(He){return"_ngcontent-%COMP%".replace(ue,He)}(Gt+"-"+pt.id),this.hostAttr=function ut(He){return"_nghost-%COMP%".replace(ue,He)}(Gt+"-"+pt.id)}applyToHost(ze){super.setAttribute(ze,this.hostAttr,"")}createElement(ze,Ve){const pt=super.createElement(ze,Ve);return super.setAttribute(pt,this.contentAttr,""),pt}}class Rt extends rt{constructor(ze,Ve,pt,Gt){super(ze),this.sharedStylesHost=Ve,this.hostEl=pt,this.shadowRoot=pt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Mn=Qe(Gt.id,Gt.styles,[]);for(let En=0;En<Mn.length;En++){const gi=document.createElement("style");gi.textContent=Mn[En],this.shadowRoot.appendChild(gi)}}nodeOrShadowRoot(ze){return ze===this.hostEl?this.shadowRoot:ze}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(ze,Ve){return super.appendChild(this.nodeOrShadowRoot(ze),Ve)}insertBefore(ze,Ve,pt){return super.insertBefore(this.nodeOrShadowRoot(ze),Ve,pt)}removeChild(ze,Ve){return super.removeChild(this.nodeOrShadowRoot(ze),Ve)}parentNode(ze){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ze)))}}let Lt=(()=>{class He extends et{constructor(Ve){super(Ve)}supports(Ve){return!0}addEventListener(Ve,pt,Gt){return Ve.addEventListener(pt,Gt,!1),()=>this.removeEventListener(Ve,pt,Gt)}removeEventListener(Ve,pt,Gt){return Ve.removeEventListener(pt,Gt)}}return He.\u0275fac=function(Ve){return new(Ve||He)(R.LFG(a.K0))},He.\u0275prov=R.Yz7({token:He,factory:He.\u0275fac}),He})();const dn=["alt","control","meta","shift"],Ut={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ze={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Pe={alt:He=>He.altKey,control:He=>He.ctrlKey,meta:He=>He.metaKey,shift:He=>He.shiftKey};let Le=(()=>{class He extends et{constructor(Ve){super(Ve)}supports(Ve){return null!=He.parseEventName(Ve)}addEventListener(Ve,pt,Gt){const Mn=He.parseEventName(pt),En=He.eventCallback(Mn.fullKey,Gt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,a.q)().onAndCancel(Ve,Mn.domEventName,En))}static parseEventName(Ve){const pt=Ve.toLowerCase().split("."),Gt=pt.shift();if(0===pt.length||"keydown"!==Gt&&"keyup"!==Gt)return null;const Mn=He._normalizeKey(pt.pop());let En="";if(dn.forEach(Di=>{const Vi=pt.indexOf(Di);Vi>-1&&(pt.splice(Vi,1),En+=Di+".")}),En+=Mn,0!=pt.length||0===Mn.length)return null;const gi={};return gi.domEventName=Gt,gi.fullKey=En,gi}static getEventFullKey(Ve){let pt="",Gt=function tt(He){let ze=He.key;if(null==ze){if(ze=He.keyIdentifier,null==ze)return"Unidentified";ze.startsWith("U+")&&(ze=String.fromCharCode(parseInt(ze.substring(2),16)),3===He.location&&Ze.hasOwnProperty(ze)&&(ze=Ze[ze]))}return Ut[ze]||ze}(Ve);return Gt=Gt.toLowerCase()," "===Gt?Gt="space":"."===Gt&&(Gt="dot"),dn.forEach(Mn=>{Mn!=Gt&&Pe[Mn](Ve)&&(pt+=Mn+".")}),pt+=Gt,pt}static eventCallback(Ve,pt,Gt){return Mn=>{He.getEventFullKey(Mn)===Ve&&Gt.runGuarded(()=>pt(Mn))}}static _normalizeKey(Ve){return"esc"===Ve?"escape":Ve}}return He.\u0275fac=function(Ve){return new(Ve||He)(R.LFG(a.K0))},He.\u0275prov=R.Yz7({token:He,factory:He.\u0275fac}),He})();const vn=(0,R.eFA)(R._c5,"browser",[{provide:R.Lbi,useValue:a.bD},{provide:R.g9A,useValue:function Je(){te.makeCurrent(),xe.init()},multi:!0},{provide:a.K0,useFactory:function rn(){return(0,R.RDi)(document),document},deps:[]}]),Qn=[{provide:R.zSh,useValue:"root"},{provide:R.qLn,useFactory:function Mt(){return new R.qLn},deps:[]},{provide:Fe,useClass:Lt,multi:!0,deps:[a.K0,R.R0b,R.Lbi]},{provide:Fe,useClass:Le,multi:!0,deps:[a.K0]},{provide:zt,useClass:zt,deps:[ot,Ke,R.AFp]},{provide:R.FYo,useExisting:zt},{provide:Re,useExisting:Ke},{provide:Ke,useClass:Ke,deps:[a.K0]},{provide:R.dDg,useClass:R.dDg,deps:[R.R0b]},{provide:ot,useClass:ot,deps:[Fe,R.R0b]},{provide:a.JF,useClass:We,deps:[]}];let ni=(()=>{class He{constructor(Ve){if(Ve)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(Ve){return{ngModule:He,providers:[{provide:R.AFp,useValue:Ve.appId},{provide:z,useExisting:R.AFp},re]}}}return He.\u0275fac=function(Ve){return new(Ve||He)(R.LFG(He,12))},He.\u0275mod=R.oAB({type:He}),He.\u0275inj=R.cJS({providers:Qn,imports:[a.ez,R.hGG]}),He})();"undefined"!=typeof window&&window;let Ie=(()=>{class He{}return He.\u0275fac=function(Ve){return new(Ve||He)},He.\u0275prov=R.Yz7({token:He,factory:function(Ve){let pt=null;return pt=Ve?new(Ve||He):R.LFG(It),pt},providedIn:"root"}),He})(),It=(()=>{class He extends Ie{constructor(Ve){super(),this._doc=Ve}sanitize(Ve,pt){if(null==pt)return null;switch(Ve){case R.q3G.NONE:return pt;case R.q3G.HTML:return(0,R.qzn)(pt,"HTML")?(0,R.z3N)(pt):(0,R.EiD)(this._doc,String(pt)).toString();case R.q3G.STYLE:return(0,R.qzn)(pt,"Style")?(0,R.z3N)(pt):pt;case R.q3G.SCRIPT:if((0,R.qzn)(pt,"Script"))return(0,R.z3N)(pt);throw new Error("unsafe value used in a script context");case R.q3G.URL:return(0,R.yhl)(pt),(0,R.qzn)(pt,"URL")?(0,R.z3N)(pt):(0,R.mCW)(String(pt));case R.q3G.RESOURCE_URL:if((0,R.qzn)(pt,"ResourceURL"))return(0,R.z3N)(pt);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${Ve} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(Ve){return(0,R.JVY)(Ve)}bypassSecurityTrustStyle(Ve){return(0,R.L6k)(Ve)}bypassSecurityTrustScript(Ve){return(0,R.eBb)(Ve)}bypassSecurityTrustUrl(Ve){return(0,R.LAX)(Ve)}bypassSecurityTrustResourceUrl(Ve){return(0,R.pB0)(Ve)}}return He.\u0275fac=function(Ve){return new(Ve||He)(R.LFG(a.K0))},He.\u0275prov=R.Yz7({token:He,factory:function(Ve){let pt=null;return pt=Ve?new Ve:function je(He){return new It(He.get(a.K0))}(R.LFG(R.zs3)),pt},providedIn:"root"}),He})()},3287:(on,st,D)=>{D.d(st,{F0:()=>vr,yS:()=>di,Bz:()=>yn,lC:()=>Dr});var a=D(5e3),R=D(8306),b=D(4742),te=D(8996),v=D(4671),ce=D(3268),ye=D(3269),be=D(1810),z=D(5403),B=D(9672);function We(P,T,E){P?(0,B.f)(E,P,T):T()}var Fe=D(727),ot=D(4482);function et(){return(0,ot.e)((P,T)=>{let E=null;P._refCount++;const L=(0,z.x)(T,void 0,void 0,void 0,()=>{if(!P||P._refCount<=0||0<--P._refCount)return void(E=null);const Q=P._connection,ge=E;E=null,Q&&(!ge||Q===ge)&&Q.unsubscribe(),T.unsubscribe()});P.subscribe(L),L.closed||(E=P.connect())})}class Re extends R.y{constructor(T,E){super(),this.source=T,this.subjectFactory=E,this._subject=null,this._refCount=0,this._connection=null,(0,ot.A)(T)&&(this.lift=T.lift)}_subscribe(T){return this.getSubject().subscribe(T)}getSubject(){const T=this._subject;return(!T||T.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:T}=this;this._subject=this._connection=null,null==T||T.unsubscribe()}connect(){let T=this._connection;if(!T){T=this._connection=new Fe.w0;const E=this.getSubject();T.add(this.source.subscribe((0,z.x)(E,void 0,()=>{this._teardown(),E.complete()},L=>{this._teardown(),E.error(L)},()=>this._teardown()))),T.closed&&(this._connection=null,T=Fe.w0.EMPTY)}return T}refCount(){return et()(this)}}var Ke=D(9646),_t=D(1135),lt=D(2843),ue=D(6805),me=D(7272),Ce=D(9770),Be=D(515),Ge=D(7579),de=D(9300);function ut(P){return P<=0?()=>Be.E:(0,ot.e)((T,E)=>{let L=[];T.subscribe((0,z.x)(E,Q=>{L.push(Q),P<L.length&&L.shift()},()=>{for(const Q of L)E.next(Q);E.complete()},void 0,()=>{L=null}))})}var Qe=D(8068),jt=D(6590),zt=D(4004),rt=D(3900),Ft=D(5698),xt=D(8675),Vt=D(5026),Rt=D(262),Lt=D(4351),dn=D(590),Wt=D(5577),Ut=D(8505),Ze=D(8746),Pe=D(8189),Le=D(9808);class tt{constructor(T,E){this.id=T,this.url=E}}class Je extends tt{constructor(T,E,L="imperative",Q=null){super(T,E),this.navigationTrigger=L,this.restoredState=Q}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Mt extends tt{constructor(T,E,L){super(T,E),this.urlAfterRedirects=L}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class rn extends tt{constructor(T,E,L){super(T,E),this.reason=L}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class fn extends tt{constructor(T,E,L){super(T,E),this.error=L}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class vn extends tt{constructor(T,E,L,Q){super(T,E),this.urlAfterRedirects=L,this.state=Q}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qn extends tt{constructor(T,E,L,Q){super(T,E),this.urlAfterRedirects=L,this.state=Q}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ni extends tt{constructor(T,E,L,Q,ge){super(T,E),this.urlAfterRedirects=L,this.state=Q,this.shouldActivate=ge}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Qt extends tt{constructor(T,E,L,Q){super(T,E),this.urlAfterRedirects=L,this.state=Q}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fe extends tt{constructor(T,E,L,Q){super(T,E),this.urlAfterRedirects=L,this.state=Q}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $e{constructor(T){this.route=T}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class vt{constructor(T){this.route=T}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ht{constructor(T){this.snapshot=T}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ye{constructor(T){this.snapshot=T}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ct{constructor(T){this.snapshot=T}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class X{constructor(T){this.snapshot=T}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oe{constructor(T,E,L){this.routerEvent=T,this.position=E,this.anchor=L}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const _e="primary";class dt{constructor(T){this.params=T||{}}has(T){return Object.prototype.hasOwnProperty.call(this.params,T)}get(T){if(this.has(T)){const E=this.params[T];return Array.isArray(E)?E[0]:E}return null}getAll(T){if(this.has(T)){const E=this.params[T];return Array.isArray(E)?E:[E]}return[]}get keys(){return Object.keys(this.params)}}function Tt(P){return new dt(P)}const qt="ngNavigationCancelingError";function nn(P){const T=Error("NavigationCancelingError: "+P);return T[qt]=!0,T}function kn(P,T,E){const L=E.path.split("/");if(L.length>P.length||"full"===E.pathMatch&&(T.hasChildren()||L.length<P.length))return null;const Q={};for(let ge=0;ge<L.length;ge++){const nt=L[ge],ht=P[ge];if(nt.startsWith(":"))Q[nt.substring(1)]=ht;else if(nt!==ht.path)return null}return{consumed:P.slice(0,L.length),posParams:Q}}function ii(P,T){const E=P?Object.keys(P):void 0,L=T?Object.keys(T):void 0;if(!E||!L||E.length!=L.length)return!1;let Q;for(let ge=0;ge<E.length;ge++)if(Q=E[ge],!wi(P[Q],T[Q]))return!1;return!0}function wi(P,T){if(Array.isArray(P)&&Array.isArray(T)){if(P.length!==T.length)return!1;const E=[...P].sort(),L=[...T].sort();return E.every((Q,ge)=>L[ge]===Q)}return P===T}function ri(P){return Array.prototype.concat.apply([],P)}function mn(P){return P.length>0?P[P.length-1]:null}function Sn(P,T){for(const E in P)P.hasOwnProperty(E)&&T(P[E],E)}function At(P){return(0,a.CqO)(P)?P:(0,a.QGY)(P)?(0,te.D)(Promise.resolve(P)):(0,Ke.of)(P)}const O={exact:function Se(P,T,E){if(!pt(P.segments,T.segments)||!It(P.segments,T.segments,E)||P.numberOfChildren!==T.numberOfChildren)return!1;for(const L in T.children)if(!P.children[L]||!Se(P.children[L],T.children[L],E))return!1;return!0},subset:Ie},m={exact:function U(P,T){return ii(P,T)},subset:function Me(P,T){return Object.keys(T).length<=Object.keys(P).length&&Object.keys(T).every(E=>wi(P[E],T[E]))},ignored:()=>!0};function x(P,T,E){return O[E.paths](P.root,T.root,E.matrixParams)&&m[E.queryParams](P.queryParams,T.queryParams)&&!("exact"===E.fragment&&P.fragment!==T.fragment)}function Ie(P,T,E){return je(P,T,T.segments,E)}function je(P,T,E,L){if(P.segments.length>E.length){const Q=P.segments.slice(0,E.length);return!(!pt(Q,E)||T.hasChildren()||!It(Q,E,L))}if(P.segments.length===E.length){if(!pt(P.segments,E)||!It(P.segments,E,L))return!1;for(const Q in T.children)if(!P.children[Q]||!Ie(P.children[Q],T.children[Q],L))return!1;return!0}{const Q=E.slice(0,P.segments.length),ge=E.slice(P.segments.length);return!!(pt(P.segments,Q)&&It(P.segments,Q,L)&&P.children[_e])&&je(P.children[_e],T,ge,L)}}function It(P,T,E){return T.every((L,Q)=>m[E](P[Q].parameters,L.parameters))}class Et{constructor(T,E,L){this.root=T,this.queryParams=E,this.fragment=L}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Tt(this.queryParams)),this._queryParamMap}toString(){return gi.serialize(this)}}class He{constructor(T,E){this.segments=T,this.children=E,this.parent=null,Sn(E,(L,Q)=>L.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Di(this)}}class ze{constructor(T,E){this.path=T,this.parameters=E}get parameterMap(){return this._parameterMap||(this._parameterMap=Tt(this.parameters)),this._parameterMap}toString(){return ae(this)}}function pt(P,T){return P.length===T.length&&P.every((E,L)=>E.path===T[L].path)}class Mn{}class En{parse(T){const E=new zn(T);return new Et(E.parseRootSegment(),E.parseQueryParams(),E.parseFragment())}serialize(T){const E=`/${Vi(T.root,!0)}`,L=function kt(P){const T=Object.keys(P).map(E=>{const L=P[E];return Array.isArray(L)?L.map(Q=>`${nr(E)}=${nr(Q)}`).join("&"):`${nr(E)}=${nr(L)}`}).filter(E=>!!E);return T.length?`?${T.join("&")}`:""}(T.queryParams);return`${E}${L}${"string"==typeof T.fragment?`#${function Yi(P){return encodeURI(P)}(T.fragment)}`:""}`}}const gi=new En;function Di(P){return P.segments.map(T=>ae(T)).join("/")}function Vi(P,T){if(!P.hasChildren())return Di(P);if(T){const E=P.children[_e]?Vi(P.children[_e],!1):"",L=[];return Sn(P.children,(Q,ge)=>{ge!==_e&&L.push(`${ge}:${Vi(Q,!1)}`)}),L.length>0?`${E}(${L.join("//")})`:E}{const E=function Gt(P,T){let E=[];return Sn(P.children,(L,Q)=>{Q===_e&&(E=E.concat(T(L,Q)))}),Sn(P.children,(L,Q)=>{Q!==_e&&(E=E.concat(T(L,Q)))}),E}(P,(L,Q)=>Q===_e?[Vi(P.children[_e],!1)]:[`${Q}:${Vi(L,!1)}`]);return 1===Object.keys(P.children).length&&null!=P.children[_e]?`${Di(P)}/${E[0]}`:`${Di(P)}/(${E.join("//")})`}}function Bi(P){return encodeURIComponent(P).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function nr(P){return Bi(P).replace(/%3B/gi,";")}function Ji(P){return Bi(P).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Te(P){return decodeURIComponent(P)}function Ne(P){return Te(P.replace(/\+/g,"%20"))}function ae(P){return`${Ji(P.path)}${function qe(P){return Object.keys(P).map(T=>`;${Ji(T)}=${Ji(P[T])}`).join("")}(P.parameters)}`}const tn=/^[^\/()?;=#]+/;function bn(P){const T=P.match(tn);return T?T[0]:""}const ei=/^[^=?&#]+/,Pi=/^[^&#]+/;class zn{constructor(T){this.url=T,this.remaining=T}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new He([],{}):new He([],this.parseChildren())}parseQueryParams(){const T={};if(this.consumeOptional("?"))do{this.parseQueryParam(T)}while(this.consumeOptional("&"));return T}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const T=[];for(this.peekStartsWith("(")||T.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),T.push(this.parseSegment());let E={};this.peekStartsWith("/(")&&(this.capture("/"),E=this.parseParens(!0));let L={};return this.peekStartsWith("(")&&(L=this.parseParens(!1)),(T.length>0||Object.keys(E).length>0)&&(L[_e]=new He(T,E)),L}parseSegment(){const T=bn(this.remaining);if(""===T&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(T),new ze(Te(T),this.parseMatrixParams())}parseMatrixParams(){const T={};for(;this.consumeOptional(";");)this.parseParam(T);return T}parseParam(T){const E=bn(this.remaining);if(!E)return;this.capture(E);let L="";if(this.consumeOptional("=")){const Q=bn(this.remaining);Q&&(L=Q,this.capture(L))}T[Te(E)]=Te(L)}parseQueryParam(T){const E=function Bn(P){const T=P.match(ei);return T?T[0]:""}(this.remaining);if(!E)return;this.capture(E);let L="";if(this.consumeOptional("=")){const nt=function si(P){const T=P.match(Pi);return T?T[0]:""}(this.remaining);nt&&(L=nt,this.capture(L))}const Q=Ne(E),ge=Ne(L);if(T.hasOwnProperty(Q)){let nt=T[Q];Array.isArray(nt)||(nt=[nt],T[Q]=nt),nt.push(ge)}else T[Q]=ge}parseParens(T){const E={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const L=bn(this.remaining),Q=this.remaining[L.length];if("/"!==Q&&")"!==Q&&";"!==Q)throw new Error(`Cannot parse url '${this.url}'`);let ge;L.indexOf(":")>-1?(ge=L.substr(0,L.indexOf(":")),this.capture(ge),this.capture(":")):T&&(ge=_e);const nt=this.parseChildren();E[ge]=1===Object.keys(nt).length?nt[_e]:new He([],nt),this.consumeOptional("//")}return E}peekStartsWith(T){return this.remaining.startsWith(T)}consumeOptional(T){return!!this.peekStartsWith(T)&&(this.remaining=this.remaining.substring(T.length),!0)}capture(T){if(!this.consumeOptional(T))throw new Error(`Expected "${T}".`)}}class Si{constructor(T){this._root=T}get root(){return this._root.value}parent(T){const E=this.pathFromRoot(T);return E.length>1?E[E.length-2]:null}children(T){const E=er(T,this._root);return E?E.children.map(L=>L.value):[]}firstChild(T){const E=er(T,this._root);return E&&E.children.length>0?E.children[0].value:null}siblings(T){const E=jr(T,this._root);return E.length<2?[]:E[E.length-2].children.map(Q=>Q.value).filter(Q=>Q!==T)}pathFromRoot(T){return jr(T,this._root).map(E=>E.value)}}function er(P,T){if(P===T.value)return T;for(const E of T.children){const L=er(P,E);if(L)return L}return null}function jr(P,T){if(P===T.value)return[T];for(const E of T.children){const L=jr(P,E);if(L.length)return L.unshift(T),L}return[]}class Wi{constructor(T,E){this.value=T,this.children=E}toString(){return`TreeNode(${this.value})`}}function fi(P){const T={};return P&&P.children.forEach(E=>T[E.value.outlet]=E),T}class Gr extends Si{constructor(T,E){super(T),this.snapshot=E,$i(this,T)}toString(){return this.snapshot.toString()}}function Pt(P,T){const E=function Dt(P,T){const nt=new Rn([],{},{},"",{},_e,T,null,P.root,-1,{});return new Xn("",new Wi(nt,[]))}(P,T),L=new _t.X([new ze("",{})]),Q=new _t.X({}),ge=new _t.X({}),nt=new _t.X({}),ht=new _t.X(""),Ct=new St(L,Q,nt,ht,ge,_e,T,E.root);return Ct.snapshot=E.root,new Gr(new Wi(Ct,[]),E)}class St{constructor(T,E,L,Q,ge,nt,ht,Ct){this.url=T,this.params=E,this.queryParams=L,this.fragment=Q,this.data=ge,this.outlet=nt,this.component=ht,this._futureSnapshot=Ct}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,zt.U)(T=>Tt(T)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,zt.U)(T=>Tt(T)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function an(P,T="emptyOnly"){const E=P.pathFromRoot;let L=0;if("always"!==T)for(L=E.length-1;L>=1;){const Q=E[L],ge=E[L-1];if(Q.routeConfig&&""===Q.routeConfig.path)L--;else{if(ge.component)break;L--}}return function _n(P){return P.reduce((T,E)=>({params:Object.assign(Object.assign({},T.params),E.params),data:Object.assign(Object.assign({},T.data),E.data),resolve:Object.assign(Object.assign({},T.resolve),E._resolvedData)}),{params:{},data:{},resolve:{}})}(E.slice(L))}class Rn{constructor(T,E,L,Q,ge,nt,ht,Ct,Gn,Ni,Wn){this.url=T,this.params=E,this.queryParams=L,this.fragment=Q,this.data=ge,this.outlet=nt,this.component=ht,this.routeConfig=Ct,this._urlSegment=Gn,this._lastPathIndex=Ni,this._resolve=Wn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Tt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Tt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(L=>L.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Xn extends Si{constructor(T,E){super(E),this.url=T,$i(this,E)}toString(){return Fi(this._root)}}function $i(P,T){T.value._routerState=P,T.children.forEach(E=>$i(P,E))}function Fi(P){const T=P.children.length>0?` { ${P.children.map(Fi).join(", ")} } `:"";return`${P.value}${T}`}function pr(P){if(P.snapshot){const T=P.snapshot,E=P._futureSnapshot;P.snapshot=E,ii(T.queryParams,E.queryParams)||P.queryParams.next(E.queryParams),T.fragment!==E.fragment&&P.fragment.next(E.fragment),ii(T.params,E.params)||P.params.next(E.params),function Fn(P,T){if(P.length!==T.length)return!1;for(let E=0;E<P.length;++E)if(!ii(P[E],T[E]))return!1;return!0}(T.url,E.url)||P.url.next(E.url),ii(T.data,E.data)||P.data.next(E.data)}else P.snapshot=P._futureSnapshot,P.data.next(P._futureSnapshot.data)}function Lr(P,T){const E=ii(P.params,T.params)&&function Ve(P,T){return pt(P,T)&&P.every((E,L)=>ii(E.parameters,T[L].parameters))}(P.url,T.url);return E&&!(!P.parent!=!T.parent)&&(!P.parent||Lr(P.parent,T.parent))}function Es(P,T,E){if(E&&P.shouldReuseRoute(T.value,E.value.snapshot)){const L=E.value;L._futureSnapshot=T.value;const Q=function Io(P,T,E){return T.children.map(L=>{for(const Q of E.children)if(P.shouldReuseRoute(L.value,Q.value.snapshot))return Es(P,L,Q);return Es(P,L)})}(P,T,E);return new Wi(L,Q)}{if(P.shouldAttach(T.value)){const ge=P.retrieve(T.value);if(null!==ge){const nt=ge.route;return nt.value._futureSnapshot=T.value,nt.children=T.children.map(ht=>Es(P,ht)),nt}}const L=function mr(P){return new St(new _t.X(P.url),new _t.X(P.params),new _t.X(P.queryParams),new _t.X(P.fragment),new _t.X(P.data),P.outlet,P.component,P)}(T.value),Q=T.children.map(ge=>Es(P,ge));return new Wi(L,Q)}}function us(P){return"object"==typeof P&&null!=P&&!P.outlets&&!P.segmentPath}function Is(P){return"object"==typeof P&&null!=P&&P.outlets}function Vr(P,T,E,L,Q){let ge={};if(L&&Sn(L,(ht,Ct)=>{ge[Ct]=Array.isArray(ht)?ht.map(Gn=>`${Gn}`):`${ht}`}),P===T)return new Et(E,ge,Q);const nt=To(P,T,E);return new Et(nt,ge,Q)}function To(P,T,E){const L={};return Sn(P.children,(Q,ge)=>{L[ge]=Q===T?E:To(Q,T,E)}),new He(P.segments,L)}class so{constructor(T,E,L){if(this.isAbsolute=T,this.numberOfDoubleDots=E,this.commands=L,T&&L.length>0&&us(L[0]))throw new Error("Root segment cannot have matrix parameters");const Q=L.find(Is);if(Q&&Q!==mn(L))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class _s{constructor(T,E,L){this.segmentGroup=T,this.processChildren=E,this.index=L}}function qo(P,T,E){if(P||(P=new He([],{})),0===P.segments.length&&P.hasChildren())return ys(P,T,E);const L=function Rs(P,T,E){let L=0,Q=T;const ge={match:!1,pathIndex:0,commandIndex:0};for(;Q<P.segments.length;){if(L>=E.length)return ge;const nt=P.segments[Q],ht=E[L];if(Is(ht))break;const Ct=`${ht}`,Gn=L<E.length-1?E[L+1]:null;if(Q>0&&void 0===Ct)break;if(Ct&&Gn&&"object"==typeof Gn&&void 0===Gn.outlets){if(!Zs(Ct,Gn,nt))return ge;L+=2}else{if(!Zs(Ct,{},nt))return ge;L++}Q++}return{match:!0,pathIndex:Q,commandIndex:L}}(P,T,E),Q=E.slice(L.commandIndex);if(L.match&&L.pathIndex<P.segments.length){const ge=new He(P.segments.slice(0,L.pathIndex),{});return ge.children[_e]=new He(P.segments.slice(L.pathIndex),P.children),ys(ge,0,Q)}return L.match&&0===Q.length?new He(P.segments,{}):L.match&&!P.hasChildren()?js(P,T,E):L.match?ys(P,0,Q):js(P,T,E)}function ys(P,T,E){if(0===E.length)return new He(P.segments,{});{const L=function go(P){return Is(P[0])?P[0].outlets:{[_e]:P}}(E),Q={};return Sn(L,(ge,nt)=>{"string"==typeof ge&&(ge=[ge]),null!==ge&&(Q[nt]=qo(P.children[nt],T,ge))}),Sn(P.children,(ge,nt)=>{void 0===L[nt]&&(Q[nt]=ge)}),new He(P.segments,Q)}}function js(P,T,E){const L=P.segments.slice(0,T);let Q=0;for(;Q<E.length;){const ge=E[Q];if(Is(ge)){const Ct=zr(ge.outlets);return new He(L,Ct)}if(0===Q&&us(E[0])){L.push(new ze(P.segments[T].path,ps(E[0]))),Q++;continue}const nt=Is(ge)?ge.outlets[_e]:`${ge}`,ht=Q<E.length-1?E[Q+1]:null;nt&&ht&&us(ht)?(L.push(new ze(nt,ps(ht))),Q+=2):(L.push(new ze(nt,{})),Q++)}return new He(L,{})}function zr(P){const T={};return Sn(P,(E,L)=>{"string"==typeof E&&(E=[E]),null!==E&&(T[L]=js(new He([],{}),0,E))}),T}function ps(P){const T={};return Sn(P,(E,L)=>T[L]=`${E}`),T}function Zs(P,T,E){return P==E.path&&ii(T,E.parameters)}class Or{constructor(T,E,L,Q){this.routeReuseStrategy=T,this.futureState=E,this.currState=L,this.forwardEvent=Q}activate(T){const E=this.futureState._root,L=this.currState?this.currState._root:null;this.deactivateChildRoutes(E,L,T),pr(this.futureState.root),this.activateChildRoutes(E,L,T)}deactivateChildRoutes(T,E,L){const Q=fi(E);T.children.forEach(ge=>{const nt=ge.value.outlet;this.deactivateRoutes(ge,Q[nt],L),delete Q[nt]}),Sn(Q,(ge,nt)=>{this.deactivateRouteAndItsChildren(ge,L)})}deactivateRoutes(T,E,L){const Q=T.value,ge=E?E.value:null;if(Q===ge)if(Q.component){const nt=L.getContext(Q.outlet);nt&&this.deactivateChildRoutes(T,E,nt.children)}else this.deactivateChildRoutes(T,E,L);else ge&&this.deactivateRouteAndItsChildren(E,L)}deactivateRouteAndItsChildren(T,E){T.value.component&&this.routeReuseStrategy.shouldDetach(T.value.snapshot)?this.detachAndStoreRouteSubtree(T,E):this.deactivateRouteAndOutlet(T,E)}detachAndStoreRouteSubtree(T,E){const L=E.getContext(T.value.outlet),Q=L&&T.value.component?L.children:E,ge=fi(T);for(const nt of Object.keys(ge))this.deactivateRouteAndItsChildren(ge[nt],Q);if(L&&L.outlet){const nt=L.outlet.detach(),ht=L.children.onOutletDeactivated();this.routeReuseStrategy.store(T.value.snapshot,{componentRef:nt,route:T,contexts:ht})}}deactivateRouteAndOutlet(T,E){const L=E.getContext(T.value.outlet),Q=L&&T.value.component?L.children:E,ge=fi(T);for(const nt of Object.keys(ge))this.deactivateRouteAndItsChildren(ge[nt],Q);L&&L.outlet&&(L.outlet.deactivate(),L.children.onOutletDeactivated(),L.attachRef=null,L.resolver=null,L.route=null)}activateChildRoutes(T,E,L){const Q=fi(E);T.children.forEach(ge=>{this.activateRoutes(ge,Q[ge.value.outlet],L),this.forwardEvent(new X(ge.value.snapshot))}),T.children.length&&this.forwardEvent(new Ye(T.value.snapshot))}activateRoutes(T,E,L){const Q=T.value,ge=E?E.value:null;if(pr(Q),Q===ge)if(Q.component){const nt=L.getOrCreateContext(Q.outlet);this.activateChildRoutes(T,E,nt.children)}else this.activateChildRoutes(T,E,L);else if(Q.component){const nt=L.getOrCreateContext(Q.outlet);if(this.routeReuseStrategy.shouldAttach(Q.snapshot)){const ht=this.routeReuseStrategy.retrieve(Q.snapshot);this.routeReuseStrategy.store(Q.snapshot,null),nt.children.onOutletReAttached(ht.contexts),nt.attachRef=ht.componentRef,nt.route=ht.route.value,nt.outlet&&nt.outlet.attach(ht.componentRef,ht.route.value),pr(ht.route.value),this.activateChildRoutes(T,null,nt.children)}else{const ht=function Gs(P){for(let T=P.parent;T;T=T.parent){const E=T.routeConfig;if(E&&E._loadedConfig)return E._loadedConfig;if(E&&E.component)return null}return null}(Q.snapshot),Ct=ht?ht.module.componentFactoryResolver:null;nt.attachRef=null,nt.route=Q,nt.resolver=Ct,nt.outlet&&nt.outlet.activateWith(Q,Ct),this.activateChildRoutes(T,null,nt.children)}}else this.activateChildRoutes(T,null,L)}}class ts{constructor(T,E){this.routes=T,this.module=E}}function ns(P){return"function"==typeof P}function Br(P){return P instanceof Et}const Rr=Symbol("INITIAL_VALUE");function Ki(){return(0,rt.w)(P=>function re(...P){const T=(0,ye.yG)(P),E=(0,ye.jO)(P),{args:L,keys:Q}=(0,b.D)(P);if(0===L.length)return(0,te.D)([],T);const ge=new R.y(function xe(P,T,E=v.y){return L=>{We(T,()=>{const{length:Q}=P,ge=new Array(Q);let nt=Q,ht=Q;for(let Ct=0;Ct<Q;Ct++)We(T,()=>{const Gn=(0,te.D)(P[Ct],T);let Ni=!1;Gn.subscribe((0,z.x)(L,Wn=>{ge[Ct]=Wn,Ni||(Ni=!0,ht--),ht||L.next(E(ge.slice()))},()=>{--nt||L.complete()}))},L)},L)}}(L,T,Q?nt=>(0,be.n)(Q,nt):v.y));return E?ge.pipe((0,ce.Z)(E)):ge}(P.map(T=>T.pipe((0,Ft.q)(1),(0,xt.O)(Rr)))).pipe((0,Vt.R)((T,E)=>{let L=!1;return E.reduce((Q,ge,nt)=>Q!==Rr?Q:(ge===Rr&&(L=!0),L||!1!==ge&&nt!==E.length-1&&!Br(ge)?Q:ge),T)},Rr),(0,de.h)(T=>T!==Rr),(0,zt.U)(T=>Br(T)?T:!0===T),(0,Ft.q)(1)))}class bs{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new wr,this.attachRef=null}}class wr{constructor(){this.contexts=new Map}onChildOutletCreated(T,E){const L=this.getOrCreateContext(T);L.outlet=E,this.contexts.set(T,L)}onChildOutletDestroyed(T){const E=this.getContext(T);E&&(E.outlet=null,E.attachRef=null)}onOutletDeactivated(){const T=this.contexts;return this.contexts=new Map,T}onOutletReAttached(T){this.contexts=T}getOrCreateContext(T){let E=this.getContext(T);return E||(E=new bs,this.contexts.set(T,E)),E}getContext(T){return this.contexts.get(T)||null}}let Dr=(()=>{class P{constructor(E,L,Q,ge,nt){this.parentContexts=E,this.location=L,this.resolver=Q,this.changeDetector=nt,this.activated=null,this._activatedRoute=null,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.name=ge||_e,E.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const E=this.parentContexts.getContext(this.name);E&&E.route&&(E.attachRef?this.attach(E.attachRef,E.route):this.activateWith(E.route,E.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const E=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(E.instance),E}attach(E,L){this.activated=E,this._activatedRoute=L,this.location.insert(E.hostView),this.attachEvents.emit(E.instance)}deactivate(){if(this.activated){const E=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(E)}}activateWith(E,L){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=E;const nt=(L=L||this.resolver).resolveComponentFactory(E._futureSnapshot.routeConfig.component),ht=this.parentContexts.getOrCreateContext(this.name).children,Ct=new oo(E,ht,this.location.injector);this.activated=this.location.createComponent(nt,this.location.length,Ct),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return P.\u0275fac=function(E){return new(E||P)(a.Y36(wr),a.Y36(a.s_b),a.Y36(a._Vd),a.$8M("name"),a.Y36(a.sBO))},P.\u0275dir=a.lG2({type:P,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),P})();class oo{constructor(T,E,L){this.route=T,this.childContexts=E,this.parent=L}get(T,E){return T===St?this.route:T===wr?this.childContexts:this.parent.get(T,E)}}let Fs=(()=>{class P{}return P.\u0275fac=function(E){return new(E||P)},P.\u0275cmp=a.Xpm({type:P,selectors:[["ng-component"]],decls:1,vars:0,template:function(E,L){1&E&&a._UZ(0,"router-outlet")},directives:[Dr],encapsulation:2}),P})();function Ss(P,T=""){for(let E=0;E<P.length;E++){const L=P[E];qs(L,Pr(T,L))}}function qs(P,T){P.children&&Ss(P.children,T)}function Pr(P,T){return T?P||T.path?P&&!T.path?`${P}/`:!P&&T.path?T.path:`${P}/${T.path}`:"":P}function ds(P){const T=P.children&&P.children.map(ds),E=T?Object.assign(Object.assign({},P),{children:T}):Object.assign({},P);return!E.component&&(T||E.loadChildren)&&E.outlet&&E.outlet!==_e&&(E.component=Fs),E}function xi(P){return P.outlet||_e}function K(P,T){const E=P.filter(L=>xi(L)===T);return E.push(...P.filter(L=>xi(L)!==T)),E}const Ee={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $(P,T,E){var L;if(""===T.path)return"full"===T.pathMatch&&(P.hasChildren()||E.length>0)?Object.assign({},Ee):{matched:!0,consumedSegments:[],remainingSegments:E,parameters:{},positionalParamSegments:{}};const ge=(T.matcher||kn)(E,P,T);if(!ge)return Object.assign({},Ee);const nt={};Sn(ge.posParams,(Ct,Gn)=>{nt[Gn]=Ct.path});const ht=ge.consumed.length>0?Object.assign(Object.assign({},nt),ge.consumed[ge.consumed.length-1].parameters):nt;return{matched:!0,consumedSegments:ge.consumed,remainingSegments:E.slice(ge.consumed.length),parameters:ht,positionalParamSegments:null!==(L=ge.posParams)&&void 0!==L?L:{}}}function Ae(P,T,E,L,Q="corrected"){if(E.length>0&&function un(P,T,E){return E.some(L=>ci(P,T,L)&&xi(L)!==_e)}(P,E,L)){const nt=new He(T,function Xt(P,T,E,L){const Q={};Q[_e]=L,L._sourceSegment=P,L._segmentIndexShift=T.length;for(const ge of E)if(""===ge.path&&xi(ge)!==_e){const nt=new He([],{});nt._sourceSegment=P,nt._segmentIndexShift=T.length,Q[xi(ge)]=nt}return Q}(P,T,L,new He(E,P.children)));return nt._sourceSegment=P,nt._segmentIndexShift=T.length,{segmentGroup:nt,slicedSegments:[]}}if(0===E.length&&function Vn(P,T,E){return E.some(L=>ci(P,T,L))}(P,E,L)){const nt=new He(P.segments,function yt(P,T,E,L,Q,ge){const nt={};for(const ht of L)if(ci(P,E,ht)&&!Q[xi(ht)]){const Ct=new He([],{});Ct._sourceSegment=P,Ct._segmentIndexShift="legacy"===ge?P.segments.length:T.length,nt[xi(ht)]=Ct}return Object.assign(Object.assign({},Q),nt)}(P,T,E,L,P.children,Q));return nt._sourceSegment=P,nt._segmentIndexShift=T.length,{segmentGroup:nt,slicedSegments:E}}const ge=new He(P.segments,P.children);return ge._sourceSegment=P,ge._segmentIndexShift=T.length,{segmentGroup:ge,slicedSegments:E}}function ci(P,T,E){return(!(P.hasChildren()||T.length>0)||"full"!==E.pathMatch)&&""===E.path}function Oi(P,T,E,L){return!!(xi(P)===L||L!==_e&&ci(T,E,P))&&("**"===P.path||$(T,P,E).matched)}function Jn(P,T,E){return 0===T.length&&!P.children[E]}class Ei{constructor(T){this.segmentGroup=T||null}}class or{constructor(T){this.urlTree=T}}function Ri(P){return(0,lt._)(new Ei(P))}function qi(P){return(0,lt._)(new or(P))}class De{constructor(T,E,L,Q,ge){this.configLoader=E,this.urlSerializer=L,this.urlTree=Q,this.config=ge,this.allowRedirects=!0,this.ngModule=T.get(a.h0i)}apply(){const T=Ae(this.urlTree.root,[],[],this.config).segmentGroup,E=new He(T.segments,T.children);return this.expandSegmentGroup(this.ngModule,this.config,E,_e).pipe((0,zt.U)(ge=>this.createUrlTree(Ln(ge),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Rt.K)(ge=>{if(ge instanceof or)return this.allowRedirects=!1,this.match(ge.urlTree);throw ge instanceof Ei?this.noMatchError(ge):ge}))}match(T){return this.expandSegmentGroup(this.ngModule,this.config,T.root,_e).pipe((0,zt.U)(Q=>this.createUrlTree(Ln(Q),T.queryParams,T.fragment))).pipe((0,Rt.K)(Q=>{throw Q instanceof Ei?this.noMatchError(Q):Q}))}noMatchError(T){return new Error(`Cannot match any routes. URL Segment: '${T.segmentGroup}'`)}createUrlTree(T,E,L){const Q=T.segments.length>0?new He([],{[_e]:T}):T;return new Et(Q,E,L)}expandSegmentGroup(T,E,L,Q){return 0===L.segments.length&&L.hasChildren()?this.expandChildren(T,E,L).pipe((0,zt.U)(ge=>new He([],ge))):this.expandSegment(T,L,E,L.segments,Q,!0)}expandChildren(T,E,L){const Q=[];for(const ge of Object.keys(L.children))"primary"===ge?Q.unshift(ge):Q.push(ge);return(0,te.D)(Q).pipe((0,Lt.b)(ge=>{const nt=L.children[ge],ht=K(E,ge);return this.expandSegmentGroup(T,ht,nt,ge).pipe((0,zt.U)(Ct=>({segment:Ct,outlet:ge})))}),(0,Vt.R)((ge,nt)=>(ge[nt.outlet]=nt.segment,ge),{}),function bt(P,T){const E=arguments.length>=2;return L=>L.pipe(P?(0,de.h)((Q,ge)=>P(Q,ge,L)):v.y,ut(1),E?(0,jt.d)(T):(0,Qe.T)(()=>new ue.K))}())}expandSegment(T,E,L,Q,ge,nt){return(0,te.D)(L).pipe((0,Lt.b)(ht=>this.expandSegmentAgainstRoute(T,E,L,ht,Q,ge,nt).pipe((0,Rt.K)(Gn=>{if(Gn instanceof Ei)return(0,Ke.of)(null);throw Gn}))),(0,dn.P)(ht=>!!ht),(0,Rt.K)((ht,Ct)=>{if(ht instanceof ue.K||"EmptyError"===ht.name)return Jn(E,Q,ge)?(0,Ke.of)(new He([],{})):Ri(E);throw ht}))}expandSegmentAgainstRoute(T,E,L,Q,ge,nt,ht){return Oi(Q,E,ge,nt)?void 0===Q.redirectTo?this.matchSegmentAgainstRoute(T,E,Q,ge,nt):ht&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(T,E,L,Q,ge,nt):Ri(E):Ri(E)}expandSegmentAgainstRouteUsingRedirect(T,E,L,Q,ge,nt){return"**"===Q.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(T,L,Q,nt):this.expandRegularSegmentAgainstRouteUsingRedirect(T,E,L,Q,ge,nt)}expandWildCardWithParamsAgainstRouteUsingRedirect(T,E,L,Q){const ge=this.applyRedirectCommands([],L.redirectTo,{});return L.redirectTo.startsWith("/")?qi(ge):this.lineralizeSegments(L,ge).pipe((0,Wt.z)(nt=>{const ht=new He(nt,{});return this.expandSegment(T,ht,E,nt,Q,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(T,E,L,Q,ge,nt){const{matched:ht,consumedSegments:Ct,remainingSegments:Gn,positionalParamSegments:Ni}=$(E,Q,ge);if(!ht)return Ri(E);const Wn=this.applyRedirectCommands(Ct,Q.redirectTo,Ni);return Q.redirectTo.startsWith("/")?qi(Wn):this.lineralizeSegments(Q,Wn).pipe((0,Wt.z)(Xi=>this.expandSegment(T,E,L,Xi.concat(Gn),nt,!1)))}matchSegmentAgainstRoute(T,E,L,Q,ge){if("**"===L.path)return L.loadChildren?(L._loadedConfig?(0,Ke.of)(L._loadedConfig):this.configLoader.load(T.injector,L)).pipe((0,zt.U)(Wn=>(L._loadedConfig=Wn,new He(Q,{})))):(0,Ke.of)(new He(Q,{}));const{matched:nt,consumedSegments:ht,remainingSegments:Ct}=$(E,L,Q);return nt?this.getChildConfig(T,L,Q).pipe((0,Wt.z)(Ni=>{const Wn=Ni.module,Xi=Ni.routes,{segmentGroup:ji,slicedSegments:Xs}=Ae(E,ht,Ct,Xi),co=new He(ji.segments,ji.children);if(0===Xs.length&&co.hasChildren())return this.expandChildren(Wn,Xi,co).pipe((0,zt.U)(Oo=>new He(ht,Oo)));if(0===Xi.length&&0===Xs.length)return(0,Ke.of)(new He(ht,{}));const Cs=xi(L)===ge;return this.expandSegment(Wn,co,Xi,Xs,Cs?_e:ge,!0).pipe((0,zt.U)(Ir=>new He(ht.concat(Ir.segments),Ir.children)))})):Ri(E)}getChildConfig(T,E,L){return E.children?(0,Ke.of)(new ts(E.children,T)):E.loadChildren?void 0!==E._loadedConfig?(0,Ke.of)(E._loadedConfig):this.runCanLoadGuards(T.injector,E,L).pipe((0,Wt.z)(Q=>Q?this.configLoader.load(T.injector,E).pipe((0,zt.U)(ge=>(E._loadedConfig=ge,ge))):function j(P){return(0,lt._)(nn(`Cannot load children because the guard of the route "path: '${P.path}'" returned false`))}(E))):(0,Ke.of)(new ts([],T))}runCanLoadGuards(T,E,L){const Q=E.canLoad;if(!Q||0===Q.length)return(0,Ke.of)(!0);const ge=Q.map(nt=>{const ht=T.get(nt);let Ct;if(function Ps(P){return P&&ns(P.canLoad)}(ht))Ct=ht.canLoad(E,L);else{if(!ns(ht))throw new Error("Invalid CanLoad guard");Ct=ht(E,L)}return At(Ct)});return(0,Ke.of)(ge).pipe(Ki(),(0,Ut.b)(nt=>{if(!Br(nt))return;const ht=nn(`Redirecting to "${this.urlSerializer.serialize(nt)}"`);throw ht.url=nt,ht}),(0,zt.U)(nt=>!0===nt))}lineralizeSegments(T,E){let L=[],Q=E.root;for(;;){if(L=L.concat(Q.segments),0===Q.numberOfChildren)return(0,Ke.of)(L);if(Q.numberOfChildren>1||!Q.children[_e])return(0,lt._)(new Error(`Only absolute redirects can have named outlets. redirectTo: '${T.redirectTo}'`));Q=Q.children[_e]}}applyRedirectCommands(T,E,L){return this.applyRedirectCreatreUrlTree(E,this.urlSerializer.parse(E),T,L)}applyRedirectCreatreUrlTree(T,E,L,Q){const ge=this.createSegmentGroup(T,E.root,L,Q);return new Et(ge,this.createQueryParams(E.queryParams,this.urlTree.queryParams),E.fragment)}createQueryParams(T,E){const L={};return Sn(T,(Q,ge)=>{if("string"==typeof Q&&Q.startsWith(":")){const ht=Q.substring(1);L[ge]=E[ht]}else L[ge]=Q}),L}createSegmentGroup(T,E,L,Q){const ge=this.createSegments(T,E.segments,L,Q);let nt={};return Sn(E.children,(ht,Ct)=>{nt[Ct]=this.createSegmentGroup(T,ht,L,Q)}),new He(ge,nt)}createSegments(T,E,L,Q){return E.map(ge=>ge.path.startsWith(":")?this.findPosParam(T,ge,Q):this.findOrReturn(ge,L))}findPosParam(T,E,L){const Q=L[E.path.substring(1)];if(!Q)throw new Error(`Cannot redirect to '${T}'. Cannot find '${E.path}'.`);return Q}findOrReturn(T,E){let L=0;for(const Q of E){if(Q.path===T.path)return E.splice(L),Q;L++}return T}}function Ln(P){const T={};for(const L of Object.keys(P.children)){const ge=Ln(P.children[L]);(ge.segments.length>0||ge.hasChildren())&&(T[L]=ge)}return function en(P){if(1===P.numberOfChildren&&P.children[_e]){const T=P.children[_e];return new He(P.segments.concat(T.segments),T.children)}return P}(new He(P.segments,T))}class Fr{constructor(T){this.path=T,this.route=this.path[this.path.length-1]}}class hs{constructor(T,E){this.component=T,this.route=E}}function _o(P,T,E){const L=P._root;return ao(L,T?T._root:null,E,[L.value])}function pn(P,T,E){const L=function Ui(P){if(!P)return null;for(let T=P.parent;T;T=T.parent){const E=T.routeConfig;if(E&&E._loadedConfig)return E._loadedConfig}return null}(T);return(L?L.module.injector:E).get(P)}function ao(P,T,E,L,Q={canDeactivateChecks:[],canActivateChecks:[]}){const ge=fi(T);return P.children.forEach(nt=>{(function Er(P,T,E,L,Q={canDeactivateChecks:[],canActivateChecks:[]}){const ge=P.value,nt=T?T.value:null,ht=E?E.getContext(P.value.outlet):null;if(nt&&ge.routeConfig===nt.routeConfig){const Ct=function oa(P,T,E){if("function"==typeof E)return E(P,T);switch(E){case"pathParamsChange":return!pt(P.url,T.url);case"pathParamsOrQueryParamsChange":return!pt(P.url,T.url)||!ii(P.queryParams,T.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Lr(P,T)||!ii(P.queryParams,T.queryParams);default:return!Lr(P,T)}}(nt,ge,ge.routeConfig.runGuardsAndResolvers);Ct?Q.canActivateChecks.push(new Fr(L)):(ge.data=nt.data,ge._resolvedData=nt._resolvedData),ao(P,T,ge.component?ht?ht.children:null:E,L,Q),Ct&&ht&&ht.outlet&&ht.outlet.isActivated&&Q.canDeactivateChecks.push(new hs(ht.outlet.component,nt))}else nt&&Qs(T,ht,Q),Q.canActivateChecks.push(new Fr(L)),ao(P,null,ge.component?ht?ht.children:null:E,L,Q)})(nt,ge[nt.value.outlet],E,L.concat([nt.value]),Q),delete ge[nt.value.outlet]}),Sn(ge,(nt,ht)=>Qs(nt,E.getContext(ht),Q)),Q}function Qs(P,T,E){const L=fi(P),Q=P.value;Sn(L,(ge,nt)=>{Qs(ge,Q.component?T?T.children.getContext(nt):null:T,E)}),E.canDeactivateChecks.push(new hs(Q.component&&T&&T.outlet&&T.outlet.isActivated?T.outlet.component:null,Q))}class xs{}function le(P){return new R.y(T=>T.error(P))}class M{constructor(T,E,L,Q,ge,nt){this.rootComponentType=T,this.config=E,this.urlTree=L,this.url=Q,this.paramsInheritanceStrategy=ge,this.relativeLinkResolution=nt}recognize(){const T=Ae(this.urlTree.root,[],[],this.config.filter(nt=>void 0===nt.redirectTo),this.relativeLinkResolution).segmentGroup,E=this.processSegmentGroup(this.config,T,_e);if(null===E)return null;const L=new Rn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},_e,this.rootComponentType,null,this.urlTree.root,-1,{}),Q=new Wi(L,E),ge=new Xn(this.url,Q);return this.inheritParamsAndData(ge._root),ge}inheritParamsAndData(T){const E=T.value,L=an(E,this.paramsInheritanceStrategy);E.params=Object.freeze(L.params),E.data=Object.freeze(L.data),T.children.forEach(Q=>this.inheritParamsAndData(Q))}processSegmentGroup(T,E,L){return 0===E.segments.length&&E.hasChildren()?this.processChildren(T,E):this.processSegment(T,E,E.segments,L)}processChildren(T,E){const L=[];for(const ge of Object.keys(E.children)){const nt=E.children[ge],ht=K(T,ge),Ct=this.processSegmentGroup(ht,nt,ge);if(null===Ct)return null;L.push(...Ct)}const Q=ft(L);return function H(P){P.sort((T,E)=>T.value.outlet===_e?-1:E.value.outlet===_e?1:T.value.outlet.localeCompare(E.value.outlet))}(Q),Q}processSegment(T,E,L,Q){for(const ge of T){const nt=this.processSegmentAgainstRoute(ge,E,L,Q);if(null!==nt)return nt}return Jn(E,L,Q)?[]:null}processSegmentAgainstRoute(T,E,L,Q){if(T.redirectTo||!Oi(T,E,L,Q))return null;let ge,nt=[],ht=[];if("**"===T.path){const ji=L.length>0?mn(L).parameters:{};ge=new Rn(L,ji,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Nn(T),xi(T),T.component,T,Bt(E),ln(E)+L.length,Zn(T))}else{const ji=$(E,T,L);if(!ji.matched)return null;nt=ji.consumedSegments,ht=ji.remainingSegments,ge=new Rn(nt,ji.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Nn(T),xi(T),T.component,T,Bt(E),ln(E)+nt.length,Zn(T))}const Ct=function pe(P){return P.children?P.children:P.loadChildren?P._loadedConfig.routes:[]}(T),{segmentGroup:Gn,slicedSegments:Ni}=Ae(E,nt,ht,Ct.filter(ji=>void 0===ji.redirectTo),this.relativeLinkResolution);if(0===Ni.length&&Gn.hasChildren()){const ji=this.processChildren(Ct,Gn);return null===ji?null:[new Wi(ge,ji)]}if(0===Ct.length&&0===Ni.length)return[new Wi(ge,[])];const Wn=xi(T)===Q,Xi=this.processSegment(Ct,Gn,Ni,Wn?_e:Q);return null===Xi?null:[new Wi(ge,Xi)]}}function Ue(P){const T=P.value.routeConfig;return T&&""===T.path&&void 0===T.redirectTo}function ft(P){const T=[],E=new Set;for(const L of P){if(!Ue(L)){T.push(L);continue}const Q=T.find(ge=>L.value.routeConfig===ge.value.routeConfig);void 0!==Q?(Q.children.push(...L.children),E.add(Q)):T.push(L)}for(const L of E){const Q=ft(L.children);T.push(new Wi(L.value,Q))}return T.filter(L=>!E.has(L))}function Bt(P){let T=P;for(;T._sourceSegment;)T=T._sourceSegment;return T}function ln(P){let T=P,E=T._segmentIndexShift?T._segmentIndexShift:0;for(;T._sourceSegment;)T=T._sourceSegment,E+=T._segmentIndexShift?T._segmentIndexShift:0;return E-1}function Nn(P){return P.data||{}}function Zn(P){return P.resolve||{}}function Qi(P){return[...Object.keys(P),...Object.getOwnPropertySymbols(P)]}function ur(P){return(0,rt.w)(T=>{const E=P(T);return E?(0,te.D)(E).pipe((0,zt.U)(()=>T)):(0,Ke.of)(T)})}class tr extends class Mr{shouldDetach(T){return!1}store(T,E){}shouldAttach(T){return!1}retrieve(T){return null}shouldReuseRoute(T,E){return T.routeConfig===E.routeConfig}}{}const Wr=new a.OlP("ROUTES");class Li{constructor(T,E,L,Q){this.injector=T,this.compiler=E,this.onLoadStartListener=L,this.onLoadEndListener=Q}load(T,E){if(E._loader$)return E._loader$;this.onLoadStartListener&&this.onLoadStartListener(E);const Q=this.loadModuleFactory(E.loadChildren).pipe((0,zt.U)(ge=>{this.onLoadEndListener&&this.onLoadEndListener(E);const nt=ge.create(T);return new ts(ri(nt.injector.get(Wr,void 0,a.XFs.Self|a.XFs.Optional)).map(ds),nt)}),(0,Rt.K)(ge=>{throw E._loader$=void 0,ge}));return E._loader$=new Re(Q,()=>new Ge.x).pipe(et()),E._loader$}loadModuleFactory(T){return At(T()).pipe((0,Wt.z)(E=>E instanceof a.YKP?(0,Ke.of)(E):(0,te.D)(this.compiler.compileModuleAsync(E))))}}class Ho{shouldProcessUrl(T){return!0}extract(T){return T}merge(T,E){return T}}function So(P){throw P}function Jo(P,T,E){return T.parse("/")}function la(P,T){return(0,Ke.of)(null)}const ea={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let vr=(()=>{class P{constructor(E,L,Q,ge,nt,ht,Ct){this.rootComponentType=E,this.urlSerializer=L,this.rootContexts=Q,this.location=ge,this.config=Ct,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ge.x,this.errorHandler=So,this.malformedUriErrorHandler=Jo,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:la,afterPreactivation:la},this.urlHandlingStrategy=new Ho,this.routeReuseStrategy=new tr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=nt.get(a.h0i),this.console=nt.get(a.c2e);const Wn=nt.get(a.R0b);this.isNgZoneEnabled=Wn instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(Ct),this.currentUrlTree=function W(){return new Et(new He([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Li(nt,ht,Xi=>this.triggerEvent(new $e(Xi)),Xi=>this.triggerEvent(new vt(Xi))),this.routerState=Pt(this.currentUrlTree,this.rootComponentType),this.transitions=new _t.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var E;return null===(E=this.location.getState())||void 0===E?void 0:E.\u0275routerPageId}setupNavigations(E){const L=this.events;return E.pipe((0,de.h)(Q=>0!==Q.id),(0,zt.U)(Q=>Object.assign(Object.assign({},Q),{extractedUrl:this.urlHandlingStrategy.extract(Q.rawUrl)})),(0,rt.w)(Q=>{let ge=!1,nt=!1;return(0,Ke.of)(Q).pipe((0,Ut.b)(ht=>{this.currentNavigation={id:ht.id,initialUrl:ht.currentRawUrl,extractedUrl:ht.extractedUrl,trigger:ht.source,extras:ht.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,rt.w)(ht=>{const Ct=this.browserUrlTree.toString(),Gn=!this.navigated||ht.extractedUrl.toString()!==Ct||Ct!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Gn)&&this.urlHandlingStrategy.shouldProcessUrl(ht.rawUrl))return Un(ht.source)&&(this.browserUrlTree=ht.extractedUrl),(0,Ke.of)(ht).pipe((0,rt.w)(Wn=>{const Xi=this.transitions.getValue();return L.next(new Je(Wn.id,this.serializeUrl(Wn.extractedUrl),Wn.source,Wn.restoredState)),Xi!==this.transitions.getValue()?Be.E:Promise.resolve(Wn)}),function ir(P,T,E,L){return(0,rt.w)(Q=>function F(P,T,E,L,Q){return new De(P,T,E,L,Q).apply()}(P,T,E,Q.extractedUrl,L).pipe((0,zt.U)(ge=>Object.assign(Object.assign({},Q),{urlAfterRedirects:ge}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Ut.b)(Wn=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Wn.urlAfterRedirects})}),function _i(P,T,E,L,Q){return(0,Wt.z)(ge=>function C(P,T,E,L,Q="emptyOnly",ge="legacy"){try{const nt=new M(P,T,E,L,Q,ge).recognize();return null===nt?le(new xs):(0,Ke.of)(nt)}catch(nt){return le(nt)}}(P,T,ge.urlAfterRedirects,E(ge.urlAfterRedirects),L,Q).pipe((0,zt.U)(nt=>Object.assign(Object.assign({},ge),{targetSnapshot:nt}))))}(this.rootComponentType,this.config,Wn=>this.serializeUrl(Wn),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Ut.b)(Wn=>{if("eager"===this.urlUpdateStrategy){if(!Wn.extras.skipLocationChange){const ji=this.urlHandlingStrategy.merge(Wn.urlAfterRedirects,Wn.rawUrl);this.setBrowserUrl(ji,Wn)}this.browserUrlTree=Wn.urlAfterRedirects}const Xi=new vn(Wn.id,this.serializeUrl(Wn.extractedUrl),this.serializeUrl(Wn.urlAfterRedirects),Wn.targetSnapshot);L.next(Xi)}));if(Gn&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Xi,extractedUrl:ji,source:Xs,restoredState:co,extras:Cs}=ht,ha=new Je(Xi,this.serializeUrl(ji),Xs,co);L.next(ha);const Ir=Pt(ji,this.rootComponentType).snapshot;return(0,Ke.of)(Object.assign(Object.assign({},ht),{targetSnapshot:Ir,urlAfterRedirects:ji,extras:Object.assign(Object.assign({},Cs),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=ht.rawUrl,ht.resolve(null),Be.E}),ur(ht=>{const{targetSnapshot:Ct,id:Gn,extractedUrl:Ni,rawUrl:Wn,extras:{skipLocationChange:Xi,replaceUrl:ji}}=ht;return this.hooks.beforePreactivation(Ct,{navigationId:Gn,appliedUrlTree:Ni,rawUrlTree:Wn,skipLocationChange:!!Xi,replaceUrl:!!ji})}),(0,Ut.b)(ht=>{const Ct=new Qn(ht.id,this.serializeUrl(ht.extractedUrl),this.serializeUrl(ht.urlAfterRedirects),ht.targetSnapshot);this.triggerEvent(Ct)}),(0,zt.U)(ht=>Object.assign(Object.assign({},ht),{guards:_o(ht.targetSnapshot,ht.currentSnapshot,this.rootContexts)})),function Ns(P,T){return(0,Wt.z)(E=>{const{targetSnapshot:L,currentSnapshot:Q,guards:{canActivateChecks:ge,canDeactivateChecks:nt}}=E;return 0===nt.length&&0===ge.length?(0,Ke.of)(Object.assign(Object.assign({},E),{guardsResult:!0})):function Xo(P,T,E,L){return(0,te.D)(P).pipe((0,Wt.z)(Q=>function Yr(P,T,E,L,Q){const ge=T&&T.routeConfig?T.routeConfig.canDeactivate:null;if(!ge||0===ge.length)return(0,Ke.of)(!0);const nt=ge.map(ht=>{const Ct=pn(ht,T,Q);let Gn;if(function bi(P){return P&&ns(P.canDeactivate)}(Ct))Gn=At(Ct.canDeactivate(P,T,E,L));else{if(!ns(Ct))throw new Error("Invalid CanDeactivate guard");Gn=At(Ct(P,T,E,L))}return Gn.pipe((0,dn.P)())});return(0,Ke.of)(nt).pipe(Ki())}(Q.component,Q.route,E,T,L)),(0,dn.P)(Q=>!0!==Q,!0))}(nt,L,Q,P).pipe((0,Wt.z)(ht=>ht&&function zs(P){return"boolean"==typeof P}(ht)?function Sa(P,T,E,L){return(0,te.D)(T).pipe((0,Lt.b)(Q=>(0,me.z)(function aa(P,T){return null!==P&&T&&T(new Ht(P)),(0,Ke.of)(!0)}(Q.route.parent,L),function $s(P,T){return null!==P&&T&&T(new ct(P)),(0,Ke.of)(!0)}(Q.route,L),function lo(P,T,E){const L=T[T.length-1],ge=T.slice(0,T.length-1).reverse().map(nt=>function lr(P){const T=P.routeConfig?P.routeConfig.canActivateChild:null;return T&&0!==T.length?{node:P,guards:T}:null}(nt)).filter(nt=>null!==nt).map(nt=>(0,Ce.P)(()=>{const ht=nt.guards.map(Ct=>{const Gn=pn(Ct,nt.node,E);let Ni;if(function Ts(P){return P&&ns(P.canActivateChild)}(Gn))Ni=At(Gn.canActivateChild(L,P));else{if(!ns(Gn))throw new Error("Invalid CanActivateChild guard");Ni=At(Gn(L,P))}return Ni.pipe((0,dn.P)())});return(0,Ke.of)(ht).pipe(Ki())}));return(0,Ke.of)(ge).pipe(Ki())}(P,Q.path,E),function Ua(P,T,E){const L=T.routeConfig?T.routeConfig.canActivate:null;if(!L||0===L.length)return(0,Ke.of)(!0);const Q=L.map(ge=>(0,Ce.P)(()=>{const nt=pn(ge,T,E);let ht;if(function $r(P){return P&&ns(P.canActivate)}(nt))ht=At(nt.canActivate(T,P));else{if(!ns(nt))throw new Error("Invalid CanActivate guard");ht=At(nt(T,P))}return ht.pipe((0,dn.P)())}));return(0,Ke.of)(Q).pipe(Ki())}(P,Q.route,E))),(0,dn.P)(Q=>!0!==Q,!0))}(L,ge,P,T):(0,Ke.of)(ht)),(0,zt.U)(ht=>Object.assign(Object.assign({},E),{guardsResult:ht})))})}(this.ngModule.injector,ht=>this.triggerEvent(ht)),(0,Ut.b)(ht=>{if(Br(ht.guardsResult)){const Gn=nn(`Redirecting to "${this.serializeUrl(ht.guardsResult)}"`);throw Gn.url=ht.guardsResult,Gn}const Ct=new ni(ht.id,this.serializeUrl(ht.extractedUrl),this.serializeUrl(ht.urlAfterRedirects),ht.targetSnapshot,!!ht.guardsResult);this.triggerEvent(Ct)}),(0,de.h)(ht=>!!ht.guardsResult||(this.restoreHistory(ht),this.cancelNavigationTransition(ht,""),!1)),ur(ht=>{if(ht.guards.canActivateChecks.length)return(0,Ke.of)(ht).pipe((0,Ut.b)(Ct=>{const Gn=new Qt(Ct.id,this.serializeUrl(Ct.extractedUrl),this.serializeUrl(Ct.urlAfterRedirects),Ct.targetSnapshot);this.triggerEvent(Gn)}),(0,rt.w)(Ct=>{let Gn=!1;return(0,Ke.of)(Ct).pipe(function Ii(P,T){return(0,Wt.z)(E=>{const{targetSnapshot:L,guards:{canActivateChecks:Q}}=E;if(!Q.length)return(0,Ke.of)(E);let ge=0;return(0,te.D)(Q).pipe((0,Lt.b)(nt=>function ai(P,T,E,L){return function li(P,T,E,L){const Q=Qi(P);if(0===Q.length)return(0,Ke.of)({});const ge={};return(0,te.D)(Q).pipe((0,Wt.z)(nt=>function rr(P,T,E,L){const Q=pn(P,T,L);return At(Q.resolve?Q.resolve(T,E):Q(T,E))}(P[nt],T,E,L).pipe((0,Ut.b)(ht=>{ge[nt]=ht}))),ut(1),(0,Wt.z)(()=>Qi(ge).length===Q.length?(0,Ke.of)(ge):Be.E))}(P._resolve,P,T,L).pipe((0,zt.U)(ge=>(P._resolvedData=ge,P.data=Object.assign(Object.assign({},P.data),an(P,E).resolve),null)))}(nt.route,L,P,T)),(0,Ut.b)(()=>ge++),ut(1),(0,Wt.z)(nt=>ge===Q.length?(0,Ke.of)(E):Be.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Ut.b)({next:()=>Gn=!0,complete:()=>{Gn||(this.restoreHistory(Ct),this.cancelNavigationTransition(Ct,"At least one route resolver didn't emit any value."))}}))}),(0,Ut.b)(Ct=>{const Gn=new fe(Ct.id,this.serializeUrl(Ct.extractedUrl),this.serializeUrl(Ct.urlAfterRedirects),Ct.targetSnapshot);this.triggerEvent(Gn)}))}),ur(ht=>{const{targetSnapshot:Ct,id:Gn,extractedUrl:Ni,rawUrl:Wn,extras:{skipLocationChange:Xi,replaceUrl:ji}}=ht;return this.hooks.afterPreactivation(Ct,{navigationId:Gn,appliedUrlTree:Ni,rawUrlTree:Wn,skipLocationChange:!!Xi,replaceUrl:!!ji})}),(0,zt.U)(ht=>{const Ct=function kr(P,T,E){const L=Es(P,T._root,E?E._root:void 0);return new Gr(L,T)}(this.routeReuseStrategy,ht.targetSnapshot,ht.currentRouterState);return Object.assign(Object.assign({},ht),{targetRouterState:Ct})}),(0,Ut.b)(ht=>{this.currentUrlTree=ht.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(ht.urlAfterRedirects,ht.rawUrl),this.routerState=ht.targetRouterState,"deferred"===this.urlUpdateStrategy&&(ht.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,ht),this.browserUrlTree=ht.urlAfterRedirects)}),((P,T,E)=>(0,zt.U)(L=>(new Or(T,L.targetRouterState,L.currentRouterState,E).activate(P),L)))(this.rootContexts,this.routeReuseStrategy,ht=>this.triggerEvent(ht)),(0,Ut.b)({next(){ge=!0},complete(){ge=!0}}),(0,Ze.x)(()=>{var ht;ge||nt||this.cancelNavigationTransition(Q,`Navigation ID ${Q.id} is not equal to the current navigation id ${this.navigationId}`),(null===(ht=this.currentNavigation)||void 0===ht?void 0:ht.id)===Q.id&&(this.currentNavigation=null)}),(0,Rt.K)(ht=>{if(nt=!0,function Tn(P){return P&&P[qt]}(ht)){const Ct=Br(ht.url);Ct||(this.navigated=!0,this.restoreHistory(Q,!0));const Gn=new rn(Q.id,this.serializeUrl(Q.extractedUrl),ht.message);L.next(Gn),Ct?setTimeout(()=>{const Ni=this.urlHandlingStrategy.merge(ht.url,this.rawUrlTree),Wn={skipLocationChange:Q.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Un(Q.source)};this.scheduleNavigation(Ni,"imperative",null,Wn,{resolve:Q.resolve,reject:Q.reject,promise:Q.promise})},0):Q.resolve(!1)}else{this.restoreHistory(Q,!0);const Ct=new fn(Q.id,this.serializeUrl(Q.extractedUrl),ht);L.next(Ct);try{Q.resolve(this.errorHandler(ht))}catch(Gn){Q.reject(Gn)}}return Be.E}))}))}resetRootComponentType(E){this.rootComponentType=E,this.routerState.root.component=this.rootComponentType}setTransition(E){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),E))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(E=>{const L="popstate"===E.type?"popstate":"hashchange";"popstate"===L&&setTimeout(()=>{var Q;const ge={replaceUrl:!0},nt=(null===(Q=E.state)||void 0===Q?void 0:Q.navigationId)?E.state:null;if(nt){const Ct=Object.assign({},nt);delete Ct.navigationId,delete Ct.\u0275routerPageId,0!==Object.keys(Ct).length&&(ge.state=Ct)}const ht=this.parseUrl(E.url);this.scheduleNavigation(ht,L,nt,ge)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(E){this.events.next(E)}resetConfig(E){Ss(E),this.config=E.map(ds),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(E,L={}){const{relativeTo:Q,queryParams:ge,fragment:nt,queryParamsHandling:ht,preserveFragment:Ct}=L,Gn=Q||this.routerState.root,Ni=Ct?this.currentUrlTree.fragment:nt;let Wn=null;switch(ht){case"merge":Wn=Object.assign(Object.assign({},this.currentUrlTree.queryParams),ge);break;case"preserve":Wn=this.currentUrlTree.queryParams;break;default:Wn=ge||null}return null!==Wn&&(Wn=this.removeEmptyProps(Wn)),function Ms(P,T,E,L,Q){if(0===E.length)return Vr(T.root,T.root,T.root,L,Q);const ge=function Hs(P){if("string"==typeof P[0]&&1===P.length&&"/"===P[0])return new so(!0,0,P);let T=0,E=!1;const L=P.reduce((Q,ge,nt)=>{if("object"==typeof ge&&null!=ge){if(ge.outlets){const ht={};return Sn(ge.outlets,(Ct,Gn)=>{ht[Gn]="string"==typeof Ct?Ct.split("/"):Ct}),[...Q,{outlets:ht}]}if(ge.segmentPath)return[...Q,ge.segmentPath]}return"string"!=typeof ge?[...Q,ge]:0===nt?(ge.split("/").forEach((ht,Ct)=>{0==Ct&&"."===ht||(0==Ct&&""===ht?E=!0:".."===ht?T++:""!=ht&&Q.push(ht))}),Q):[...Q,ge]},[]);return new so(E,T,L)}(E);if(ge.toRoot())return Vr(T.root,T.root,new He([],{}),L,Q);const nt=function vs(P,T,E){if(P.isAbsolute)return new _s(T.root,!0,0);if(-1===E.snapshot._lastPathIndex){const ge=E.snapshot._urlSegment;return new _s(ge,ge===T.root,0)}const L=us(P.commands[0])?0:1;return function Uo(P,T,E){let L=P,Q=T,ge=E;for(;ge>Q;){if(ge-=Q,L=L.parent,!L)throw new Error("Invalid number of '../'");Q=L.segments.length}return new _s(L,!1,Q-ge)}(E.snapshot._urlSegment,E.snapshot._lastPathIndex+L,P.numberOfDoubleDots)}(ge,T,P),ht=nt.processChildren?ys(nt.segmentGroup,nt.index,ge.commands):qo(nt.segmentGroup,nt.index,ge.commands);return Vr(T.root,nt.segmentGroup,ht,L,Q)}(Gn,this.currentUrlTree,E,Wn,null!=Ni?Ni:null)}navigateByUrl(E,L={skipLocationChange:!1}){const Q=Br(E)?E:this.parseUrl(E),ge=this.urlHandlingStrategy.merge(Q,this.rawUrlTree);return this.scheduleNavigation(ge,"imperative",null,L)}navigate(E,L={skipLocationChange:!1}){return function jn(P){for(let T=0;T<P.length;T++){const E=P[T];if(null==E)throw new Error(`The requested path contains ${E} segment at index ${T}`)}}(E),this.navigateByUrl(this.createUrlTree(E,L),L)}serializeUrl(E){return this.urlSerializer.serialize(E)}parseUrl(E){let L;try{L=this.urlSerializer.parse(E)}catch(Q){L=this.malformedUriErrorHandler(Q,this.urlSerializer,E)}return L}isActive(E,L){let Q;if(Q=!0===L?Object.assign({},ea):!1===L?Object.assign({},xo):L,Br(E))return x(this.currentUrlTree,E,Q);const ge=this.parseUrl(E);return x(this.currentUrlTree,ge,Q)}removeEmptyProps(E){return Object.keys(E).reduce((L,Q)=>{const ge=E[Q];return null!=ge&&(L[Q]=ge),L},{})}processNavigations(){this.navigations.subscribe(E=>{this.navigated=!0,this.lastSuccessfulId=E.id,this.currentPageId=E.targetPageId,this.events.next(new Mt(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,E.resolve(!0)},E=>{this.console.warn(`Unhandled Navigation Error: ${E}`)})}scheduleNavigation(E,L,Q,ge,nt){var ht,Ct;if(this.disposed)return Promise.resolve(!1);let Gn,Ni,Wn;nt?(Gn=nt.resolve,Ni=nt.reject,Wn=nt.promise):Wn=new Promise((Xs,co)=>{Gn=Xs,Ni=co});const Xi=++this.navigationId;let ji;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(Q=this.location.getState()),ji=Q&&Q.\u0275routerPageId?Q.\u0275routerPageId:ge.replaceUrl||ge.skipLocationChange?null!==(ht=this.browserPageId)&&void 0!==ht?ht:0:(null!==(Ct=this.browserPageId)&&void 0!==Ct?Ct:0)+1):ji=0,this.setTransition({id:Xi,targetPageId:ji,source:L,restoredState:Q,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:E,extras:ge,resolve:Gn,reject:Ni,promise:Wn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Wn.catch(Xs=>Promise.reject(Xs))}setBrowserUrl(E,L){const Q=this.urlSerializer.serialize(E),ge=Object.assign(Object.assign({},L.extras.state),this.generateNgRouterState(L.id,L.targetPageId));this.location.isCurrentPathEqualTo(Q)||L.extras.replaceUrl?this.location.replaceState(Q,"",ge):this.location.go(Q,"",ge)}restoreHistory(E,L=!1){var Q,ge;if("computed"===this.canceledNavigationResolution){const nt=this.currentPageId-E.targetPageId;"popstate"!==E.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(Q=this.currentNavigation)||void 0===Q?void 0:Q.finalUrl)||0===nt?this.currentUrlTree===(null===(ge=this.currentNavigation)||void 0===ge?void 0:ge.finalUrl)&&0===nt&&(this.resetState(E),this.browserUrlTree=E.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(nt)}else"replace"===this.canceledNavigationResolution&&(L&&this.resetState(E),this.resetUrlToCurrentUrlTree())}resetState(E){this.routerState=E.currentRouterState,this.currentUrlTree=E.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,E.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(E,L){const Q=new rn(E.id,this.serializeUrl(E.extractedUrl),L);this.triggerEvent(Q),E.resolve(!1)}generateNgRouterState(E,L){return"computed"===this.canceledNavigationResolution?{navigationId:E,\u0275routerPageId:L}:{navigationId:E}}}return P.\u0275fac=function(E){a.$Z()},P.\u0275prov=a.Yz7({token:P,factory:P.\u0275fac}),P})();function Un(P){return"imperative"!==P}let di=(()=>{class P{constructor(E,L,Q){this.router=E,this.route=L,this.locationStrategy=Q,this.commands=null,this.href=null,this.onChanges=new Ge.x,this.subscription=E.events.subscribe(ge=>{ge instanceof Mt&&this.updateTargetUrlAndHref()})}set routerLink(E){this.commands=null!=E?Array.isArray(E)?E:[E]:null}ngOnChanges(E){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(E,L,Q,ge,nt){if(0!==E||L||Q||ge||nt||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const ht={skipLocationChange:Zi(this.skipLocationChange),replaceUrl:Zi(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,ht),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Zi(this.preserveFragment)})}}return P.\u0275fac=function(E){return new(E||P)(a.Y36(vr),a.Y36(St),a.Y36(Le.S$))},P.\u0275dir=a.lG2({type:P,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(E,L){1&E&&a.NdJ("click",function(ge){return L.onClick(ge.button,ge.ctrlKey,ge.shiftKey,ge.altKey,ge.metaKey)}),2&E&&a.uIk("target",L.target)("href",L.href,a.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[a.TTD]}),P})();function Zi(P){return""===P||!!P}class vo{}class dr{preload(T,E){return(0,Ke.of)(null)}}let Ao=(()=>{class P{constructor(E,L,Q,ge){this.router=E,this.injector=Q,this.preloadingStrategy=ge,this.loader=new Li(Q,L,Ct=>E.triggerEvent(new $e(Ct)),Ct=>E.triggerEvent(new vt(Ct)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,de.h)(E=>E instanceof Mt),(0,Lt.b)(()=>this.preload())).subscribe(()=>{})}preload(){const E=this.injector.get(a.h0i);return this.processRoutes(E,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(E,L){const Q=[];for(const ge of L)if(ge.loadChildren&&!ge.canLoad&&ge._loadedConfig){const nt=ge._loadedConfig;Q.push(this.processRoutes(nt.module,nt.routes))}else ge.loadChildren&&!ge.canLoad?Q.push(this.preloadConfig(E,ge)):ge.children&&Q.push(this.processRoutes(E,ge.children));return(0,te.D)(Q).pipe((0,Pe.J)(),(0,zt.U)(ge=>{}))}preloadConfig(E,L){return this.preloadingStrategy.preload(L,()=>(L._loadedConfig?(0,Ke.of)(L._loadedConfig):this.loader.load(E.injector,L)).pipe((0,Wt.z)(ge=>(L._loadedConfig=ge,this.processRoutes(ge.module,ge.routes)))))}}return P.\u0275fac=function(E){return new(E||P)(a.LFG(vr),a.LFG(a.Sil),a.LFG(a.zs3),a.LFG(vo))},P.\u0275prov=a.Yz7({token:P,factory:P.\u0275fac}),P})(),Zr=(()=>{class P{constructor(E,L,Q={}){this.router=E,this.viewportScroller=L,this.options=Q,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Q.scrollPositionRestoration=Q.scrollPositionRestoration||"disabled",Q.anchorScrolling=Q.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(E=>{E instanceof Je?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=E.navigationTrigger,this.restoredId=E.restoredState?E.restoredState.navigationId:0):E instanceof Mt&&(this.lastId=E.id,this.scheduleScrollEvent(E,this.router.parseUrl(E.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(E=>{E instanceof oe&&(E.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(E.position):E.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(E.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(E,L){this.router.triggerEvent(new oe(E,"popstate"===this.lastSource?this.store[this.restoredId]:null,L))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return P.\u0275fac=function(E){a.$Z()},P.\u0275prov=a.Yz7({token:P,factory:P.\u0275fac}),P})();const On=new a.OlP("ROUTER_CONFIGURATION"),is=new a.OlP("ROUTER_FORROOT_GUARD"),An=[Le.Ye,{provide:Mn,useClass:En},{provide:vr,useFactory:function ko(P,T,E,L,Q,ge,nt={},ht,Ct){const Gn=new vr(null,P,T,E,L,Q,ri(ge));return ht&&(Gn.urlHandlingStrategy=ht),Ct&&(Gn.routeReuseStrategy=Ct),function ua(P,T){P.errorHandler&&(T.errorHandler=P.errorHandler),P.malformedUriErrorHandler&&(T.malformedUriErrorHandler=P.malformedUriErrorHandler),P.onSameUrlNavigation&&(T.onSameUrlNavigation=P.onSameUrlNavigation),P.paramsInheritanceStrategy&&(T.paramsInheritanceStrategy=P.paramsInheritanceStrategy),P.relativeLinkResolution&&(T.relativeLinkResolution=P.relativeLinkResolution),P.urlUpdateStrategy&&(T.urlUpdateStrategy=P.urlUpdateStrategy),P.canceledNavigationResolution&&(T.canceledNavigationResolution=P.canceledNavigationResolution)}(nt,Gn),nt.enableTracing&&Gn.events.subscribe(Ni=>{var Wn,Xi;null===(Wn=console.group)||void 0===Wn||Wn.call(console,`Router Event: ${Ni.constructor.name}`),console.log(Ni.toString()),console.log(Ni),null===(Xi=console.groupEnd)||void 0===Xi||Xi.call(console)}),Gn},deps:[Mn,wr,Le.Ye,a.zs3,a.Sil,Wr,On,[class fs{},new a.FiY],[class ms{},new a.FiY]]},wr,{provide:St,useFactory:function da(P){return P.routerState.root},deps:[vr]},Ao,dr,class cn{preload(T,E){return E().pipe((0,Rt.K)(()=>(0,Ke.of)(null)))}},{provide:On,useValue:{enableTracing:!1}}];function Zt(){return new a.PXZ("Router",vr)}let yn=(()=>{class P{constructor(E,L){}static forRoot(E,L){return{ngModule:P,providers:[An,rs(E),{provide:is,useFactory:jo,deps:[[vr,new a.FiY,new a.tp0]]},{provide:On,useValue:L||{}},{provide:Le.S$,useFactory:ca,deps:[Le.lw,[new a.tBr(Le.mr),new a.FiY],On]},{provide:Zr,useFactory:qr,deps:[vr,Le.EM,On]},{provide:vo,useExisting:L&&L.preloadingStrategy?L.preloadingStrategy:dr},{provide:a.PXZ,multi:!0,useFactory:Zt},[Ha,{provide:a.ip1,multi:!0,useFactory:wl,deps:[Ha]},{provide:Go,useFactory:Gl,deps:[Ha]},{provide:a.tb,multi:!0,useExisting:Go}]]}}static forChild(E){return{ngModule:P,providers:[rs(E)]}}}return P.\u0275fac=function(E){return new(E||P)(a.LFG(is,8),a.LFG(vr,8))},P.\u0275mod=a.oAB({type:P}),P.\u0275inj=a.cJS({}),P})();function qr(P,T,E){return E.scrollOffset&&T.setOffset(E.scrollOffset),new Zr(P,T,E)}function ca(P,T,E={}){return E.useHash?new Le.Do(P,T):new Le.b0(P,T)}function jo(P){return"guarded"}function rs(P){return[{provide:a.deG,multi:!0,useValue:P},{provide:Wr,multi:!0,useValue:P}]}let Ha=(()=>{class P{constructor(E){this.injector=E,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Ge.x}appInitializer(){return this.injector.get(Le.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let L=null;const Q=new Promise(ht=>L=ht),ge=this.injector.get(vr),nt=this.injector.get(On);return"disabled"===nt.initialNavigation?(ge.setUpLocationChangeListener(),L(!0)):"enabled"===nt.initialNavigation||"enabledBlocking"===nt.initialNavigation?(ge.hooks.afterPreactivation=()=>this.initNavigation?(0,Ke.of)(null):(this.initNavigation=!0,L(!0),this.resultOfPreactivationDone),ge.initialNavigation()):L(!0),Q})}bootstrapListener(E){const L=this.injector.get(On),Q=this.injector.get(Ao),ge=this.injector.get(Zr),nt=this.injector.get(vr),ht=this.injector.get(a.z2F);E===ht.components[0]&&(("enabledNonBlocking"===L.initialNavigation||void 0===L.initialNavigation)&&nt.initialNavigation(),Q.setUpPreloading(),ge.init(),nt.resetRootComponentType(ht.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return P.\u0275fac=function(E){return new(E||P)(a.LFG(a.zs3))},P.\u0275prov=a.Yz7({token:P,factory:P.\u0275fac}),P})();function wl(P){return P.appInitializer.bind(P)}function Gl(P){return P.bootstrapListener.bind(P)}const Go=new a.OlP("Router Initializer")},3942:(on,st,D)=>{D.d(st,{Z:()=>ot});var a=D(2090),R=D(4859),b=D(9681),te=D(1877);class v{constructor(Re,Ke){this._delegate=Re,this.firebase=Ke,(0,b._addComponent)(Re,new R.wA("app-compat",()=>this,"PUBLIC")),this.container=Re.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Re){this._delegate.automaticDataCollectionEnabled=Re}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Re=>{this._delegate.checkDestroyed(),Re()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,b.deleteApp)(this._delegate)))}_getService(Re,Ke=b._DEFAULT_ENTRY_NAME){var _t;this._delegate.checkDestroyed();const lt=this._delegate.container.getProvider(Re);return!lt.isInitialized()&&"EXPLICIT"===(null===(_t=lt.getComponent())||void 0===_t?void 0:_t.instantiationMode)&&lt.initialize(),lt.getImmediate({identifier:Ke})}_removeServiceInstance(Re,Ke=b._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Re).clearInstance(Ke)}_addComponent(Re){(0,b._addComponent)(this._delegate,Re)}_addOrOverwriteComponent(Re){(0,b._addOrOverwriteComponent)(this._delegate,Re)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ye=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),B=function z(){const et=function be(et){const Re={},Ke={__esModule:!0,initializeApp:function ue(Ge,de={}){const ut=b.initializeApp(Ge,de);if((0,a.r3)(Re,ut.name))return Re[ut.name];const Qe=new et(ut,Ke);return Re[ut.name]=Qe,Qe},app:lt,registerVersion:b.registerVersion,setLogLevel:b.setLogLevel,onLog:b.onLog,apps:null,SDK_VERSION:b.SDK_VERSION,INTERNAL:{registerComponent:function Ce(Ge){const de=Ge.name,ut=de.replace("-compat","");if(b._registerComponent(Ge)&&"PUBLIC"===Ge.type){const Qe=(jt=lt())=>{if("function"!=typeof jt[ut])throw ye.create("invalid-app-argument",{appName:de});return jt[ut]()};void 0!==Ge.serviceProps&&(0,a.ZB)(Qe,Ge.serviceProps),Ke[ut]=Qe,et.prototype[ut]=function(...jt){return this._getService.bind(this,de).apply(this,Ge.multipleInstances?jt:[])}}return"PUBLIC"===Ge.type?Ke[ut]:null},removeApp:function _t(Ge){delete Re[Ge]},useAsService:function Be(Ge,de){return"serverAuth"===de?null:de},modularAPIs:b}};function lt(Ge){if(!(0,a.r3)(Re,Ge=Ge||b._DEFAULT_ENTRY_NAME))throw ye.create("no-app",{appName:Ge});return Re[Ge]}return Ke.default=Ke,Object.defineProperty(Ke,"apps",{get:function me(){return Object.keys(Re).map(Ge=>Re[Ge])}}),lt.App=et,Ke}(v);return et.INTERNAL=Object.assign(Object.assign({},et.INTERNAL),{createFirebaseNamespace:z,extendNamespace:function Re(Ke){(0,a.ZB)(et,Ke)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),et}(),re=new te.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){re.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const et=self.firebase.SDK_VERSION;et&&et.indexOf("LITE")>=0&&re.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ot=B;!function Fe(et){(0,b.registerVersion)("@firebase/app-compat","0.2.3",et)}()},9681:(on,st,D)=>{D.r(st),D.d(st,{FirebaseError:()=>te.ZR,SDK_VERSION:()=>vn,_DEFAULT_ENTRY_NAME:()=>Rt,_addComponent:()=>Ut,_addOrOverwriteComponent:()=>Ze,_apps:()=>dn,_clearComponents:()=>Je,_components:()=>Wt,_getProvider:()=>Le,_registerComponent:()=>Pe,_removeServiceInstance:()=>tt,deleteApp:()=>fe,getApp:()=>ni,getApps:()=>Qt,initializeApp:()=>Qn,onLog:()=>Ht,registerVersion:()=>vt,setLogLevel:()=>Ye});var a=D(5861),R=D(4859),b=D(1877),te=D(2090),v=D(8766);class ce{constructor(O){this.container=O}getPlatformInfoString(){return this.container.getProviders().map(m=>{if(function ye(W){const O=W.getComponent();return"VERSION"===(null==O?void 0:O.type)}(m)){const x=m.getImmediate();return`${x.library}/${x.version}`}return null}).filter(m=>m).join(" ")}}const be="@firebase/app",z="0.9.3",B=new b.Yd("@firebase/app"),Rt="[DEFAULT]",Lt={[be]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},dn=new Map,Wt=new Map;function Ut(W,O){try{W.container.addComponent(O)}catch(m){B.debug(`Component ${O.name} failed to register with FirebaseApp ${W.name}`,m)}}function Ze(W,O){W.container.addOrOverwriteComponent(O)}function Pe(W){const O=W.name;if(Wt.has(O))return B.debug(`There were multiple attempts to register component ${O}.`),!1;Wt.set(O,W);for(const m of dn.values())Ut(m,W);return!0}function Le(W,O){const m=W.container.getProvider("heartbeat").getImmediate({optional:!0});return m&&m.triggerHeartbeat(),W.container.getProvider(O)}function tt(W,O,m=Rt){Le(W,O).clearInstance(m)}function Je(){Wt.clear()}const rn=new te.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class fn{constructor(O,m,x){this._isDeleted=!1,this._options=Object.assign({},O),this._config=Object.assign({},m),this._name=m.name,this._automaticDataCollectionEnabled=m.automaticDataCollectionEnabled,this._container=x,this.container.addComponent(new R.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(O){this.checkDestroyed(),this._automaticDataCollectionEnabled=O}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(O){this._isDeleted=O}checkDestroyed(){if(this.isDeleted)throw rn.create("app-deleted",{appName:this._name})}}const vn="9.17.1";function Qn(W,O={}){let m=W;"object"!=typeof O&&(O={name:O});const x=Object.assign({name:Rt,automaticDataCollectionEnabled:!1},O),U=x.name;if("string"!=typeof U||!U)throw rn.create("bad-app-name",{appName:String(U)});if(m||(m=(0,te.aH)()),!m)throw rn.create("no-options");const Se=dn.get(U);if(Se){if((0,te.vZ)(m,Se.options)&&(0,te.vZ)(x,Se.config))return Se;throw rn.create("duplicate-app",{appName:U})}const Me=new R.H0(U);for(const je of Wt.values())Me.addComponent(je);const Ie=new fn(m,x,Me);return dn.set(U,Ie),Ie}function ni(W=Rt){const O=dn.get(W);if(!O&&W===Rt)return Qn();if(!O)throw rn.create("no-app",{appName:W});return O}function Qt(){return Array.from(dn.values())}function fe(W){return $e.apply(this,arguments)}function $e(){return($e=(0,a.Z)(function*(W){const O=W.name;dn.has(O)&&(dn.delete(O),yield Promise.all(W.container.getProviders().map(m=>m.delete())),W.isDeleted=!0)})).apply(this,arguments)}function vt(W,O,m){var x;let U=null!==(x=Lt[W])&&void 0!==x?x:W;m&&(U+=`-${m}`);const Se=U.match(/\s|\//),Me=O.match(/\s|\//);if(Se||Me){const Ie=[`Unable to register library "${U}" with version "${O}":`];return Se&&Ie.push(`library name "${U}" contains illegal characters (whitespace or "/")`),Se&&Me&&Ie.push("and"),Me&&Ie.push(`version name "${O}" contains illegal characters (whitespace or "/")`),void B.warn(Ie.join(" "))}Pe(new R.wA(`${U}-version`,()=>({library:U,version:O}),"VERSION"))}function Ht(W,O){if(null!==W&&"function"!=typeof W)throw rn.create("invalid-log-argument");(0,b.Am)(W,O)}function Ye(W){(0,b.Ub)(W)}const oe="firebase-heartbeat-store";let _e=null;function dt(){return _e||(_e=(0,v.X3)("firebase-heartbeat-database",1,{upgrade:(W,O)=>{0===O&&W.createObjectStore(oe)}}).catch(W=>{throw rn.create("idb-open",{originalErrorMessage:W.message})})),_e}function qt(){return(qt=(0,a.Z)(function*(W){try{return(yield dt()).transaction(oe).objectStore(oe).get(kn(W))}catch(O){if(O instanceof te.ZR)B.warn(O.message);else{const m=rn.create("idb-get",{originalErrorMessage:null==O?void 0:O.message});B.warn(m.message)}}})).apply(this,arguments)}function nn(W,O){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,a.Z)(function*(W,O){try{const x=(yield dt()).transaction(oe,"readwrite");return yield x.objectStore(oe).put(O,kn(W)),x.done}catch(m){if(m instanceof te.ZR)B.warn(m.message);else{const x=rn.create("idb-set",{originalErrorMessage:null==m?void 0:m.message});B.warn(x.message)}}})).apply(this,arguments)}function kn(W){return`${W.name}!${W.options.appId}`}class wi{constructor(O){this.container=O,this._heartbeatsCache=null;const m=this.container.getProvider("app").getImmediate();this._storage=new mi(m),this._heartbeatsCachePromise=this._storage.read().then(x=>(this._heartbeatsCache=x,x))}triggerHeartbeat(){var O=this;return(0,a.Z)(function*(){const x=O.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),U=ri();if(null===O._heartbeatsCache&&(O._heartbeatsCache=yield O._heartbeatsCachePromise),O._heartbeatsCache.lastSentHeartbeatDate!==U&&!O._heartbeatsCache.heartbeats.some(Se=>Se.date===U))return O._heartbeatsCache.heartbeats.push({date:U,agent:x}),O._heartbeatsCache.heartbeats=O._heartbeatsCache.heartbeats.filter(Se=>{const Me=new Date(Se.date).valueOf();return Date.now()-Me<=2592e6}),O._storage.overwrite(O._heartbeatsCache)})()}getHeartbeatsHeader(){var O=this;return(0,a.Z)(function*(){if(null===O._heartbeatsCache&&(yield O._heartbeatsCachePromise),null===O._heartbeatsCache||0===O._heartbeatsCache.heartbeats.length)return"";const m=ri(),{heartbeatsToSend:x,unsentEntries:U}=function mn(W,O=1024){const m=[];let x=W.slice();for(const U of W){const Se=m.find(Me=>Me.agent===U.agent);if(Se){if(Se.dates.push(U.date),Sn(m)>O){Se.dates.pop();break}}else if(m.push({agent:U.agent,dates:[U.date]}),Sn(m)>O){m.pop();break}x=x.slice(1)}return{heartbeatsToSend:m,unsentEntries:x}}(O._heartbeatsCache.heartbeats),Se=(0,te.L)(JSON.stringify({version:2,heartbeats:x}));return O._heartbeatsCache.lastSentHeartbeatDate=m,U.length>0?(O._heartbeatsCache.heartbeats=U,yield O._storage.overwrite(O._heartbeatsCache)):(O._heartbeatsCache.heartbeats=[],O._storage.overwrite(O._heartbeatsCache)),Se})()}}function ri(){return(new Date).toISOString().substring(0,10)}class mi{constructor(O){this.app=O,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,te.hl)()&&(0,te.eu)().then(()=>!0).catch(()=>!1)})()}read(){var O=this;return(0,a.Z)(function*(){return(yield O._canUseIndexedDBPromise)&&(yield function Tt(W){return qt.apply(this,arguments)}(O.app))||{heartbeats:[]}})()}overwrite(O){var m=this;return(0,a.Z)(function*(){var x;if(yield m._canUseIndexedDBPromise){const Se=yield m.read();return nn(m.app,{lastSentHeartbeatDate:null!==(x=O.lastSentHeartbeatDate)&&void 0!==x?x:Se.lastSentHeartbeatDate,heartbeats:O.heartbeats})}})()}add(O){var m=this;return(0,a.Z)(function*(){var x;if(yield m._canUseIndexedDBPromise){const Se=yield m.read();return nn(m.app,{lastSentHeartbeatDate:null!==(x=O.lastSentHeartbeatDate)&&void 0!==x?x:Se.lastSentHeartbeatDate,heartbeats:[...Se.heartbeats,...O.heartbeats]})}})()}}function Sn(W){return(0,te.L)(JSON.stringify({version:2,heartbeats:W})).length}!function At(W){Pe(new R.wA("platform-logger",O=>new ce(O),"PRIVATE")),Pe(new R.wA("heartbeat",O=>new wi(O),"PRIVATE")),vt(be,z,W),vt(be,z,"esm2017"),vt("fire-js","")}("")},4859:(on,st,D)=>{D.d(st,{H0:()=>be,wA:()=>b});var a=D(5861),R=D(2090);class b{constructor(B,re,xe){this.name=B,this.instanceFactory=re,this.type=xe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(B){return this.instantiationMode=B,this}setMultipleInstances(B){return this.multipleInstances=B,this}setServiceProps(B){return this.serviceProps=B,this}setInstanceCreatedCallback(B){return this.onInstanceCreated=B,this}}const te="[DEFAULT]";class v{constructor(B,re){this.name=B,this.container=re,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(B){const re=this.normalizeInstanceIdentifier(B);if(!this.instancesDeferred.has(re)){const xe=new R.BH;if(this.instancesDeferred.set(re,xe),this.isInitialized(re)||this.shouldAutoInitialize())try{const We=this.getOrInitializeService({instanceIdentifier:re});We&&xe.resolve(We)}catch(We){}}return this.instancesDeferred.get(re).promise}getImmediate(B){var re;const xe=this.normalizeInstanceIdentifier(null==B?void 0:B.identifier),We=null!==(re=null==B?void 0:B.optional)&&void 0!==re&&re;if(!this.isInitialized(xe)&&!this.shouldAutoInitialize()){if(We)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:xe})}catch(Fe){if(We)return null;throw Fe}}getComponent(){return this.component}setComponent(B){if(B.name!==this.name)throw Error(`Mismatching Component ${B.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=B,this.shouldAutoInitialize()){if(function ye(z){return"EAGER"===z.instantiationMode}(B))try{this.getOrInitializeService({instanceIdentifier:te})}catch(re){}for(const[re,xe]of this.instancesDeferred.entries()){const We=this.normalizeInstanceIdentifier(re);try{const Fe=this.getOrInitializeService({instanceIdentifier:We});xe.resolve(Fe)}catch(Fe){}}}}clearInstance(B=te){this.instancesDeferred.delete(B),this.instancesOptions.delete(B),this.instances.delete(B)}delete(){var B=this;return(0,a.Z)(function*(){const re=Array.from(B.instances.values());yield Promise.all([...re.filter(xe=>"INTERNAL"in xe).map(xe=>xe.INTERNAL.delete()),...re.filter(xe=>"_delete"in xe).map(xe=>xe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(B=te){return this.instances.has(B)}getOptions(B=te){return this.instancesOptions.get(B)||{}}initialize(B={}){const{options:re={}}=B,xe=this.normalizeInstanceIdentifier(B.instanceIdentifier);if(this.isInitialized(xe))throw Error(`${this.name}(${xe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const We=this.getOrInitializeService({instanceIdentifier:xe,options:re});for(const[Fe,ot]of this.instancesDeferred.entries())xe===this.normalizeInstanceIdentifier(Fe)&&ot.resolve(We);return We}onInit(B,re){var xe;const We=this.normalizeInstanceIdentifier(re),Fe=null!==(xe=this.onInitCallbacks.get(We))&&void 0!==xe?xe:new Set;Fe.add(B),this.onInitCallbacks.set(We,Fe);const ot=this.instances.get(We);return ot&&B(ot,We),()=>{Fe.delete(B)}}invokeOnInitCallbacks(B,re){const xe=this.onInitCallbacks.get(re);if(xe)for(const We of xe)try{We(B,re)}catch(Fe){}}getOrInitializeService({instanceIdentifier:B,options:re={}}){let xe=this.instances.get(B);if(!xe&&this.component&&(xe=this.component.instanceFactory(this.container,{instanceIdentifier:(z=B,z===te?void 0:z),options:re}),this.instances.set(B,xe),this.instancesOptions.set(B,re),this.invokeOnInitCallbacks(xe,B),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,B,xe)}catch(We){}var z;return xe||null}normalizeInstanceIdentifier(B=te){return this.component?this.component.multipleInstances?B:te:B}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class be{constructor(B){this.name=B,this.providers=new Map}addComponent(B){const re=this.getProvider(B.name);if(re.isComponentSet())throw new Error(`Component ${B.name} has already been registered with ${this.name}`);re.setComponent(B)}addOrOverwriteComponent(B){this.getProvider(B.name).isComponentSet()&&this.providers.delete(B.name),this.addComponent(B)}getProvider(B){if(this.providers.has(B))return this.providers.get(B);const re=new v(B,this);return this.providers.set(B,re),re}getProviders(){return Array.from(this.providers.values())}}},1877:(on,st,D)=>{D.d(st,{Am:()=>z,Ub:()=>be,Yd:()=>ye,in:()=>R});const a=[];var R=(()=>{return(B=R||(R={}))[B.DEBUG=0]="DEBUG",B[B.VERBOSE=1]="VERBOSE",B[B.INFO=2]="INFO",B[B.WARN=3]="WARN",B[B.ERROR=4]="ERROR",B[B.SILENT=5]="SILENT",R;var B})();const b={debug:R.DEBUG,verbose:R.VERBOSE,info:R.INFO,warn:R.WARN,error:R.ERROR,silent:R.SILENT},te=R.INFO,v={[R.DEBUG]:"log",[R.VERBOSE]:"log",[R.INFO]:"info",[R.WARN]:"warn",[R.ERROR]:"error"},ce=(B,re,...xe)=>{if(re<B.logLevel)return;const We=(new Date).toISOString(),Fe=v[re];if(!Fe)throw new Error(`Attempted to log a message with an invalid logType (value: ${re})`);console[Fe](`[${We}]  ${B.name}:`,...xe)};class ye{constructor(re){this.name=re,this._logLevel=te,this._logHandler=ce,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(re){if(!(re in R))throw new TypeError(`Invalid value "${re}" assigned to \`logLevel\``);this._logLevel=re}setLogLevel(re){this._logLevel="string"==typeof re?b[re]:re}get logHandler(){return this._logHandler}set logHandler(re){if("function"!=typeof re)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=re}get userLogHandler(){return this._userLogHandler}set userLogHandler(re){this._userLogHandler=re}debug(...re){this._userLogHandler&&this._userLogHandler(this,R.DEBUG,...re),this._logHandler(this,R.DEBUG,...re)}log(...re){this._userLogHandler&&this._userLogHandler(this,R.VERBOSE,...re),this._logHandler(this,R.VERBOSE,...re)}info(...re){this._userLogHandler&&this._userLogHandler(this,R.INFO,...re),this._logHandler(this,R.INFO,...re)}warn(...re){this._userLogHandler&&this._userLogHandler(this,R.WARN,...re),this._logHandler(this,R.WARN,...re)}error(...re){this._userLogHandler&&this._userLogHandler(this,R.ERROR,...re),this._logHandler(this,R.ERROR,...re)}}function be(B){a.forEach(re=>{re.setLogLevel(B)})}function z(B,re){for(const xe of a){let We=null;re&&re.level&&(We=b[re.level]),xe.userLogHandler=null===B?null:(Fe,ot,...et)=>{const Re=et.map(Ke=>{if(null==Ke)return null;if("string"==typeof Ke)return Ke;if("number"==typeof Ke||"boolean"==typeof Ke)return Ke.toString();if(Ke instanceof Error)return Ke.message;try{return JSON.stringify(Ke)}catch(_t){return null}}).filter(Ke=>Ke).join(" ");ot>=(null!=We?We:Fe.logLevel)&&B({level:R[ot].toLowerCase(),message:Re,args:et,type:Fe.name})}}}},259:(on,st,D)=>{D.d(st,{C6:()=>a.getApps,KN:()=>a.registerVersion,Mq:()=>a.getApp,ZF:()=>a.initializeApp});var a=D(9681);(0,a.registerVersion)("firebase","9.17.1","app")},9260:(on,st,D)=>{D.d(st,{Z:()=>a.Z});var a=D(3942);a.Z.registerVersion("firebase","9.17.1","app-compat")},407:(on,st,D)=>{D.r(st);var a=D(5861),R=D(3942),b=D(2090),te=D(9681),v=D(1877),ce=D(655),ye=D(4859);const ot=function We(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},et=function Fe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Re=new b.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),_t=new v.Yd("@firebase/auth");function lt(y,...h){_t.logLevel<=v.in.ERROR&&_t.error(`Auth (${te.SDK_VERSION}): ${y}`,...h)}function ue(y,...h){throw Ge(y,...h)}function me(y,...h){return Ge(y,...h)}function Ce(y,h,f){const I=Object.assign(Object.assign({},et()),{[h]:f});return new b.LL("auth","Firebase",I).create(h,{appName:y.name})}function Be(y,h,f){if(!(h instanceof f))throw f.name!==h.constructor.name&&ue(y,"argument-error"),Ce(y,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ge(y,...h){if("string"!=typeof y){const f=h[0],I=[...h.slice(1)];return I[0]&&(I[0].appName=y.name),y._errorFactory.create(f,...I)}return Re.create(y,...h)}function de(y,h,...f){if(!y)throw Ge(h,...f)}function ut(y){const h="INTERNAL ASSERTION FAILED: "+y;throw lt(h),new Error(h)}function Qe(y,h){y||ut(h)}const jt=new Map;function bt(y){Qe(y instanceof Function,"Expected a class definition");let h=jt.get(y);return h?(Qe(h instanceof y,"Instance stored in cache mismatched with class"),h):(h=new y,jt.set(y,h),h)}function Ft(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function xt(){return"http:"===Vt()||"https:"===Vt()}function Vt(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class dn{constructor(h,f){this.shortDelay=h,this.longDelay=f,Qe(f>h,"Short delay should be less than long delay!"),this.isMobile=(0,b.uI)()||(0,b.b$)()}get(){return function Rt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(xt()||(0,b.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Wt(y,h){Qe(y.emulator,"Emulator should always be set here");const{url:f}=y.emulator;return h?`${f}${h.startsWith("/")?h.slice(1):h}`:f}class Ut{static initialize(h,f,I){this.fetchImpl=h,f&&(this.headersImpl=f),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ut("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ut("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ut("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ze={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Pe=new dn(3e4,6e4);function Le(y,h){return y.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:y.tenantId}):h}function tt(y,h,f,I){return Je.apply(this,arguments)}function Je(){return(Je=(0,a.Z)(function*(y,h,f,I,ee={}){return Mt(y,ee,(0,a.Z)(function*(){let ke={},Ot={};I&&("GET"===h?Ot=I:ke={body:JSON.stringify(I)});const sn=(0,b.xO)(Object.assign({key:y.config.apiKey},Ot)).slice(1),xn=yield y._getAdditionalHeaders();return xn["Content-Type"]="application/json",y.languageCode&&(xn["X-Firebase-Locale"]=y.languageCode),Ut.fetch()(Qn(y,y.config.apiHost,f,sn),Object.assign({method:h,headers:xn,referrerPolicy:"no-referrer"},ke))}))})).apply(this,arguments)}function Mt(y,h,f){return rn.apply(this,arguments)}function rn(){return(rn=(0,a.Z)(function*(y,h,f){y._canInitEmulator=!1;const I=Object.assign(Object.assign({},Ze),h);try{const ee=new ni(y),ke=yield Promise.race([f(),ee.promise]);ee.clearNetworkTimeout();const Ot=yield ke.json();if("needConfirmation"in Ot)throw Qt(y,"account-exists-with-different-credential",Ot);if(ke.ok&&!("errorMessage"in Ot))return Ot;{const sn=ke.ok?Ot.errorMessage:Ot.error.message,[xn,qn]=sn.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===xn)throw Qt(y,"credential-already-in-use",Ot);if("EMAIL_EXISTS"===xn)throw Qt(y,"email-already-in-use",Ot);if("USER_DISABLED"===xn)throw Qt(y,"user-disabled",Ot);const Mi=I[xn]||xn.toLowerCase().replace(/[_\s]+/g,"-");if(qn)throw Ce(y,Mi,qn);ue(y,Mi)}}catch(ee){if(ee instanceof b.ZR)throw ee;ue(y,"network-request-failed")}})).apply(this,arguments)}function fn(y,h,f,I){return vn.apply(this,arguments)}function vn(){return(vn=(0,a.Z)(function*(y,h,f,I,ee={}){const ke=yield tt(y,h,f,I,ee);return"mfaPendingCredential"in ke&&ue(y,"multi-factor-auth-required",{_serverResponse:ke}),ke})).apply(this,arguments)}function Qn(y,h,f,I){const ee=`${h}${f}?${I}`;return y.config.emulator?Wt(y.config,ee):`${y.config.apiScheme}://${ee}`}class ni{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((f,I)=>{this.timer=setTimeout(()=>I(me(this.auth,"network-request-failed")),Pe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Qt(y,h,f){const I={appName:y.name};f.email&&(I.email=f.email),f.phoneNumber&&(I.phoneNumber=f.phoneNumber);const ee=me(y,h,I);return ee.customData._tokenResponse=f,ee}function $e(){return($e=(0,a.Z)(function*(y,h){return tt(y,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function vt(y,h){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,a.Z)(function*(y,h){return tt(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Ye(y,h){return ct.apply(this,arguments)}function ct(){return(ct=(0,a.Z)(function*(y,h){return tt(y,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function X(y){if(y)try{const h=new Date(Number(y));if(!isNaN(h.getTime()))return h.toUTCString()}catch(h){}}function dt(){return(dt=(0,a.Z)(function*(y,h=!1){const f=(0,b.m9)(y),I=yield f.getIdToken(h),ee=qt(I);de(ee&&ee.exp&&ee.auth_time&&ee.iat,f.auth,"internal-error");const ke="object"==typeof ee.firebase?ee.firebase:void 0,Ot=null==ke?void 0:ke.sign_in_provider;return{claims:ee,token:I,authTime:X(Tt(ee.auth_time)),issuedAtTime:X(Tt(ee.iat)),expirationTime:X(Tt(ee.exp)),signInProvider:Ot||null,signInSecondFactor:(null==ke?void 0:ke.sign_in_second_factor)||null}})).apply(this,arguments)}function Tt(y){return 1e3*Number(y)}function qt(y){const[h,f,I]=y.split(".");if(void 0===h||void 0===f||void 0===I)return lt("JWT malformed, contained fewer than 3 sections"),null;try{const ee=(0,b.tV)(f);return ee?JSON.parse(ee):(lt("Failed to decode base64 JWT payload"),null)}catch(ee){return lt("Caught error parsing JWT payload as JSON",null==ee?void 0:ee.toString()),null}}function Tn(y,h){return kn.apply(this,arguments)}function kn(){return(kn=(0,a.Z)(function*(y,h,f=!1){if(f)return h;try{return yield h}catch(I){throw I instanceof b.ZR&&Fn(I)&&y.auth.currentUser===y&&(yield y.auth.signOut()),I}})).apply(this,arguments)}function Fn({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class ii{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var f;if(h){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const ee=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,ee)}}schedule(h=!1){var f=this;if(!this.isRunning)return;const I=this.getInterval(h);this.timerId=setTimeout((0,a.Z)(function*(){yield f.iteration()}),I)}iteration(){var h=this;return(0,a.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(f){return void("auth/network-request-failed"===(null==f?void 0:f.code)&&h.schedule(!0))}h.schedule()})()}}class wi{constructor(h,f){this.createdAt=h,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=X(this.lastLoginAt),this.creationTime=X(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ri(y){return mn.apply(this,arguments)}function mn(){return(mn=(0,a.Z)(function*(y){var h;const f=y.auth,I=yield y.getIdToken(),ee=yield Tn(y,Ye(f,{idToken:I}));de(null==ee?void 0:ee.users.length,f,"internal-error");const ke=ee.users[0];y._notifyReloadListener(ke);const Ot=(null===(h=ke.providerUserInfo)||void 0===h?void 0:h.length)?W(ke.providerUserInfo):[],sn=At(y.providerData,Ot),Mi=!!y.isAnonymous&&!(y.email&&ke.passwordHash||(null==sn?void 0:sn.length)),Ci={uid:ke.localId,displayName:ke.displayName||null,photoURL:ke.photoUrl||null,email:ke.email||null,emailVerified:ke.emailVerified||!1,phoneNumber:ke.phoneNumber||null,tenantId:ke.tenantId||null,providerData:sn,metadata:new wi(ke.createdAt,ke.lastLoginAt),isAnonymous:Mi};Object.assign(y,Ci)})).apply(this,arguments)}function Sn(){return(Sn=(0,a.Z)(function*(y){const h=(0,b.m9)(y);yield ri(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function At(y,h){return[...y.filter(I=>!h.some(ee=>ee.providerId===I.providerId)),...h]}function W(y){return y.map(h=>{var{providerId:f}=h,I=(0,ce._T)(h,["providerId"]);return{providerId:f,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}function m(){return(m=(0,a.Z)(function*(y,h){const f=yield Mt(y,{},(0,a.Z)(function*(){const I=(0,b.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:ee,apiKey:ke}=y.config,Ot=Qn(y,ee,"/v1/token",`key=${ke}`),sn=yield y._getAdditionalHeaders();return sn["Content-Type"]="application/x-www-form-urlencoded",Ut.fetch()(Ot,{method:"POST",headers:sn,body:I})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}class x{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){de(h.idToken,"internal-error"),de(void 0!==h.idToken,"internal-error"),de(void 0!==h.refreshToken,"internal-error");const f="expiresIn"in h&&void 0!==h.expiresIn?Number(h.expiresIn):function nn(y){const h=qt(y);return de(h,"internal-error"),de(void 0!==h.exp,"internal-error"),de(void 0!==h.iat,"internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,f)}getToken(h,f=!1){var I=this;return(0,a.Z)(function*(){return de(!I.accessToken||I.refreshToken,h,"user-token-expired"),f||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(h,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,f){var I=this;return(0,a.Z)(function*(){const{accessToken:ee,refreshToken:ke,expiresIn:Ot}=yield function O(y,h){return m.apply(this,arguments)}(h,f);I.updateTokensAndExpiration(ee,ke,Number(Ot))})()}updateTokensAndExpiration(h,f,I){this.refreshToken=f||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(h,f){const{refreshToken:I,accessToken:ee,expirationTime:ke}=f,Ot=new x;return I&&(de("string"==typeof I,"internal-error",{appName:h}),Ot.refreshToken=I),ee&&(de("string"==typeof ee,"internal-error",{appName:h}),Ot.accessToken=ee),ke&&(de("number"==typeof ke,"internal-error",{appName:h}),Ot.expirationTime=ke),Ot}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new x,this.toJSON())}_performRefresh(){return ut("not implemented")}}function U(y,h){de("string"==typeof y||void 0===y,"internal-error",{appName:h})}class Se{constructor(h){var{uid:f,auth:I,stsTokenManager:ee}=h,ke=(0,ce._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ii(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=I,this.stsTokenManager=ee,this.accessToken=ee.accessToken,this.displayName=ke.displayName||null,this.email=ke.email||null,this.emailVerified=ke.emailVerified||!1,this.phoneNumber=ke.phoneNumber||null,this.photoURL=ke.photoURL||null,this.isAnonymous=ke.isAnonymous||!1,this.tenantId=ke.tenantId||null,this.providerData=ke.providerData?[...ke.providerData]:[],this.metadata=new wi(ke.createdAt||void 0,ke.lastLoginAt||void 0)}getIdToken(h){var f=this;return(0,a.Z)(function*(){const I=yield Tn(f,f.stsTokenManager.getToken(f.auth,h));return de(I,f.auth,"internal-error"),f.accessToken!==I&&(f.accessToken=I,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),I})()}getIdTokenResult(h){return function _e(y){return dt.apply(this,arguments)}(this,h)}reload(){return function mi(y){return Sn.apply(this,arguments)}(this)}_assign(h){this!==h&&(de(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(f=>Object.assign({},f)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){return new Se(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(h){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,f=!1){var I=this;return(0,a.Z)(function*(){let ee=!1;h.idToken&&h.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(h),ee=!0),f&&(yield ri(I)),yield I.auth._persistUserIfCurrent(I),ee&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var h=this;return(0,a.Z)(function*(){const f=yield h.getIdToken();return yield Tn(h,function fe(y,h){return $e.apply(this,arguments)}(h.auth,{idToken:f})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,f){var I,ee,ke,Ot,sn,xn,qn,Mi;const Ci=null!==(I=f.displayName)&&void 0!==I?I:void 0,_r=null!==(ee=f.email)&&void 0!==ee?ee:void 0,wa=null!==(ke=f.phoneNumber)&&void 0!==ke?ke:void 0,Gc=null!==(Ot=f.photoURL)&&void 0!==Ot?Ot:void 0,Na=null!==(sn=f.tenantId)&&void 0!==sn?sn:void 0,xu=null!==(xn=f._redirectEventId)&&void 0!==xn?xn:void 0,zc=null!==(qn=f.createdAt)&&void 0!==qn?qn:void 0,Au=null!==(Mi=f.lastLoginAt)&&void 0!==Mi?Mi:void 0,{uid:rc,emailVerified:xd,isAnonymous:ku,providerData:Ad,stsTokenManager:Ds}=f;de(rc&&Ds,h,"internal-error");const _p=x.fromJSON(this.name,Ds);de("string"==typeof rc,h,"internal-error"),U(Ci,h.name),U(_r,h.name),de("boolean"==typeof xd,h,"internal-error"),de("boolean"==typeof ku,h,"internal-error"),U(wa,h.name),U(Gc,h.name),U(Na,h.name),U(xu,h.name),U(zc,h.name),U(Au,h.name);const kd=new Se({uid:rc,auth:h,email:_r,emailVerified:xd,displayName:Ci,isAnonymous:ku,photoURL:Gc,phoneNumber:wa,tenantId:Na,stsTokenManager:_p,createdAt:zc,lastLoginAt:Au});return Ad&&Array.isArray(Ad)&&(kd.providerData=Ad.map(Od=>Object.assign({},Od))),xu&&(kd._redirectEventId=xu),kd}static _fromIdTokenResponse(h,f,I=!1){return(0,a.Z)(function*(){const ee=new x;ee.updateFromServerResponse(f);const ke=new Se({uid:f.localId,auth:h,stsTokenManager:ee,isAnonymous:I});return yield ri(ke),ke})()}}const Ie=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(f,I){var ee=this;return(0,a.Z)(function*(){ee.storage[f]=I})()}_get(f){var I=this;return(0,a.Z)(function*(){const ee=I.storage[f];return void 0===ee?null:ee})()}_remove(f){var I=this;return(0,a.Z)(function*(){delete I.storage[f]})()}_addListener(f,I){}_removeListener(f,I){}}return y.type="NONE",y})();function je(y,h,f){return`firebase:${y}:${h}:${f}`}class It{constructor(h,f,I){this.persistence=h,this.auth=f,this.userKey=I;const{config:ee,name:ke}=this.auth;this.fullUserKey=je(this.userKey,ee.apiKey,ke),this.fullPersistenceKey=je("persistence",ee.apiKey,ke),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,a.Z)(function*(){const f=yield h.persistence._get(h.fullUserKey);return f?Se._fromJSON(h.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var f=this;return(0,a.Z)(function*(){if(f.persistence===h)return;const I=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=h,I?f.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,f,I="authUser"){return(0,a.Z)(function*(){if(!f.length)return new It(bt(Ie),h,I);const ee=(yield Promise.all(f.map(function(){var qn=(0,a.Z)(function*(Mi){if(yield Mi._isAvailable())return Mi});return function(Mi){return qn.apply(this,arguments)}}()))).filter(qn=>qn);let ke=ee[0]||bt(Ie);const Ot=je(I,h.config.apiKey,h.name);let sn=null;for(const qn of f)try{const Mi=yield qn._get(Ot);if(Mi){const Ci=Se._fromJSON(h,Mi);qn!==ke&&(sn=Ci),ke=qn;break}}catch(Mi){}const xn=ee.filter(qn=>qn._shouldAllowMigration);return ke._shouldAllowMigration&&xn.length?(ke=xn[0],sn&&(yield ke._set(Ot,sn.toJSON())),yield Promise.all(f.map(function(){var qn=(0,a.Z)(function*(Mi){if(Mi!==ke)try{yield Mi._remove(Ot)}catch(Ci){}});return function(Mi){return qn.apply(this,arguments)}}())),new It(ke,h,I)):new It(ke,h,I)})()}}function Et(y){const h=y.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(pt(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(He(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(Mn(h))return"Blackberry";if(En(h))return"Webos";if(ze(h))return"Safari";if((h.includes("chrome/")||Ve(h))&&!h.includes("edge/"))return"Chrome";if(Gt(h))return"Android";{const I=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==I?void 0:I.length))return I[1]}return"Other"}function He(y=(0,b.z$)()){return/firefox\//i.test(y)}function ze(y=(0,b.z$)()){const h=y.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Ve(y=(0,b.z$)()){return/crios\//i.test(y)}function pt(y=(0,b.z$)()){return/iemobile/i.test(y)}function Gt(y=(0,b.z$)()){return/android/i.test(y)}function Mn(y=(0,b.z$)()){return/blackberry/i.test(y)}function En(y=(0,b.z$)()){return/webos/i.test(y)}function gi(y=(0,b.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function nr(y=(0,b.z$)()){return gi(y)||Gt(y)||En(y)||Mn(y)||/windows phone/i.test(y)||pt(y)}function Ji(y,h=[]){let f;switch(y){case"Browser":f=Et((0,b.z$)());break;case"Worker":f=`${Et((0,b.z$)())}-${y}`;break;default:f=y}const I=h.length?h.join(","):"FirebaseCore-web";return`${f}/JsCore/${te.SDK_VERSION}/${I}`}class Te{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,f){const I=ke=>new Promise((Ot,sn)=>{try{Ot(h(ke))}catch(xn){sn(xn)}});I.onAbort=f,this.queue.push(I);const ee=this.queue.length-1;return()=>{this.queue[ee]=()=>Promise.resolve()}}runMiddleware(h){var f=this;return(0,a.Z)(function*(){if(f.auth.currentUser===h)return;const I=[];try{for(const ee of f.queue)yield ee(h),ee.onAbort&&I.push(ee.onAbort)}catch(ee){I.reverse();for(const ke of I)try{ke()}catch(Ot){}throw f.auth._errorFactory.create("login-blocked",{originalMessage:null==ee?void 0:ee.message})}})()}}class Ne{constructor(h,f,I){this.app=h,this.heartbeatServiceProvider=f,this.config=I,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qe(this),this.idTokenSubscription=new qe(this),this.beforeStateQueue=new Te(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Re,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=I.sdkClientVersion}_initializeWithPersistence(h,f){var I=this;return f&&(this._popupRedirectResolver=bt(f)),this._initializationPromise=this.queue((0,a.Z)(function*(){var ee,ke;if(!I._deleted&&(I.persistenceManager=yield It.create(I,h),!I._deleted)){if(null===(ee=I._popupRedirectResolver)||void 0===ee?void 0:ee._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch(Ot){}yield I.initializeCurrentUser(f),I.lastNotifiedUid=(null===(ke=I.currentUser)||void 0===ke?void 0:ke.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,a.Z)(function*(){if(h._deleted)return;const f=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||f){if(h.currentUser&&f&&h.currentUser.uid===f.uid)return h._currentUser._assign(f),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(f,!0)}})()}initializeCurrentUser(h){var f=this;return(0,a.Z)(function*(){var I;const ee=yield f.assertedPersistence.getCurrentUser();let ke=ee,Ot=!1;if(h&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const sn=null===(I=f.redirectUser)||void 0===I?void 0:I._redirectEventId,xn=null==ke?void 0:ke._redirectEventId,qn=yield f.tryRedirectSignIn(h);(!sn||sn===xn)&&(null==qn?void 0:qn.user)&&(ke=qn.user,Ot=!0)}if(!ke)return f.directlySetCurrentUser(null);if(!ke._redirectEventId){if(Ot)try{yield f.beforeStateQueue.runMiddleware(ke)}catch(sn){ke=ee,f._popupRedirectResolver._overrideRedirectResult(f,()=>Promise.reject(sn))}return ke?f.reloadAndSetCurrentUserOrClear(ke):f.directlySetCurrentUser(null)}return de(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===ke._redirectEventId?f.directlySetCurrentUser(ke):f.reloadAndSetCurrentUserOrClear(ke)})()}tryRedirectSignIn(h){var f=this;return(0,a.Z)(function*(){let I=null;try{I=yield f._popupRedirectResolver._completeRedirectFn(f,h,!0)}catch(ee){yield f._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(h){var f=this;return(0,a.Z)(function*(){try{yield ri(h)}catch(I){if("auth/network-request-failed"!==(null==I?void 0:I.code))return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function Lt(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var h=this;return(0,a.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var f=this;return(0,a.Z)(function*(){const I=h?(0,b.m9)(h):null;return I&&de(I.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(I&&I._clone(f))})()}_updateCurrentUser(h,f=!1){var I=this;return(0,a.Z)(function*(){if(!I._deleted)return h&&de(I.tenantId===h.tenantId,I,"tenant-id-mismatch"),f||(yield I.beforeStateQueue.runMiddleware(h)),I.queue((0,a.Z)(function*(){yield I.directlySetCurrentUser(h),I.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,a.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var f=this;return this.queue((0,a.Z)(function*(){yield f.assertedPersistence.setPersistence(bt(h))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new b.LL("auth","Firebase",h())}onAuthStateChanged(h,f,I){return this.registerStateListener(this.authStateSubscription,h,f,I)}beforeAuthStateChanged(h,f){return this.beforeStateQueue.pushCallback(h,f)}onIdTokenChanged(h,f,I){return this.registerStateListener(this.idTokenSubscription,h,f,I)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,f){var I=this;return(0,a.Z)(function*(){const ee=yield I.getOrInitRedirectPersistenceManager(f);return null===h?ee.removeCurrentUser():ee.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var f=this;return(0,a.Z)(function*(){if(!f.redirectPersistenceManager){const I=h&&bt(h)||f._popupRedirectResolver;de(I,f,"argument-error"),f.redirectPersistenceManager=yield It.create(f,[bt(I._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(h){var f=this;return(0,a.Z)(function*(){var I,ee;return f._isInitialized&&(yield f.queue((0,a.Z)(function*(){}))),(null===(I=f._currentUser)||void 0===I?void 0:I._redirectEventId)===h?f._currentUser:(null===(ee=f.redirectUser)||void 0===ee?void 0:ee._redirectEventId)===h?f.redirectUser:null})()}_persistUserIfCurrent(h){var f=this;return(0,a.Z)(function*(){if(h===f.currentUser)return f.queue((0,a.Z)(function*(){return f.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(f=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,f,I,ee){if(this._deleted)return()=>{};const ke="function"==typeof f?f:f.next.bind(f),Ot=this._isInitialized?Promise.resolve():this._initializationPromise;return de(Ot,this,"internal-error"),Ot.then(()=>ke(this.currentUser)),"function"==typeof f?h.addObserver(f,I,ee):h.addObserver(f)}directlySetCurrentUser(h){var f=this;return(0,a.Z)(function*(){f.currentUser&&f.currentUser!==h&&f._currentUser._stopProactiveRefresh(),h&&f.isProactiveRefreshEnabled&&h._startProactiveRefresh(),f.currentUser=h,h?yield f.assertedPersistence.setCurrentUser(h):yield f.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Ji(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,a.Z)(function*(){var f;const I={"X-Client-Version":h.clientVersion};h.app.options.appId&&(I["X-Firebase-gmpid"]=h.app.options.appId);const ee=yield null===(f=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getHeartbeatsHeader();return ee&&(I["X-Firebase-Client"]=ee),I})()}}function ae(y){return(0,b.m9)(y)}class qe{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,b.ne)(f=>this.observer=f)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function tn(y){const h=y.indexOf(":");return h<0?"":y.substr(0,h+1)}function ei(y){if(!y)return null;const h=Number(y);return isNaN(h)?null:h}class Pi{constructor(h,f){this.providerId=h,this.signInMethod=f}toJSON(){return ut("not implemented")}_getIdTokenResponse(h){return ut("not implemented")}_linkToIdToken(h,f){return ut("not implemented")}_getReauthenticationResolver(h){return ut("not implemented")}}function si(y,h){return zn.apply(this,arguments)}function zn(){return(zn=(0,a.Z)(function*(y,h){return tt(y,"POST","/v1/accounts:resetPassword",Le(y,h))})).apply(this,arguments)}function Si(y,h){return er.apply(this,arguments)}function er(){return(er=(0,a.Z)(function*(y,h){return tt(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function jr(y,h){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,a.Z)(function*(y,h){return tt(y,"POST","/v1/accounts:update",Le(y,h))})).apply(this,arguments)}function Gr(){return(Gr=(0,a.Z)(function*(y,h){return fn(y,"POST","/v1/accounts:signInWithPassword",Le(y,h))})).apply(this,arguments)}function Pt(y,h){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,a.Z)(function*(y,h){return tt(y,"POST","/v1/accounts:sendOobCode",Le(y,h))})).apply(this,arguments)}function St(y,h){return an.apply(this,arguments)}function an(){return(an=(0,a.Z)(function*(y,h){return Pt(y,h)})).apply(this,arguments)}function _n(y,h){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,a.Z)(function*(y,h){return Pt(y,h)})).apply(this,arguments)}function Xn(y,h){return $i.apply(this,arguments)}function $i(){return($i=(0,a.Z)(function*(y,h){return Pt(y,h)})).apply(this,arguments)}function Fi(y,h){return pr.apply(this,arguments)}function pr(){return(pr=(0,a.Z)(function*(y,h){return Pt(y,h)})).apply(this,arguments)}function kr(){return(kr=(0,a.Z)(function*(y,h){return fn(y,"POST","/v1/accounts:signInWithEmailLink",Le(y,h))})).apply(this,arguments)}function Io(){return(Io=(0,a.Z)(function*(y,h){return fn(y,"POST","/v1/accounts:signInWithEmailLink",Le(y,h))})).apply(this,arguments)}class mr extends Pi{constructor(h,f,I,ee=null){super("password",I),this._email=h,this._password=f,this._tenantId=ee}static _fromEmailAndPassword(h,f){return new mr(h,f,"password")}static _fromEmailAndCode(h,f,I=null){return new mr(h,f,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const f="string"==typeof h?JSON.parse(h):h;if((null==f?void 0:f.email)&&(null==f?void 0:f.password)){if("password"===f.signInMethod)return this._fromEmailAndPassword(f.email,f.password);if("emailLink"===f.signInMethod)return this._fromEmailAndCode(f.email,f.password,f.tenantId)}return null}_getIdTokenResponse(h){var f=this;return(0,a.Z)(function*(){switch(f.signInMethod){case"password":return function fi(y,h){return Gr.apply(this,arguments)}(h,{returnSecureToken:!0,email:f._email,password:f._password});case"emailLink":return function Lr(y,h){return kr.apply(this,arguments)}(h,{email:f._email,oobCode:f._password});default:ue(h,"internal-error")}})()}_linkToIdToken(h,f){var I=this;return(0,a.Z)(function*(){switch(I.signInMethod){case"password":return Si(h,{idToken:f,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function Es(y,h){return Io.apply(this,arguments)}(h,{idToken:f,email:I._email,oobCode:I._password});default:ue(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function Ms(y,h){return us.apply(this,arguments)}function us(){return(us=(0,a.Z)(function*(y,h){return fn(y,"POST","/v1/accounts:signInWithIdp",Le(y,h))})).apply(this,arguments)}class Vr extends Pi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const f=new Vr(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(f.idToken=h.idToken),h.accessToken&&(f.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(f.nonce=h.nonce),h.pendingToken&&(f.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(f.accessToken=h.oauthToken,f.secret=h.oauthTokenSecret):ue("argument-error"),f}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const f="string"==typeof h?JSON.parse(h):h,{providerId:I,signInMethod:ee}=f,ke=(0,ce._T)(f,["providerId","signInMethod"]);if(!I||!ee)return null;const Ot=new Vr(I,ee);return Ot.idToken=ke.idToken||void 0,Ot.accessToken=ke.accessToken||void 0,Ot.secret=ke.secret,Ot.nonce=ke.nonce,Ot.pendingToken=ke.pendingToken||null,Ot}_getIdTokenResponse(h){return Ms(h,this.buildRequest())}_linkToIdToken(h,f){const I=this.buildRequest();return I.idToken=f,Ms(h,I)}_getReauthenticationResolver(h){const f=this.buildRequest();return f.autoCreate=!1,Ms(h,f)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const f={};this.idToken&&(f.id_token=this.idToken),this.accessToken&&(f.access_token=this.accessToken),this.secret&&(f.oauth_token_secret=this.secret),f.providerId=this.providerId,this.nonce&&!this.pendingToken&&(f.nonce=this.nonce),h.postBody=(0,b.xO)(f)}return h}}function To(y,h){return so.apply(this,arguments)}function so(){return(so=(0,a.Z)(function*(y,h){return tt(y,"POST","/v1/accounts:sendVerificationCode",Le(y,h))})).apply(this,arguments)}function _s(){return(_s=(0,a.Z)(function*(y,h){return fn(y,"POST","/v1/accounts:signInWithPhoneNumber",Le(y,h))})).apply(this,arguments)}function Uo(){return(Uo=(0,a.Z)(function*(y,h){const f=yield fn(y,"POST","/v1/accounts:signInWithPhoneNumber",Le(y,h));if(f.temporaryProof)throw Qt(y,"account-exists-with-different-credential",f);return f})).apply(this,arguments)}const go={USER_NOT_FOUND:"user-not-found"};function ys(){return(ys=(0,a.Z)(function*(y,h){return fn(y,"POST","/v1/accounts:signInWithPhoneNumber",Le(y,Object.assign(Object.assign({},h),{operation:"REAUTH"})),go)})).apply(this,arguments)}class Rs extends Pi{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,f){return new Rs({verificationId:h,verificationCode:f})}static _fromTokenResponse(h,f){return new Rs({phoneNumber:h,temporaryProof:f})}_getIdTokenResponse(h){return function Hs(y,h){return _s.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,f){return function vs(y,h){return Uo.apply(this,arguments)}(h,Object.assign({idToken:f},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function qo(y,h){return ys.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:f,verificationId:I,verificationCode:ee}=this.params;return h&&f?{temporaryProof:h,phoneNumber:f}:{sessionInfo:I,code:ee}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:f,verificationCode:I,phoneNumber:ee,temporaryProof:ke}=h;return I||f||ee||ke?new Rs({verificationId:f,verificationCode:I,phoneNumber:ee,temporaryProof:ke}):null}}class ps{constructor(h){var f,I,ee,ke,Ot,sn;const xn=(0,b.zd)((0,b.pd)(h)),qn=null!==(f=xn.apiKey)&&void 0!==f?f:null,Mi=null!==(I=xn.oobCode)&&void 0!==I?I:null,Ci=function js(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(ee=xn.mode)&&void 0!==ee?ee:null);de(qn&&Mi&&Ci,"argument-error"),this.apiKey=qn,this.operation=Ci,this.code=Mi,this.continueUrl=null!==(ke=xn.continueUrl)&&void 0!==ke?ke:null,this.languageCode=null!==(Ot=xn.languageCode)&&void 0!==Ot?Ot:null,this.tenantId=null!==(sn=xn.tenantId)&&void 0!==sn?sn:null}static parseLink(h){const f=function zr(y){const h=(0,b.zd)((0,b.pd)(y)).link,f=h?(0,b.zd)((0,b.pd)(h)).deep_link_id:null,I=(0,b.zd)((0,b.pd)(y)).deep_link_id;return(I?(0,b.zd)((0,b.pd)(I)).link:null)||I||f||h||y}(h);try{return new ps(f)}catch(I){return null}}}let Qo=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(f,I){return mr._fromEmailAndPassword(f,I)}static credentialWithLink(f,I){const ee=ps.parseLink(I);return de(ee,"argument-error"),mr._fromEmailAndCode(f,ee.code,ee.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Or{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Gs extends Or{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class ts extends Gs{static credentialFromJSON(h){const f="string"==typeof h?JSON.parse(h):h;return de("providerId"in f&&"signInMethod"in f,"argument-error"),Vr._fromParams(f)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return de(h.idToken||h.accessToken,"argument-error"),Vr._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return ts.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return ts.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:f,oauthAccessToken:I,oauthTokenSecret:ee,pendingToken:ke,nonce:Ot,providerId:sn}=h;if(!I&&!ee&&!f&&!ke||!sn)return null;try{return new ts(sn)._credential({idToken:f,accessToken:I,nonce:Ot,pendingToken:ke})}catch(xn){return null}}}let ns=(()=>{class y extends Gs{constructor(){super("facebook.com")}static credential(f){return Vr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return y.credentialFromTaggedObject(f)}static credentialFromError(f){return y.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return y.credential(f.oauthAccessToken)}catch(I){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),zs=(()=>{class y extends Gs{constructor(){super("google.com"),this.addScope("profile")}static credential(f,I){return Vr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:f,accessToken:I})}static credentialFromResult(f){return y.credentialFromTaggedObject(f)}static credentialFromError(f){return y.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:I,oauthAccessToken:ee}=f;if(!I&&!ee)return null;try{return y.credential(I,ee)}catch(ke){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Br=(()=>{class y extends Gs{constructor(){super("github.com")}static credential(f){return Vr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return y.credentialFromTaggedObject(f)}static credentialFromError(f){return y.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return y.credential(f.oauthAccessToken)}catch(I){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class $r extends Pi{constructor(h,f){super(h,h),this.pendingToken=f}_getIdTokenResponse(h){return Ms(h,this.buildRequest())}_linkToIdToken(h,f){const I=this.buildRequest();return I.idToken=f,Ms(h,I)}_getReauthenticationResolver(h){const f=this.buildRequest();return f.autoCreate=!1,Ms(h,f)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const f="string"==typeof h?JSON.parse(h):h,{providerId:I,signInMethod:ee,pendingToken:ke}=f;return I&&ee&&ke&&I===ee?new $r(I,ke):null}static _create(h,f){return new $r(h,f)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class bi extends Or{constructor(h){de(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return bi.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return bi.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const f=$r.fromJSON(h);return de(f,"argument-error"),f}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:f,providerId:I}=h;if(!f||!I)return null;try{return $r._create(I,f)}catch(ee){return null}}}let Rr=(()=>{class y extends Gs{constructor(){super("twitter.com")}static credential(f,I){return Vr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:f,oauthTokenSecret:I})}static credentialFromResult(f){return y.credentialFromTaggedObject(f)}static credentialFromError(f){return y.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthAccessToken:I,oauthTokenSecret:ee}=f;if(!I||!ee)return null;try{return y.credential(I,ee)}catch(ke){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Ki(y,h){return bs.apply(this,arguments)}function bs(){return(bs=(0,a.Z)(function*(y,h){return fn(y,"POST","/v1/accounts:signUp",Le(y,h))})).apply(this,arguments)}class wr{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,f,I,ee=!1){return(0,a.Z)(function*(){const ke=yield Se._fromIdTokenResponse(h,I,ee),Ot=Dr(I);return new wr({user:ke,providerId:Ot,_tokenResponse:I,operationType:f})})()}static _forOperation(h,f,I){return(0,a.Z)(function*(){yield h._updateTokensIfNecessary(I,!0);const ee=Dr(I);return new wr({user:h,providerId:ee,_tokenResponse:I,operationType:f})})()}}function Dr(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Fs(){return(Fs=(0,a.Z)(function*(y){var h;const f=ae(y);if(yield f._initializationPromise,null===(h=f.currentUser)||void 0===h?void 0:h.isAnonymous)return new wr({user:f.currentUser,providerId:null,operationType:"signIn"});const I=yield Ki(f,{returnSecureToken:!0}),ee=yield wr._fromIdTokenResponse(f,"signIn",I,!0);return yield f._updateCurrentUser(ee.user),ee})).apply(this,arguments)}class Ss extends b.ZR{constructor(h,f,I,ee){var ke;super(f.code,f.message),this.operationType=I,this.user=ee,Object.setPrototypeOf(this,Ss.prototype),this.customData={appName:h.name,tenantId:null!==(ke=h.tenantId)&&void 0!==ke?ke:void 0,_serverResponse:f.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(h,f,I,ee){return new Ss(h,f,I,ee)}}function qs(y,h,f,I){return("reauthenticate"===h?f._getReauthenticationResolver(y):f._getIdTokenResponse(y)).catch(ke=>{throw"auth/multi-factor-auth-required"===ke.code?Ss._fromErrorAndOperation(y,ke,h,I):ke})}function Pr(y){return new Set(y.map(({providerId:h})=>h).filter(h=>!!h))}function xi(){return(xi=(0,a.Z)(function*(y,h){const f=(0,b.m9)(y);yield $(!0,f,h);const{providerUserInfo:I}=yield vt(f.auth,{idToken:yield f.getIdToken(),deleteProvider:[h]}),ee=Pr(I||[]);return f.providerData=f.providerData.filter(ke=>ee.has(ke.providerId)),ee.has("phone")||(f.phoneNumber=null),yield f.auth._persistUserIfCurrent(f),f})).apply(this,arguments)}function K(y,h){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,a.Z)(function*(y,h,f=!1){const I=yield Tn(y,h._linkToIdToken(y.auth,yield y.getIdToken()),f);return wr._forOperation(y,"link",I)})).apply(this,arguments)}function $(y,h,f){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,a.Z)(function*(y,h,f){yield ri(h);const ee=!1===y?"provider-already-linked":"no-such-provider";de(Pr(h.providerData).has(f)===y,h.auth,ee)})).apply(this,arguments)}function yt(y,h){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,a.Z)(function*(y,h,f=!1){const{auth:I}=y,ee="reauthenticate";try{const ke=yield Tn(y,qs(I,ee,h,y),f);de(ke.idToken,I,"internal-error");const Ot=qt(ke.idToken);de(Ot,I,"internal-error");const{sub:sn}=Ot;return de(y.uid===sn,I,"user-mismatch"),wr._forOperation(y,ee,ke)}catch(ke){throw"auth/user-not-found"===(null==ke?void 0:ke.code)&&ue(I,"user-mismatch"),ke}})).apply(this,arguments)}function un(y,h){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,a.Z)(function*(y,h,f=!1){const I="signIn",ee=yield qs(y,I,h),ke=yield wr._fromIdTokenResponse(y,I,ee);return f||(yield y._updateCurrentUser(ke.user)),ke})).apply(this,arguments)}function ci(y,h){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,a.Z)(function*(y,h){return un(ae(y),h)})).apply(this,arguments)}function Jn(y,h){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,a.Z)(function*(y,h){const f=(0,b.m9)(y);return yield $(!1,f,h.providerId),K(f,h)})).apply(this,arguments)}function or(y,h){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,a.Z)(function*(y,h){return yt((0,b.m9)(y),h)})).apply(this,arguments)}function qi(y,h){return Z.apply(this,arguments)}function Z(){return(Z=(0,a.Z)(function*(y,h){return fn(y,"POST","/v1/accounts:signInWithCustomToken",Le(y,h))})).apply(this,arguments)}function F(){return(F=(0,a.Z)(function*(y,h){const f=ae(y),I=yield qi(f,{token:h,returnSecureToken:!0}),ee=yield wr._fromIdTokenResponse(f,"signIn",I);return yield f._updateCurrentUser(ee.user),ee})).apply(this,arguments)}class De{constructor(h,f){this.factorId=h,this.uid=f.mfaEnrollmentId,this.enrollmentTime=new Date(f.enrolledAt).toUTCString(),this.displayName=f.displayName}static _fromServerResponse(h,f){return"phoneInfo"in f?en._fromServerResponse(h,f):ue(h,"internal-error")}}class en extends De{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,f){return new en(f)}}function Ln(y,h,f){var I;de((null===(I=f.url)||void 0===I?void 0:I.length)>0,y,"invalid-continue-uri"),de(void 0===f.dynamicLinkDomain||f.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),h.continueUrl=f.url,h.dynamicLinkDomain=f.dynamicLinkDomain,h.canHandleCodeInApp=f.handleCodeInApp,f.iOS&&(de(f.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),h.iOSBundleId=f.iOS.bundleId),f.android&&(de(f.android.packageName.length>0,y,"missing-android-pkg-name"),h.androidInstallApp=f.android.installApp,h.androidMinimumVersionCode=f.android.minimumVersion,h.androidPackageName=f.android.packageName)}function Fr(){return(Fr=(0,a.Z)(function*(y,h,f){const I=(0,b.m9)(y),ee={requestType:"PASSWORD_RESET",email:h};f&&Ln(I,ee,f),yield _n(I,ee)})).apply(this,arguments)}function _o(){return(_o=(0,a.Z)(function*(y,h,f){yield si((0,b.m9)(y),{oobCode:h,newPassword:f})})).apply(this,arguments)}function pn(){return(pn=(0,a.Z)(function*(y,h){yield jr((0,b.m9)(y),{oobCode:h})})).apply(this,arguments)}function Ui(y,h){return ao.apply(this,arguments)}function ao(){return(ao=(0,a.Z)(function*(y,h){const f=(0,b.m9)(y),I=yield si(f,{oobCode:h}),ee=I.requestType;switch(de(ee,f,"internal-error"),ee){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":de(I.newEmail,f,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":de(I.mfaInfo,f,"internal-error");default:de(I.email,f,"internal-error")}let ke=null;return I.mfaInfo&&(ke=De._fromServerResponse(ae(f),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:ke},operation:ee}})).apply(this,arguments)}function oa(){return(oa=(0,a.Z)(function*(y,h){const{data:f}=yield Ui((0,b.m9)(y),h);return f.email})).apply(this,arguments)}function Ns(){return(Ns=(0,a.Z)(function*(y,h,f){const I=ae(y),ee=yield Ki(I,{returnSecureToken:!0,email:h,password:f}),ke=yield wr._fromIdTokenResponse(I,"signIn",ee);return yield I._updateCurrentUser(ke.user),ke})).apply(this,arguments)}function $s(){return($s=(0,a.Z)(function*(y,h,f){const I=(0,b.m9)(y),ee={requestType:"EMAIL_SIGNIN",email:h};de(f.handleCodeInApp,I,"argument-error"),f&&Ln(I,ee,f),yield Xn(I,ee)})).apply(this,arguments)}function lo(){return(lo=(0,a.Z)(function*(y,h,f){const I=(0,b.m9)(y),ee=Qo.credentialWithLink(h,f||Ft());return de(ee._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),ci(I,ee)})).apply(this,arguments)}function Yr(y,h){return xs.apply(this,arguments)}function xs(){return(xs=(0,a.Z)(function*(y,h){return tt(y,"POST","/v1/accounts:createAuthUri",Le(y,h))})).apply(this,arguments)}function C(){return(C=(0,a.Z)(function*(y,h){const I={identifier:h,continueUri:xt()?Ft():"http://localhost"},{signinMethods:ee}=yield Yr((0,b.m9)(y),I);return ee||[]})).apply(this,arguments)}function H(){return(H=(0,a.Z)(function*(y,h){const f=(0,b.m9)(y),ee={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};h&&Ln(f.auth,ee,h);const{email:ke}=yield St(f.auth,ee);ke!==y.email&&(yield y.reload())})).apply(this,arguments)}function Ue(){return(Ue=(0,a.Z)(function*(y,h,f){const I=(0,b.m9)(y),ke={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:h};f&&Ln(I.auth,ke,f);const{email:Ot}=yield Fi(I.auth,ke);Ot!==y.email&&(yield y.reload())})).apply(this,arguments)}function ft(y,h){return gt.apply(this,arguments)}function gt(){return(gt=(0,a.Z)(function*(y,h){return tt(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function ln(){return(ln=(0,a.Z)(function*(y,{displayName:h,photoURL:f}){if(void 0===h&&void 0===f)return;const I=(0,b.m9)(y),ke={idToken:yield I.getIdToken(),displayName:h,photoUrl:f,returnSecureToken:!0},Ot=yield Tn(I,ft(I.auth,ke));I.displayName=Ot.displayName||null,I.photoURL=Ot.photoUrl||null;const sn=I.providerData.find(({providerId:xn})=>"password"===xn);sn&&(sn.displayName=I.displayName,sn.photoURL=I.photoURL),yield I._updateTokensIfNecessary(Ot)})).apply(this,arguments)}function _i(y,h,f){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,a.Z)(function*(y,h,f){const{auth:I}=y,ke={idToken:yield y.getIdToken(),returnSecureToken:!0};h&&(ke.email=h),f&&(ke.password=f);const Ot=yield Tn(y,Si(I,ke));yield y._updateTokensIfNecessary(Ot,!0)})).apply(this,arguments)}class li{constructor(h,f,I={}){this.isNewUser=h,this.providerId=f,this.profile=I}}class Qi extends li{constructor(h,f,I,ee){super(h,f,I),this.username=ee}}class rr extends li{constructor(h,f){super(h,"facebook.com",f)}}class ur extends Qi{constructor(h,f){super(h,"github.com",f,"string"==typeof(null==f?void 0:f.login)?null==f?void 0:f.login:null)}}class ms extends li{constructor(h,f){super(h,"google.com",f)}}class Mr extends Qi{constructor(h,f,I){super(h,"twitter.com",f,I)}}function tr(y){const{user:h,_tokenResponse:f}=y;return h.isAnonymous&&!f?{providerId:null,isNewUser:!1,profile:null}:function ai(y){var h,f;if(!y)return null;const{providerId:I}=y,ee=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},ke=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!I&&(null==y?void 0:y.idToken)){const Ot=null===(f=null===(h=qt(y.idToken))||void 0===h?void 0:h.firebase)||void 0===f?void 0:f.sign_in_provider;if(Ot)return new li(ke,"anonymous"!==Ot&&"custom"!==Ot?Ot:null)}if(!I)return null;switch(I){case"facebook.com":return new rr(ke,ee);case"github.com":return new ur(ke,ee);case"google.com":return new ms(ke,ee);case"twitter.com":return new Mr(ke,ee,y.screenName||null);case"custom":case"anonymous":return new li(ke,null);default:return new li(ke,I,ee)}}(f)}class vr{constructor(h,f,I){this.type=h,this.credential=f,this.auth=I}static _fromIdtoken(h,f){return new vr("enroll",h,f)}static _fromMfaPendingCredential(h){return new vr("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var f,I;if(null==h?void 0:h.multiFactorSession){if(null===(f=h.multiFactorSession)||void 0===f?void 0:f.pendingCredential)return vr._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null===(I=h.multiFactorSession)||void 0===I?void 0:I.idToken)return vr._fromIdtoken(h.multiFactorSession.idToken)}return null}}class jn{constructor(h,f,I){this.session=h,this.hints=f,this.signInResolver=I}static _fromError(h,f){const I=ae(h),ee=f.customData._serverResponse,ke=(ee.mfaInfo||[]).map(sn=>De._fromServerResponse(I,sn));de(ee.mfaPendingCredential,I,"internal-error");const Ot=vr._fromMfaPendingCredential(ee.mfaPendingCredential);return new jn(Ot,ke,function(){var sn=(0,a.Z)(function*(xn){const qn=yield xn._process(I,Ot);delete ee.mfaInfo,delete ee.mfaPendingCredential;const Mi=Object.assign(Object.assign({},ee),{idToken:qn.idToken,refreshToken:qn.refreshToken});switch(f.operationType){case"signIn":const Ci=yield wr._fromIdTokenResponse(I,f.operationType,Mi);return yield I._updateCurrentUser(Ci.user),Ci;case"reauthenticate":return de(f.user,I,"internal-error"),wr._forOperation(f.user,f.operationType,Mi);default:ue(I,"internal-error")}});return function(xn){return sn.apply(this,arguments)}}())}resolveSignIn(h){var f=this;return(0,a.Z)(function*(){return f.signInResolver(h)})()}}function ui(y,h){return tt(y,"POST","/v2/accounts/mfaEnrollment:start",Le(y,h))}class br{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(f=>{f.mfaInfo&&(this.enrolledFactors=f.mfaInfo.map(I=>De._fromServerResponse(h.auth,I)))})}static _fromUser(h){return new br(h)}getSession(){var h=this;return(0,a.Z)(function*(){return vr._fromIdtoken(yield h.user.getIdToken(),h.user.auth)})()}enroll(h,f){var I=this;return(0,a.Z)(function*(){const ee=h,ke=yield I.getSession(),Ot=yield Tn(I.user,ee._process(I.user.auth,ke,f));return yield I.user._updateTokensIfNecessary(Ot),I.user.reload()})()}unenroll(h){var f=this;return(0,a.Z)(function*(){const I="string"==typeof h?h:h.uid,ee=yield f.user.getIdToken();try{const ke=yield Tn(f.user,function Zi(y,h){return tt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Le(y,h))}(f.user.auth,{idToken:ee,mfaEnrollmentId:I}));f.enrolledFactors=f.enrolledFactors.filter(({uid:Ot})=>Ot!==I),yield f.user._updateTokensIfNecessary(ke),yield f.user.reload()}catch(ke){throw ke}})()}}const Kr=new WeakMap,cn="__sak";class dr{constructor(h,f){this.storageRetriever=h,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem(cn,"1"),this.storage.removeItem(cn),Promise.resolve(!0)):Promise.resolve(!1)}catch(h){return Promise.resolve(!1)}}_set(h,f){return this.storage.setItem(h,JSON.stringify(f)),Promise.resolve()}_get(h){const f=this.storage.getItem(h);return Promise.resolve(f?JSON.parse(f):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const is=(()=>{class y extends dr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(f,I)=>this.onStorageEvent(f,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ao(){const y=(0,b.z$)();return ze(y)||gi(y)}()&&function Yi(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=nr(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const I of Object.keys(this.listeners)){const ee=this.storage.getItem(I),ke=this.localCache[I];ee!==ke&&f(I,ke,ee)}}onStorageEvent(f,I=!1){if(!f.key)return void this.forAllChangedKeys((sn,xn,qn)=>{this.notifyListeners(sn,qn)});const ee=f.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const sn=this.storage.getItem(ee);if(f.newValue!==sn)null!==f.newValue?this.storage.setItem(ee,f.newValue):this.storage.removeItem(ee);else if(this.localCache[ee]===f.newValue&&!I)return}const ke=()=>{const sn=this.storage.getItem(ee);!I&&this.localCache[ee]===sn||this.notifyListeners(ee,sn)},Ot=this.storage.getItem(ee);!function Bi(){return(0,b.w1)()&&10===document.documentMode}()||Ot===f.newValue||f.newValue===f.oldValue?ke():setTimeout(ke,10)}notifyListeners(f,I){this.localCache[f]=I;const ee=this.listeners[f];if(ee)for(const ke of Array.from(ee))ke(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,I,ee)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:I,newValue:ee}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(I)}_removeListener(f,I){this.listeners[f]&&(this.listeners[f].delete(I),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,I){var ee=()=>super._set,ke=this;return(0,a.Z)(function*(){yield ee().call(ke,f,I),ke.localCache[f]=JSON.stringify(I)})()}_get(f){var I=()=>super._get,ee=this;return(0,a.Z)(function*(){const ke=yield I().call(ee,f);return ee.localCache[f]=JSON.stringify(ke),ke})()}_remove(f){var I=()=>super._remove,ee=this;return(0,a.Z)(function*(){yield I().call(ee,f),delete ee.localCache[f]})()}}return y.type="LOCAL",y})(),Zt=(()=>{class y extends dr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(f,I){}_removeListener(f,I){}}return y.type="SESSION",y})();let qr=(()=>{class y{constructor(f){this.eventTarget=f,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(f){const I=this.receivers.find(ke=>ke.isListeningto(f));if(I)return I;const ee=new y(f);return this.receivers.push(ee),ee}isListeningto(f){return this.eventTarget===f}handleEvent(f){var I=this;return(0,a.Z)(function*(){const ee=f,{eventId:ke,eventType:Ot,data:sn}=ee.data,xn=I.handlersMap[Ot];if(!(null==xn?void 0:xn.size))return;ee.ports[0].postMessage({status:"ack",eventId:ke,eventType:Ot});const qn=Array.from(xn).map(function(){var Ci=(0,a.Z)(function*(_r){return _r(ee.origin,sn)});return function(_r){return Ci.apply(this,arguments)}}()),Mi=yield function yn(y){return Promise.all(y.map(function(){var h=(0,a.Z)(function*(f){try{return{fulfilled:!0,value:yield f}}catch(I){return{fulfilled:!1,reason:I}}});return function(f){return h.apply(this,arguments)}}()))}(qn);ee.ports[0].postMessage({status:"done",eventId:ke,eventType:Ot,response:Mi})})()}_subscribe(f,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[f]||(this.handlersMap[f]=new Set),this.handlersMap[f].add(I)}_unsubscribe(f,I){this.handlersMap[f]&&I&&this.handlersMap[f].delete(I),(!I||0===this.handlersMap[f].size)&&delete this.handlersMap[f],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function ca(y="",h=10){let f="";for(let I=0;I<h;I++)f+=Math.floor(10*Math.random());return y+f}class jo{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,f,I=50){var ee=this;return(0,a.Z)(function*(){const ke="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!ke)throw new Error("connection_unavailable");let Ot,sn;return new Promise((xn,qn)=>{const Mi=ca("",20);ke.port1.start();const Ci=setTimeout(()=>{qn(new Error("unsupported_event"))},I);sn={messageChannel:ke,onMessage(_r){const wa=_r;if(wa.data.eventId===Mi)switch(wa.data.status){case"ack":clearTimeout(Ci),Ot=setTimeout(()=>{qn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ot),xn(wa.data.response);break;default:clearTimeout(Ci),clearTimeout(Ot),qn(new Error("invalid_response"))}}},ee.handlers.add(sn),ke.port1.addEventListener("message",sn.onMessage),ee.target.postMessage({eventType:h,eventId:Mi,data:f},[ke.port2])}).finally(()=>{sn&&ee.removeMessageHandler(sn)})})()}}function rs(){return window}function ua(){return void 0!==rs().WorkerGlobalScope&&"function"==typeof rs().importScripts}function Ha(){return(Ha=(0,a.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const Go="firebaseLocalStorageDb",vi="firebaseLocalStorage",P="fbase_key";class T{constructor(h){this.request=h}toPromise(){return new Promise((h,f)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{f(this.request.error)})})}}function E(y,h){return y.transaction([vi],h?"readwrite":"readonly").objectStore(vi)}function Q(){const y=indexedDB.open(Go,1);return new Promise((h,f)=>{y.addEventListener("error",()=>{f(y.error)}),y.addEventListener("upgradeneeded",()=>{const I=y.result;try{I.createObjectStore(vi,{keyPath:P})}catch(ee){f(ee)}}),y.addEventListener("success",(0,a.Z)(function*(){const I=y.result;I.objectStoreNames.contains(vi)?h(I):(I.close(),yield function L(){const y=indexedDB.deleteDatabase(Go);return new T(y).toPromise()}(),h(yield Q()))}))})}function ge(y,h,f){return nt.apply(this,arguments)}function nt(){return(nt=(0,a.Z)(function*(y,h,f){const I=E(y,!0).put({[P]:h,value:f});return new T(I).toPromise()})).apply(this,arguments)}function Ct(){return(Ct=(0,a.Z)(function*(y,h){const f=E(y,!1).get(h),I=yield new T(f).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function Gn(y,h){const f=E(y,!0).delete(h);return new T(f).toPromise()}const ji=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var f=this;return(0,a.Z)(function*(){return f.db||(f.db=yield Q()),f.db})()}_withRetries(f){var I=this;return(0,a.Z)(function*(){let ee=0;for(;;)try{const ke=yield I._openDb();return yield f(ke)}catch(ke){if(ee++>3)throw ke;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var f=this;return(0,a.Z)(function*(){return ua()?f.initializeReceiver():f.initializeSender()})()}initializeReceiver(){var f=this;return(0,a.Z)(function*(){f.receiver=qr._getInstance(function Gl(){return ua()?self:null}()),f.receiver._subscribe("keyChanged",function(){var I=(0,a.Z)(function*(ee,ke){return{keyProcessed:(yield f._poll()).includes(ke.key)}});return function(ee,ke){return I.apply(this,arguments)}}()),f.receiver._subscribe("ping",function(){var I=(0,a.Z)(function*(ee,ke){return["keyChanged"]});return function(ee,ke){return I.apply(this,arguments)}}())})()}initializeSender(){var f=this;return(0,a.Z)(function*(){var I,ee;if(f.activeServiceWorker=yield function da(){return Ha.apply(this,arguments)}(),!f.activeServiceWorker)return;f.sender=new jo(f.activeServiceWorker);const ke=yield f.sender._send("ping",{},800);!ke||(null===(I=ke[0])||void 0===I?void 0:I.fulfilled)&&(null===(ee=ke[0])||void 0===ee?void 0:ee.value.includes("keyChanged"))&&(f.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(f){var I=this;return(0,a.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function wl(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:f},I.serviceWorkerReceiverAvailable?800:50)}catch(ee){}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const f=yield Q();return yield ge(f,cn,"1"),yield Gn(f,cn),!0}catch(f){}return!1})()}_withPendingWrite(f){var I=this;return(0,a.Z)(function*(){I.pendingWrites++;try{yield f()}finally{I.pendingWrites--}})()}_set(f,I){var ee=this;return(0,a.Z)(function*(){return ee._withPendingWrite((0,a.Z)(function*(){return yield ee._withRetries(ke=>ge(ke,f,I)),ee.localCache[f]=I,ee.notifyServiceWorker(f)}))})()}_get(f){var I=this;return(0,a.Z)(function*(){const ee=yield I._withRetries(ke=>function ht(y,h){return Ct.apply(this,arguments)}(ke,f));return I.localCache[f]=ee,ee})()}_remove(f){var I=this;return(0,a.Z)(function*(){return I._withPendingWrite((0,a.Z)(function*(){return yield I._withRetries(ee=>Gn(ee,f)),delete I.localCache[f],I.notifyServiceWorker(f)}))})()}_poll(){var f=this;return(0,a.Z)(function*(){const I=yield f._withRetries(Ot=>{const sn=E(Ot,!1).getAll();return new T(sn).toPromise()});if(!I)return[];if(0!==f.pendingWrites)return[];const ee=[],ke=new Set;for(const{fbase_key:Ot,value:sn}of I)ke.add(Ot),JSON.stringify(f.localCache[Ot])!==JSON.stringify(sn)&&(f.notifyListeners(Ot,sn),ee.push(Ot));for(const Ot of Object.keys(f.localCache))f.localCache[Ot]&&!ke.has(Ot)&&(f.notifyListeners(Ot,null),ee.push(Ot));return ee})()}notifyListeners(f,I){this.localCache[f]=I;const ee=this.listeners[f];if(ee)for(const ke of Array.from(ee))ke(I)}startPolling(){var f=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return f._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(f,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[f]||(this.listeners[f]=new Set,this._get(f)),this.listeners[f].add(I)}_removeListener(f,I){this.listeners[f]&&(this.listeners[f].delete(I),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Xs(y,h){return tt(y,"POST","/v2/accounts/mfaSignIn:start",Le(y,h))}function ha(){return(ha=(0,a.Z)(function*(y){return(yield tt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Oo(y){return new Promise((h,f)=>{const I=document.createElement("script");I.setAttribute("src",y),I.onload=h,I.onerror=ee=>{const ke=me("internal-error");ke.customData=ee,f(ke)},I.type="text/javascript",I.charset="UTF-8",function Ir(){var y,h;return null!==(h=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==h?h:document}().appendChild(I)})}function ta(y){return`__${y}${Math.floor(1e6*Math.random())}`}const zo=1e12;class Jt{constructor(h){this.auth=h,this.counter=zo,this._widgets=new Map}render(h,f){const I=this.counter;return this._widgets.set(I,new pa(h,this.auth.name,f||{})),this.counter++,I}reset(h){var f;const I=h||zo;null===(f=this._widgets.get(I))||void 0===f||f.delete(),this._widgets.delete(I)}getResponse(h){var f;return(null===(f=this._widgets.get(h||zo))||void 0===f?void 0:f.getResponse())||""}execute(h){var f=this;return(0,a.Z)(function*(){var I;return null===(I=f._widgets.get(h||zo))||void 0===I||I.execute(),""})()}}class pa{constructor(h,f,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const ee="string"==typeof h?document.getElementById(h):h;de(ee,"argument-error",{appName:f}),this.container=ee,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function na(y){const h=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<y;I++)h.push(f.charAt(Math.floor(Math.random()*f.length)));return h.join("")}(50);const{callback:h,"expired-callback":f}=this.params;if(h)try{h(this.responseToken)}catch(I){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,f)try{f()}catch(I){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Sc=ta("rcb"),Tr=new dn(3e4,6e4);class xc{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(h=rs().grecaptcha)||void 0===h?void 0:h.render)}load(h,f=""){return de(function ul(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(f),h,"argument-error"),this.shouldResolveImmediately(f)?Promise.resolve(rs().grecaptcha):new Promise((I,ee)=>{const ke=rs().setTimeout(()=>{ee(me(h,"network-request-failed"))},Tr.get());rs()[Sc]=()=>{rs().clearTimeout(ke),delete rs()[Sc];const sn=rs().grecaptcha;if(!sn)return void ee(me(h,"internal-error"));const xn=sn.render;sn.render=(qn,Mi)=>{const Ci=xn(qn,Mi);return this.counter++,Ci},this.hostLanguage=f,I(sn)},Oo(`https://www.google.com/recaptcha/api.js??${(0,b.xO)({onload:Sc,render:"explicit",hl:f})}`).catch(()=>{clearTimeout(ke),ee(me(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var f;return!!(null===(f=rs().grecaptcha)||void 0===f?void 0:f.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class sd{load(h){return(0,a.Z)(function*(){return new Jt(h)})()}clearedOneInstance(){}}const Ac="recaptcha",Ih={theme:"light",type:"image"};class Th{constructor(h,f=Object.assign({},Ih),I){this.parameters=f,this.type=Ac,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ae(I),this.isInvisible="invisible"===this.parameters.size,de("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const ee="string"==typeof h?document.getElementById(h):h;de(ee,this.auth,"argument-error"),this.container=ee,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new sd:new xc,this.validateStartingState()}verify(){var h=this;return(0,a.Z)(function*(){h.assertNotDestroyed();const f=yield h.render(),I=h.getAssertedRecaptcha();return I.getResponse(f)||new Promise(ke=>{const Ot=sn=>{!sn||(h.tokenChangeListeners.delete(Ot),ke(sn))};h.tokenChangeListeners.add(Ot),h.isInvisible&&I.execute(f)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){de(!this.parameters.sitekey,this.auth,"argument-error"),de(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),de("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return f=>{if(this.tokenChangeListeners.forEach(I=>I(f)),"function"==typeof h)h(f);else if("string"==typeof h){const I=rs()[h];"function"==typeof I&&I(f)}}}assertNotDestroyed(){de(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,a.Z)(function*(){if(yield h.init(),!h.widgetId){let f=h.container;if(!h.isInvisible){const I=document.createElement("div");f.appendChild(I),f=I}h.widgetId=h.getAssertedRecaptcha().render(f,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,a.Z)(function*(){de(xt()&&!ua(),h.auth,"internal-error"),yield function Ls(){let y=null;return new Promise(h=>{"complete"!==document.readyState?(y=()=>h(),window.addEventListener("load",y)):h()}).catch(h=>{throw y&&window.removeEventListener("load",y),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const f=yield function Cs(y){return ha.apply(this,arguments)}(h.auth);de(f,h.auth,"internal-error"),h.parameters.sitekey=f})()}getAssertedRecaptcha(){return de(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class zl{constructor(h,f){this.verificationId=h,this.onConfirmation=f}confirm(h){const f=Rs._fromVerification(this.verificationId,h);return this.onConfirmation(f)}}function Aa(){return(Aa=(0,a.Z)(function*(y,h,f){const I=ae(y),ee=yield Js(I,h,(0,b.m9)(f));return new zl(ee,ke=>ci(I,ke))})).apply(this,arguments)}function El(){return(El=(0,a.Z)(function*(y,h,f){const I=(0,b.m9)(y);yield $(!1,I,"phone");const ee=yield Js(I.auth,h,(0,b.m9)(f));return new zl(ee,ke=>Jn(I,ke))})).apply(this,arguments)}function ws(){return(ws=(0,a.Z)(function*(y,h,f){const I=(0,b.m9)(y),ee=yield Js(I.auth,h,(0,b.m9)(f));return new zl(ee,ke=>or(I,ke))})).apply(this,arguments)}function Js(y,h,f){return dl.apply(this,arguments)}function dl(){return(dl=(0,a.Z)(function*(y,h,f){var I;const ee=yield f.verify();try{let ke;if(de("string"==typeof ee,y,"argument-error"),de(f.type===Ac,y,"argument-error"),ke="string"==typeof h?{phoneNumber:h}:h,"session"in ke){const Ot=ke.session;if("phoneNumber"in ke)return de("enroll"===Ot.type,y,"internal-error"),(yield ui(y,{idToken:Ot.credential,phoneEnrollmentInfo:{phoneNumber:ke.phoneNumber,recaptchaToken:ee}})).phoneSessionInfo.sessionInfo;{de("signin"===Ot.type,y,"internal-error");const sn=(null===(I=ke.multiFactorHint)||void 0===I?void 0:I.uid)||ke.multiFactorUid;return de(sn,y,"missing-multi-factor-info"),(yield Xs(y,{mfaPendingCredential:Ot.credential,mfaEnrollmentId:sn,phoneSignInInfo:{recaptchaToken:ee}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ot}=yield To(y,{phoneNumber:ke.phoneNumber,recaptchaToken:ee});return Ot}}finally{f._reset()}})).apply(this,arguments)}function ka(){return(ka=(0,a.Z)(function*(y,h){yield K((0,b.m9)(y),h)})).apply(this,arguments)}let eo=(()=>{class y{constructor(f){this.providerId=y.PROVIDER_ID,this.auth=ae(f)}verifyPhoneNumber(f,I){return Js(this.auth,f,(0,b.m9)(I))}static credential(f,I){return Rs._fromVerification(f,I)}static credentialFromResult(f){return y.credentialFromTaggedObject(f)}static credentialFromError(f){return y.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{phoneNumber:I,temporaryProof:ee}=f;return I&&ee?Rs._fromTokenResponse(I,ee):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function gr(y,h){return h?bt(h):(de(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class $o extends Pi{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Ms(h,this._buildIdpRequest())}_linkToIdToken(h,f){return Ms(h,this._buildIdpRequest(f))}_getReauthenticationResolver(h){return Ms(h,this._buildIdpRequest())}_buildIdpRequest(h){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(f.idToken=h),f}}function Ml(y){return un(y.auth,new $o(y),y.bypassAuthState)}function fu(y){const{auth:h,user:f}=y;return de(f,h,"internal-error"),yt(f,new $o(y),y.bypassAuthState)}function ma(y){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,a.Z)(function*(y){const{auth:h,user:f}=y;return de(f,h,"internal-error"),K(f,new $o(y),y.bypassAuthState)})).apply(this,arguments)}class ga{constructor(h,f,I,ee,ke=!1){this.auth=h,this.resolver=I,this.user=ee,this.bypassAuthState=ke,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var h=this;return new Promise(function(){var f=(0,a.Z)(function*(I,ee){h.pendingPromise={resolve:I,reject:ee};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(ke){h.reject(ke)}});return function(I,ee){return f.apply(this,arguments)}}())}onAuthEvent(h){var f=this;return(0,a.Z)(function*(){const{urlResponse:I,sessionId:ee,postBody:ke,tenantId:Ot,error:sn,type:xn}=h;if(sn)return void f.reject(sn);const qn={auth:f.auth,requestUri:I,sessionId:ee,tenantId:Ot||void 0,postBody:ke||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(xn)(qn))}catch(Mi){f.reject(Mi)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Ml;case"linkViaPopup":case"linkViaRedirect":return ma;case"reauthViaPopup":case"reauthViaRedirect":return fu;default:ue(this.auth,"internal-error")}}resolve(h){Qe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){Qe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const to=new dn(2e3,1e4);function Yo(){return(Yo=(0,a.Z)(function*(y,h,f){const I=ae(y);Be(y,h,Or);const ee=gr(I,f);return new _a(I,"signInViaPopup",h,ee).executeNotNull()})).apply(this,arguments)}function Il(){return(Il=(0,a.Z)(function*(y,h,f){const I=(0,b.m9)(y);Be(I.auth,h,Or);const ee=gr(I.auth,f);return new _a(I.auth,"reauthViaPopup",h,ee,I).executeNotNull()})).apply(this,arguments)}function Tl(){return(Tl=(0,a.Z)(function*(y,h,f){const I=(0,b.m9)(y);Be(I.auth,h,Or);const ee=gr(I.auth,f);return new _a(I.auth,"linkViaPopup",h,ee,I).executeNotNull()})).apply(this,arguments)}let _a=(()=>{class y extends ga{constructor(f,I,ee,ke,Ot){super(f,I,ke,Ot),this.provider=ee,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var f=this;return(0,a.Z)(function*(){const I=yield f.execute();return de(I,f.auth,"internal-error"),I})()}onExecution(){var f=this;return(0,a.Z)(function*(){Qe(1===f.filter.length,"Popup operations only handle one event");const I=ca();f.authWindow=yield f.resolver._openPopup(f.auth,f.provider,f.filter[0],I),f.authWindow.associatedEvent=I,f.resolver._originValidation(f.auth).catch(ee=>{f.reject(ee)}),f.resolver._isIframeWebStorageSupported(f.auth,ee=>{ee||f.reject(me(f.auth,"web-storage-unsupported"))}),f.pollUserCancellation()})()}get eventId(){var f;return(null===(f=this.authWindow)||void 0===f?void 0:f.associatedEvent)||null}cancel(){this.reject(me(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const f=()=>{var I,ee;this.pollId=(null===(ee=null===(I=this.authWindow)||void 0===I?void 0:I.window)||void 0===ee?void 0:ee.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(me(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(f,to.get())};f()}}return y.currentPopupAction=null,y})();const Vs=new Map;class J extends ga{constructor(h,f,I=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,I),this.eventId=null}execute(){var h=()=>super.execute,f=this;return(0,a.Z)(function*(){let I=Vs.get(f.auth._key());if(!I){try{const ke=(yield function ie(y,h){return g.apply(this,arguments)}(f.resolver,f.auth))?yield h().call(f):null;I=()=>Promise.resolve(ke)}catch(ee){I=()=>Promise.reject(ee)}Vs.set(f.auth._key(),I)}return f.bypassAuthState||Vs.set(f.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(h){var f=()=>super.onAuthEvent,I=this;return(0,a.Z)(function*(){if("signInViaRedirect"===h.type)return f().call(I,h);if("unknown"!==h.type){if(h.eventId){const ee=yield I.auth._redirectUserForId(h.eventId);if(ee)return I.user=ee,f().call(I,h);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function g(){return(g=(0,a.Z)(function*(y,h){const f=sr(h),I=yi(y);if(!(yield I._isAvailable()))return!1;const ee="true"===(yield I._get(f));return yield I._remove(f),ee})).apply(this,arguments)}function Y(y,h){return ve.apply(this,arguments)}function ve(){return(ve=(0,a.Z)(function*(y,h){return yi(y)._set(sr(h),"true")})).apply(this,arguments)}function In(y,h){Vs.set(y._key(),h)}function yi(y){return bt(y._redirectPersistence)}function sr(y){return je("pendingRedirect",y.config.apiKey,y.name)}function Ys(){return(Ys=(0,a.Z)(function*(y,h,f){const I=ae(y);Be(y,h,Or),yield I._initializationPromise;const ee=gr(I,f);return yield Y(ee,I),ee._openRedirect(I,h,"signInViaRedirect")})).apply(this,arguments)}function he(){return(he=(0,a.Z)(function*(y,h,f){const I=(0,b.m9)(y);Be(I.auth,h,Or),yield I.auth._initializationPromise;const ee=gr(I.auth,f);yield Y(ee,I.auth);const ke=yield Gi(I);return ee._openRedirect(I.auth,h,"reauthViaRedirect",ke)})).apply(this,arguments)}function Kt(){return(Kt=(0,a.Z)(function*(y,h,f){const I=(0,b.m9)(y);Be(I.auth,h,Or),yield I.auth._initializationPromise;const ee=gr(I.auth,f);yield $(!1,I,h.providerId),yield Y(ee,I.auth);const ke=yield Gi(I);return ee._openRedirect(I.auth,h,"linkViaRedirect",ke)})).apply(this,arguments)}function Kn(){return(Kn=(0,a.Z)(function*(y,h){return yield ae(y)._initializationPromise,ti(y,h,!1)})).apply(this,arguments)}function ti(y,h){return hi.apply(this,arguments)}function hi(){return(hi=(0,a.Z)(function*(y,h,f=!1){const I=ae(y),ee=gr(I,h),Ot=yield new J(I,ee,f).execute();return Ot&&!f&&(delete Ot.user._redirectEventId,yield I._persistUserIfCurrent(Ot.user),yield I._setRedirectUser(null,h)),Ot})).apply(this,arguments)}function Gi(y){return ki.apply(this,arguments)}function ki(){return(ki=(0,a.Z)(function*(y){const h=ca(`${y.uid}:::`);return y._redirectEventId=h,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),h})).apply(this,arguments)}class Bs{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let f=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(h,I)&&(f=!0,this.sendToConsumer(h,I),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function Oa(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fl(y);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=h,f=!0)),f}sendToConsumer(h,f){var I;if(h.error&&!fl(h)){const ee=(null===(I=h.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";f.onError(me(this.auth,ee))}else f.onAuthEvent(h)}isEventForConsumer(h,f){const I=null===f.eventId||!!h.eventId&&h.eventId===f.eventId;return f.filter.includes(h.type)&&I}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ja(h))}saveEventToCache(h){this.cachedEventUids.add(Ja(h)),this.lastProcessedEventTime=Date.now()}}function Ja(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(h=>h).join("-")}function fl({type:y,error:h}){return"unknown"===y&&"auth/no-auth-event"===(null==h?void 0:h.code)}function Fo(y){return va.apply(this,arguments)}function va(){return(va=(0,a.Z)(function*(y,h={}){return tt(y,"GET","/v1/projects",h)})).apply(this,arguments)}const el=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$l=/^https?/;function Yl(){return(Yl=(0,a.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:h}=yield Fo(y);for(const f of h)try{if(yo(f))return}catch(I){}ue(y,"unauthorized-domain")})).apply(this,arguments)}function yo(y){const h=Ft(),{protocol:f,hostname:I}=new URL(h);if(y.startsWith("chrome-extension://")){const Ot=new URL(y);return""===Ot.hostname&&""===I?"chrome-extension:"===f&&y.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===f&&Ot.hostname===I}if(!$l.test(f))return!1;if(el.test(y))return I===y;const ee=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+ee+"|"+ee+")$","i").test(I)}const Sr=new dn(3e4,6e4);function od(){const y=rs().___jsl;if(null==y?void 0:y.H)for(const h of Object.keys(y.H))if(y.H[h].r=y.H[h].r||[],y.H[h].L=y.H[h].L||[],y.H[h].r=[...y.H[h].L],y.CP)for(let f=0;f<y.CP.length;f++)y.CP[f]=null}let uo=null;function ho(y){return uo=uo||function kc(y){return new Promise((h,f)=>{var I,ee,ke;function Ot(){od(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{od(),f(me(y,"network-request-failed"))},timeout:Sr.get()})}if(null===(ee=null===(I=rs().gapi)||void 0===I?void 0:I.iframes)||void 0===ee?void 0:ee.Iframe)h(gapi.iframes.getContext());else{if(!(null===(ke=rs().gapi)||void 0===ke?void 0:ke.load)){const sn=ta("iframefcb");return rs()[sn]=()=>{gapi.load?Ot():f(me(y,"network-request-failed"))},Oo(`https://apis.google.com/js/api.js?onload=${sn}`).catch(xn=>f(xn))}Ot()}}).catch(h=>{throw uo=null,h})}(y),uo}const Sh=new dn(5e3,15e3),ya={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Sl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Oc(y){const h=y.config;de(h.authDomain,y,"auth-domain-config-required");const f=h.emulator?Wt(h,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,I={apiKey:h.apiKey,appName:y.name,v:te.SDK_VERSION},ee=Sl.get(y.config.apiHost);ee&&(I.eid=ee);const ke=y._getFrameworks();return ke.length&&(I.fw=ke.join(",")),`${f}?${(0,b.xO)(I).slice(1)}`}function xl(){return xl=(0,a.Z)(function*(y){const h=yield ho(y),f=rs().gapi;return de(f,y,"internal-error"),h.open({where:document.body,url:Oc(y),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ya,dontclear:!0},I=>new Promise(function(){var ee=(0,a.Z)(function*(ke,Ot){yield I.restyle({setHideOnLeave:!1});const sn=me(y,"network-request-failed"),xn=rs().setTimeout(()=>{Ot(sn)},Sh.get());function qn(){rs().clearTimeout(xn),ke(I)}I.ping(qn).then(qn,()=>{Ot(sn)})});return function(ke,Ot){return ee.apply(this,arguments)}}()))}),xl.apply(this,arguments)}const bo={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Al{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(h){}}}function fo(y,h,f,I,ee,ke){de(y.config.authDomain,y,"auth-domain-config-required"),de(y.config.apiKey,y,"invalid-api-key");const Ot={apiKey:y.config.apiKey,appName:y.name,authType:f,redirectUrl:I,v:te.SDK_VERSION,eventId:ee};if(h instanceof Or){h.setDefaultLanguage(y.languageCode),Ot.providerId=h.providerId||"",(0,b.xb)(h.getCustomParameters())||(Ot.customParameters=JSON.stringify(h.getCustomParameters()));for(const[xn,qn]of Object.entries(ke||{}))Ot[xn]=qn}if(h instanceof Gs){const xn=h.getScopes().filter(qn=>""!==qn);xn.length>0&&(Ot.scopes=xn.join(","))}y.tenantId&&(Ot.tid=y.tenantId);const sn=Ot;for(const xn of Object.keys(sn))void 0===sn[xn]&&delete sn[xn];return`${function _u({config:y}){return y.emulator?Wt(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,b.xO)(sn).slice(1)}`}const Wl="webStorageSupport";class tl extends class ud{constructor(h){this.factorId=h}_process(h,f,I){switch(f.type){case"enroll":return this._finalizeEnroll(h,f.credential,I);case"signin":return this._finalizeSignIn(h,f.credential);default:return ut("unexpected MultiFactorSessionType")}}}{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new tl(h)}_finalizeEnroll(h,f,I){return function di(y,h){return tt(y,"POST","/v2/accounts/mfaEnrollment:finalize",Le(y,h))}(h,{idToken:f,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,f){return function co(y,h){return tt(y,"POST","/v2/accounts/mfaSignIn:finalize",Le(y,h))}(h,{mfaPendingCredential:f,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let vu=(()=>{class y{constructor(){}static assertion(f){return tl._fromCredential(f)}}return y.FACTOR_ID="phone",y})();var dd="@firebase/auth";class Zl{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var f=this;return(0,a.Z)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const f=this.auth.onIdTokenChanged(I=>{h((null==I?void 0:I.stsTokenManager.accessToken)||null)});this.internalListeners.set(h,f),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const f=this.internalListeners.get(h);!f||(this.internalListeners.delete(h),f(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function No(){return window}function Ql(){return(Ql=(0,a.Z)(function*(y,h,f){var I;const{BuildInfo:ee}=No();Qe(h.sessionId,"AuthEvent did not contain a session ID");const ke=yield ls(h.sessionId),Ot={};return gi()?Ot.ibi=ee.packageName:Gt()?Ot.apn=ee.packageName:ue(y,"operation-not-supported-in-this-environment"),ee.displayName&&(Ot.appDisplayName=ee.displayName),Ot.sessionId=ke,fo(y,f,h.type,void 0,null!==(I=h.eventId)&&void 0!==I?I:void 0,Ot)})).apply(this,arguments)}function yu(){return(yu=(0,a.Z)(function*(y){const{BuildInfo:h}=No(),f={};gi()?f.iosBundleId=h.packageName:Gt()?f.androidPackageName=h.packageName:ue(y,"operation-not-supported-in-this-environment"),yield Fo(y,f)})).apply(this,arguments)}function vd(){return(vd=(0,a.Z)(function*(y,h,f){const{cordova:I}=No();let ee=()=>{};try{yield new Promise((ke,Ot)=>{let sn=null;function xn(){var Ci;ke();const _r=null===(Ci=I.plugins.browsertab)||void 0===Ci?void 0:Ci.close;"function"==typeof _r&&_r(),"function"==typeof(null==f?void 0:f.close)&&f.close()}function qn(){sn||(sn=window.setTimeout(()=>{Ot(me(y,"redirect-cancelled-by-user"))},2e3))}function Mi(){"visible"===(null==document?void 0:document.visibilityState)&&qn()}h.addPassiveListener(xn),document.addEventListener("resume",qn,!1),Gt()&&document.addEventListener("visibilitychange",Mi,!1),ee=()=>{h.removePassiveListener(xn),document.removeEventListener("resume",qn,!1),document.removeEventListener("visibilitychange",Mi,!1),sn&&window.clearTimeout(sn)}})}finally{ee()}})).apply(this,arguments)}function ls(y){return ml.apply(this,arguments)}function ml(){return(ml=(0,a.Z)(function*(y){const h=Fc(y),f=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(f)).map(ee=>ee.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Fc(y){if(Qe(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const h=new ArrayBuffer(y.length),f=new Uint8Array(h);for(let I=0;I<y.length;I++)f[I]=y.charCodeAt(I);return f}(0,b.Pz)("authIdTokenMaxAge"),function pd(y){(0,te._registerComponent)(new ye.wA("auth",(h,{options:f})=>{const I=h.getProvider("app").getImmediate(),ee=h.getProvider("heartbeat"),{apiKey:ke,authDomain:Ot}=I.options;return((sn,xn)=>{de(ke&&!ke.includes(":"),"invalid-api-key",{appName:sn.name}),de(!(null==Ot?void 0:Ot.includes(":")),"argument-error",{appName:sn.name});const qn={apiKey:ke,authDomain:Ot,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ji(y)},Mi=new Ne(sn,xn,qn);return function rt(y,h){const f=(null==h?void 0:h.persistence)||[],I=(Array.isArray(f)?f:[f]).map(bt);(null==h?void 0:h.errorMap)&&y._updateErrorMap(h.errorMap),y._initializeWithPersistence(I,null==h?void 0:h.popupRedirectResolver)}(Mi,f),Mi})(I,ee)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,f,I)=>{h.getProvider("auth-internal").initialize()})),(0,te._registerComponent)(new ye.wA("auth-internal",h=>{const f=ae(h.getProvider("auth").getImmediate());return new Zl(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,te.registerVersion)(dd,"0.21.3",function fd(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,te.registerVersion)(dd,"0.21.3","esm2017")}("Browser");class dp extends Bs{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInialized(),this.passiveListeners.forEach(f=>f(h)),super.onEvent(h)}initialized(){var h=this;return(0,a.Z)(function*(){yield h.initPromise})()}}function Cu(y){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,a.Z)(function*(y){const h=yield wu()._get(Ol(y));return h&&(yield wu()._remove(Ol(y))),h})).apply(this,arguments)}function yd(){const y=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let f=0;f<20;f++){const I=Math.floor(Math.random()*h.length);y.push(h.charAt(I))}return y.join("")}function wu(){return bt(is)}function Ol(y){return je("authEvent",y.config.apiKey,y.name)}function Lc(y){if(!(null==y?void 0:y.includes("?")))return{};const[h,...f]=y.split("?");return(0,b.zd)(f.join("?"))}function ec(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:me("no-auth-event")}}function Pa(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function Fa(y=(0,b.z$)()){return!("file:"!==Pa()&&"ionic:"!==Pa()&&"capacitor:"!==Pa()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Hi(){try{const y=self.localStorage,h=ca();if(y)return y.setItem(h,"1"),y.removeItem(h),!function Oh(y=(0,b.z$)()){return function Vc(){return(0,b.w1)()&&11===(null==document?void 0:document.documentMode)}()||function hp(y=(0,b.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,b.hl)()}catch(y){return nc()&&(0,b.hl)()}return!1}function nc(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function gl(){return(function tc(){return"http:"===Pa()||"https:"===Pa()}()||(0,b.ru)()||Fa())&&!function Cd(){return(0,b.b$)()||(0,b.UG)()}()&&Hi()&&!nc()}function ba(){return Fa()&&"undefined"!=typeof document}function ic(){return(ic=(0,a.Z)(function*(){return!!ba()&&new Promise(y=>{const h=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(h),y(!0)})})})).apply(this,arguments)}const Zo={LOCAL:"local",NONE:"none",SESSION:"session"},nl=de,Mu="persistence";function Uc(y){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,a.Z)(function*(y){yield y._initializationPromise;const h=Rh(),f=je(Mu,y.config.apiKey,y.name);h&&h.setItem(f,y._getPersistence())})).apply(this,arguments)}function Rh(){var y;try{return(null===(y=function fp(){return"undefined"!=typeof window?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch(h){return null}}const pp=de;class ia{constructor(){this.browserResolver=bt(class Kl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Zt,this._completeRedirectFn=ti,this._overrideRedirectResult=In}_openPopup(h,f,I,ee){var ke=this;return(0,a.Z)(function*(){var Ot;Qe(null===(Ot=ke.eventManagers[h._key()])||void 0===Ot?void 0:Ot.manager,"_initialize() not called before _openPopup()");const sn=fo(h,f,I,Ft(),ee);return function Rc(y,h,f,I=500,ee=600){const ke=Math.max((window.screen.availHeight-ee)/2,0).toString(),Ot=Math.max((window.screen.availWidth-I)/2,0).toString();let sn="";const xn=Object.assign(Object.assign({},bo),{width:I.toString(),height:ee.toString(),top:ke,left:Ot}),qn=(0,b.z$)().toLowerCase();f&&(sn=Ve(qn)?"_blank":f),He(qn)&&(h=h||"http://localhost",xn.scrollbars="yes");const Mi=Object.entries(xn).reduce((_r,[wa,Gc])=>`${_r}${wa}=${Gc},`,"");if(function Vi(y=(0,b.z$)()){var h;return gi(y)&&!!(null===(h=window.navigator)||void 0===h?void 0:h.standalone)}(qn)&&"_self"!==sn)return function gu(y,h){const f=document.createElement("a");f.href=y,f.target=h;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(I)}(h||"",sn),new Al(null);const Ci=window.open(h||"",sn,Mi);de(Ci,y,"popup-blocked");try{Ci.focus()}catch(_r){}return new Al(Ci)}(h,sn,ca())})()}_openRedirect(h,f,I,ee){var ke=this;return(0,a.Z)(function*(){return yield ke._originValidation(h),function ko(y){rs().location.href=y}(fo(h,f,I,Ft(),ee)),new Promise(()=>{})})()}_initialize(h){const f=h._key();if(this.eventManagers[f]){const{manager:ee,promise:ke}=this.eventManagers[f];return ee?Promise.resolve(ee):(Qe(ke,"If manager is not set, promise should be"),ke)}const I=this.initAndGetManager(h);return this.eventManagers[f]={promise:I},I.catch(()=>{delete this.eventManagers[f]}),I}initAndGetManager(h){var f=this;return(0,a.Z)(function*(){const I=yield function pu(y){return xl.apply(this,arguments)}(h),ee=new Bs(h);return I.register("authEvent",ke=>(de(null==ke?void 0:ke.authEvent,h,"invalid-auth-event"),{status:ee.onEvent(ke.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[h._key()]={manager:ee},f.iframes[h._key()]=I,ee})()}_isIframeWebStorageSupported(h,f){this.iframes[h._key()].send(Wl,{type:Wl},ee=>{var ke;const Ot=null===(ke=null==ee?void 0:ee[0])||void 0===ke?void 0:ke[Wl];void 0!==Ot&&f(!!Ot),ue(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const f=h._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function Qr(y){return Yl.apply(this,arguments)}(h)),this.originValidationPromises[f]}get _shouldInitProactively(){return nr()||ze()||gi()}}),this.cordovaResolver=bt(class ar{constructor(){this._redirectPersistence=Zt,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ti,this._overrideRedirectResult=In}_initialize(h){var f=this;return(0,a.Z)(function*(){const I=h._key();let ee=f.eventManagers.get(I);return ee||(ee=new dp(h),f.eventManagers.set(I,ee),f.attachCallbackListeners(h,ee)),ee})()}_openPopup(h){ue(h,"operation-not-supported-in-this-environment")}_openRedirect(h,f,I,ee){var ke=this;return(0,a.Z)(function*(){!function up(y){var h,f,I,ee,ke,Ot,sn,xn,qn,Mi;const Ci=No();de("function"==typeof(null===(h=null==Ci?void 0:Ci.universalLinks)||void 0===h?void 0:h.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),de(void 0!==(null===(f=null==Ci?void 0:Ci.BuildInfo)||void 0===f?void 0:f.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),de("function"==typeof(null===(ke=null===(ee=null===(I=null==Ci?void 0:Ci.cordova)||void 0===I?void 0:I.plugins)||void 0===ee?void 0:ee.browsertab)||void 0===ke?void 0:ke.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),de("function"==typeof(null===(xn=null===(sn=null===(Ot=null==Ci?void 0:Ci.cordova)||void 0===Ot?void 0:Ot.plugins)||void 0===sn?void 0:sn.browsertab)||void 0===xn?void 0:xn.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),de("function"==typeof(null===(Mi=null===(qn=null==Ci?void 0:Ci.cordova)||void 0===qn?void 0:qn.InAppBrowser)||void 0===Mi?void 0:Mi.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const Ot=yield ke._initialize(h);yield Ot.initialized(),Ot.resetRedirect(),function at(){Vs.clear()}(),yield ke._originValidation(h);const sn=function Nc(y,h,f=null){return{type:h,eventId:f,urlResponse:null,sessionId:yd(),postBody:null,tenantId:y.tenantId,error:me(y,"no-auth-event")}}(h,I,ee);yield function Ah(y,h){return wu()._set(Ol(y),h)}(h,sn);const xn=yield function kl(y,h,f){return Ql.apply(this,arguments)}(h,sn,f),qn=yield function xh(y){const{cordova:h}=No();return new Promise(f=>{h.plugins.browsertab.isAvailable(I=>{let ee=null;I?h.plugins.browsertab.openUrl(y):ee=h.InAppBrowser.open(y,function Di(y=(0,b.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),f(ee)})})}(xn);return function Pc(y,h,f){return vd.apply(this,arguments)}(h,Ot,qn)})()}_isIframeWebStorageSupported(h,f){throw new Error("Method not implemented.")}_originValidation(h){const f=h._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function Xl(y){return yu.apply(this,arguments)}(h)),this.originValidationPromises[f]}attachCallbackListeners(h,f){const{universalLinks:I,handleOpenURL:ee,BuildInfo:ke}=No(),Ot=setTimeout((0,a.Z)(function*(){yield Cu(h),f.onEvent(ec())}),500),sn=function(){var Mi=(0,a.Z)(function*(Ci){clearTimeout(Ot);const _r=yield Cu(h);let wa=null;_r&&(null==Ci?void 0:Ci.url)&&(wa=function za(y,h){var f,I;const ee=function Du(y){const h=Lc(y),f=h.link?decodeURIComponent(h.link):void 0,I=Lc(f).link,ee=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return Lc(ee).link||ee||I||f||y}(h);if(ee.includes("/__/auth/callback")){const ke=Lc(ee),Ot=ke.firebaseError?function Jl(y){try{return JSON.parse(y)}catch(h){return null}}(decodeURIComponent(ke.firebaseError)):null,sn=null===(I=null===(f=null==Ot?void 0:Ot.code)||void 0===f?void 0:f.split("auth/"))||void 0===I?void 0:I[1],xn=sn?me(sn):null;return xn?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:xn,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:ee,postBody:null}}return null}(_r,Ci.url)),f.onEvent(wa||ec())});return function(_r){return Mi.apply(this,arguments)}}();void 0!==I&&"function"==typeof I.subscribe&&I.subscribe(null,sn);const xn=ee,qn=`${ke.packageName.toLowerCase()}://`;No().handleOpenURL=function(){var Mi=(0,a.Z)(function*(Ci){if(Ci.toLowerCase().startsWith(qn)&&sn({url:Ci}),"function"==typeof xn)try{xn(Ci)}catch(_r){console.error(_r)}});return function(Ci){return Mi.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Zt,this._completeRedirectFn=ti,this._overrideRedirectResult=In}_initialize(h){var f=this;return(0,a.Z)(function*(){return yield f.selectUnderlyingResolver(),f.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,f,I,ee){var ke=this;return(0,a.Z)(function*(){return yield ke.selectUnderlyingResolver(),ke.assertedUnderlyingResolver._openPopup(h,f,I,ee)})()}_openRedirect(h,f,I,ee){var ke=this;return(0,a.Z)(function*(){return yield ke.selectUnderlyingResolver(),ke.assertedUnderlyingResolver._openRedirect(h,f,I,ee)})()}_isIframeWebStorageSupported(h,f){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,f)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return ba()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return pp(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,a.Z)(function*(){if(h.underlyingResolver)return;const f=yield function Bc(){return ic.apply(this,arguments)}();h.underlyingResolver=f?h.cordovaResolver:h.browserResolver})()}}function Dd(y){return y.unwrap()}function xr(y){return Tu(y)}function Tu(y){const{_tokenResponse:h}=y instanceof b.ZR?y.customData:y;if(!h)return null;if(!(y instanceof b.ZR)&&"temporaryProof"in h&&"phoneNumber"in h)return eo.credentialFromResult(y);const f=h.providerId;if(!f||"password"===f)return null;let I;switch(f){case"google.com":I=zs;break;case"facebook.com":I=ns;break;case"github.com":I=Br;break;case"twitter.com":I=Rr;break;default:const{oauthIdToken:ee,oauthAccessToken:ke,oauthTokenSecret:Ot,pendingToken:sn,nonce:xn}=h;return ke||Ot||ee||sn?sn?f.startsWith("saml.")?$r._create(f,sn):Vr._fromParams({providerId:f,signInMethod:f,pendingToken:sn,idToken:ee,accessToken:ke}):new ts(f).credential({idToken:ee,accessToken:ke,rawNonce:xn}):null}return y instanceof b.ZR?I.credentialFromError(y):I.credentialFromResult(y)}function io(y,h){return h.catch(f=>{throw f instanceof b.ZR&&function _l(y,h){var f;const I=null===(f=h.customData)||void 0===f?void 0:f._tokenResponse;if("auth/multi-factor-auth-required"===(null==h?void 0:h.code))h.resolver=new Ph(y,function Un(y,h){var f;const I=(0,b.m9)(y),ee=h;return de(h.customData.operationType,I,"argument-error"),de(null===(f=ee.customData._serverResponse)||void 0===f?void 0:f.mfaPendingCredential,I,"argument-error"),jn._fromError(I,ee)}(y,h));else if(I){const ee=Tu(h),ke=h;ee&&(ke.credential=ee,ke.tenantId=I.tenantId||void 0,ke.email=I.email||void 0,ke.phoneNumber=I.phoneNumber||void 0)}}(y,f),f}).then(f=>{const ee=f.user;return{operationType:f.operationType,credential:xr(f),additionalUserInfo:tr(f),user:ra.getOrCreate(ee)}})}function Ca(y,h){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,a.Z)(function*(y,h){const f=yield h;return{verificationId:f.verificationId,confirm:I=>io(y,f.confirm(I))}})).apply(this,arguments)}class Ph{constructor(h,f){this.resolver=f,this.auth=function mp(y){return y.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return io(Dd(this.auth),this.resolver.resolveSignIn(h))}}class ra{constructor(h){this._delegate=h,this.multiFactor=function vo(y){const h=(0,b.m9)(y);return Kr.has(h)||Kr.set(h,br._fromUser(h)),Kr.get(h)}(h)}static getOrCreate(h){return ra.USER_MAP.has(h)||ra.USER_MAP.set(h,new ra(h)),ra.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var f=this;return(0,a.Z)(function*(){return io(f.auth,Jn(f._delegate,h))})()}linkWithPhoneNumber(h,f){var I=this;return(0,a.Z)(function*(){return Ca(I.auth,function Ro(y,h,f){return El.apply(this,arguments)}(I._delegate,h,f))})()}linkWithPopup(h){var f=this;return(0,a.Z)(function*(){return io(f.auth,function Xa(y,h,f){return Tl.apply(this,arguments)}(f._delegate,h,ia))})()}linkWithRedirect(h){var f=this;return(0,a.Z)(function*(){return yield Uc(ae(f.auth)),function it(y,h,f){return function Nt(y,h,f){return Kt.apply(this,arguments)}(y,h,f)}(f._delegate,h,ia)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var f=this;return(0,a.Z)(function*(){return io(f.auth,or(f._delegate,h))})()}reauthenticateWithPhoneNumber(h,f){return Ca(this.auth,function Qa(y,h,f){return ws.apply(this,arguments)}(this._delegate,h,f))}reauthenticateWithPopup(h){return io(this.auth,function Wo(y,h,f){return Il.apply(this,arguments)}(this._delegate,h,ia))}reauthenticateWithRedirect(h){var f=this;return(0,a.Z)(function*(){return yield Uc(ae(f.auth)),function V(y,h,f){return function G(y,h,f){return he.apply(this,arguments)}(y,h,f)}(f._delegate,h,ia)})()}sendEmailVerification(h){return function M(y,h){return H.apply(this,arguments)}(this._delegate,h)}unlink(h){var f=this;return(0,a.Z)(function*(){return yield function ds(y,h){return xi.apply(this,arguments)}(f._delegate,h),f})()}updateEmail(h){return function Nn(y,h){return _i((0,b.m9)(y),h,null)}(this._delegate,h)}updatePassword(h){return function Zn(y,h){return _i((0,b.m9)(y),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function os(y,h){return ka.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function Bt(y,h){return ln.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,f){return function pe(y,h,f){return Ue.apply(this,arguments)}(this._delegate,h,f)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ra.USER_MAP=new WeakMap;const Pl=de;let Ed=(()=>{class y{constructor(f,I){if(this.app=f,I.isInitialized())return this._delegate=I.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ee}=f.options;Pl(ee,"invalid-api-key",{appName:f.name}),Pl(ee,"invalid-api-key",{appName:f.name});const ke="undefined"!=typeof window?ia:void 0;this._delegate=I.initialize({options:{persistence:gp(ee,f.name),popupRedirectResolver:ke}}),this._delegate._updateErrorMap(ot),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ra.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(f){this._delegate.languageCode=f}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(f){this._delegate.tenantId=f}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(f,I){!function kt(y,h,f){const I=ae(y);de(I._canInitEmulator,I,"emulator-config-failed"),de(/^https?:\/\//.test(h),I,"invalid-emulator-scheme");const ee=!!(null==f?void 0:f.disableWarnings),ke=tn(h),{host:Ot,port:sn}=function bn(y){const h=tn(y),f=/(\/\/)?([^?#/]+)/.exec(y.substr(h.length));if(!f)return{host:"",port:null};const I=f[2].split("@").pop()||"",ee=/^(\[[^\]]+\])(:|$)/.exec(I);if(ee){const ke=ee[1];return{host:ke,port:ei(I.substr(ke.length+1))}}{const[ke,Ot]=I.split(":");return{host:ke,port:ei(Ot)}}}(h);I.config.emulator={url:`${ke}//${Ot}${null===sn?"":`:${sn}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:Ot,port:sn,protocol:ke.replace(":",""),options:Object.freeze({disableWarnings:ee})}),ee||function Bn(){function y(){const h=document.createElement("p"),f=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",f.position="fixed",f.width="100%",f.backgroundColor="#ffffff",f.border=".1em solid #000000",f.color="#b50000",f.bottom="0px",f.left="0px",f.margin="0px",f.zIndex="10000",f.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,f,I)}applyActionCode(f){return function lr(y,h){return pn.apply(this,arguments)}(this._delegate,f)}checkActionCode(f){return Ui(this._delegate,f)}confirmPasswordReset(f,I){return function hs(y,h,f){return _o.apply(this,arguments)}(this._delegate,f,I)}createUserWithEmailAndPassword(f,I){var ee=this;return(0,a.Z)(function*(){return io(ee._delegate,function Qs(y,h,f){return Ns.apply(this,arguments)}(ee._delegate,f,I))})()}fetchProvidersForEmail(f){return this.fetchSignInMethodsForEmail(f)}fetchSignInMethodsForEmail(f){return function le(y,h){return C.apply(this,arguments)}(this._delegate,f)}isSignInWithEmailLink(f){return function aa(y,h){const f=ps.parseLink(h);return"EMAIL_SIGNIN"===(null==f?void 0:f.operation)}(0,f)}getRedirectResult(){var f=this;return(0,a.Z)(function*(){Pl(gl(),f._delegate,"operation-not-supported-in-this-environment");const I=yield function wn(y,h){return Kn.apply(this,arguments)}(f._delegate,ia);return I?io(f._delegate,Promise.resolve(I)):{credential:null,user:null}})()}addFrameworkForLogging(f){!function Ra(y,h){ae(y)._logFramework(h)}(this._delegate,f)}onAuthStateChanged(f,I,ee){const{next:ke,error:Ot,complete:sn}=Md(f,I,ee);return this._delegate.onAuthStateChanged(ke,Ot,sn)}onIdTokenChanged(f,I,ee){const{next:ke,error:Ot,complete:sn}=Md(f,I,ee);return this._delegate.onIdTokenChanged(ke,Ot,sn)}sendSignInLinkToEmail(f,I){return function Sa(y,h,f){return $s.apply(this,arguments)}(this._delegate,f,I)}sendPasswordResetEmail(f,I){return function ir(y,h,f){return Fr.apply(this,arguments)}(this._delegate,f,I||void 0)}setPersistence(f){var I=this;return(0,a.Z)(function*(){let ee;switch(function wd(y,h){nl(Object.values(Zo).includes(h),y,"invalid-persistence-type"),(0,b.b$)()?nl(h!==Zo.SESSION,y,"unsupported-persistence-type"):(0,b.UG)()?nl(h===Zo.NONE,y,"unsupported-persistence-type"):nc()?nl(h===Zo.NONE||h===Zo.LOCAL&&(0,b.hl)(),y,"unsupported-persistence-type"):nl(h===Zo.NONE||Hi(),y,"unsupported-persistence-type")}(I._delegate,f),f){case Zo.SESSION:ee=Zt;break;case Zo.LOCAL:ee=(yield bt(ji)._isAvailable())?ji:is;break;case Zo.NONE:ee=Ie;break;default:return ue("argument-error",{appName:I._delegate.name})}return I._delegate.setPersistence(ee)})()}signInAndRetrieveDataWithCredential(f){return this.signInWithCredential(f)}signInAnonymously(){return io(this._delegate,function oo(y){return Fs.apply(this,arguments)}(this._delegate))}signInWithCredential(f){return io(this._delegate,ci(this._delegate,f))}signInWithCustomToken(f){return io(this._delegate,function j(y,h){return F.apply(this,arguments)}(this._delegate,f))}signInWithEmailAndPassword(f,I){return io(this._delegate,function Xo(y,h,f){return ci((0,b.m9)(y),Qo.credential(h,f))}(this._delegate,f,I))}signInWithEmailLink(f,I){return io(this._delegate,function Ua(y,h,f){return lo.apply(this,arguments)}(this._delegate,f,I))}signInWithPhoneNumber(f,I){return Ca(this._delegate,function yr(y,h,f){return Aa.apply(this,arguments)}(this._delegate,f,I))}signInWithPopup(f){var I=this;return(0,a.Z)(function*(){return Pl(gl(),I._delegate,"operation-not-supported-in-this-environment"),io(I._delegate,function Po(y,h,f){return Yo.apply(this,arguments)}(I._delegate,f,ia))})()}signInWithRedirect(f){var I=this;return(0,a.Z)(function*(){return Pl(gl(),I._delegate,"operation-not-supported-in-this-environment"),yield Uc(I._delegate),function Nr(y,h,f){return function Hr(y,h,f){return Ys.apply(this,arguments)}(y,h,f)}(I._delegate,f,ia)})()}updateCurrentUser(f){return this._delegate.updateCurrentUser(f)}verifyPasswordResetCode(f){return function Er(y,h){return oa.apply(this,arguments)}(this._delegate,f)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Zo,y})();function Md(y,h,f){let I=y;"function"!=typeof y&&({next:I,error:h,complete:f}=y);const ee=I;return{next:Ot=>ee(Ot&&ra.getOrCreate(Ot)),error:h,complete:f}}function gp(y,h){const f=function Rl(y,h){const f=Rh();if(!f)return[];const I=je(Mu,y,h);switch(f.getItem(I)){case Zo.NONE:return[Ie];case Zo.LOCAL:return[ji,Zt];case Zo.SESSION:return[Zt];default:return[]}}(y,h);if("undefined"!=typeof self&&!f.includes(ji)&&f.push(ji),"undefined"!=typeof window)for(const I of[is,Zt])f.includes(I)||f.push(I);return f.includes(Ie)||f.push(Ie),f}class Id{constructor(){this.providerId="phone",this._delegate=new eo(Dd(R.Z.auth()))}static credential(h,f){return eo.credential(h,f)}verifyPhoneNumber(h,f){return this._delegate.verifyPhoneNumber(h,f)}unwrap(){return this._delegate}}Id.PHONE_SIGN_IN_METHOD=eo.PHONE_SIGN_IN_METHOD,Id.PROVIDER_ID=eo.PROVIDER_ID;const Su=de;class Td{constructor(h,f,I=R.Z.app()){var ee;Su(null===(ee=I.options)||void 0===ee?void 0:ee.apiKey,"invalid-api-key",{appName:I.name}),this._delegate=new Th(h,f,I.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Sd(y){y.INTERNAL.registerComponent(new ye.wA("auth-compat",h=>{const f=h.getProvider("app-compat").getImmediate(),I=h.getProvider("auth");return new Ed(f,I)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Qo,FacebookAuthProvider:ns,GithubAuthProvider:Br,GoogleAuthProvider:zs,OAuthProvider:ts,SAMLAuthProvider:bi,PhoneAuthProvider:Id,PhoneMultiFactorGenerator:vu,RecaptchaVerifier:Td,TwitterAuthProvider:Rr,Auth:Ed,AuthCredential:Pi,Error:b.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.3.3")}(R.Z)},8766:(on,st,D)=>{D.d(st,{Lj:()=>ue,X3:()=>lt});var a=D(5861);let b,te;const ye=new WeakMap,be=new WeakMap,z=new WeakMap,B=new WeakMap,re=new WeakMap;let Fe={get(de,ut,Qe){if(de instanceof IDBTransaction){if("done"===ut)return be.get(de);if("objectStoreNames"===ut)return de.objectStoreNames||z.get(de);if("store"===ut)return Qe.objectStoreNames[1]?void 0:Qe.objectStore(Qe.objectStoreNames[0])}return Ke(de[ut])},set:(de,ut,Qe)=>(de[ut]=Qe,!0),has:(de,ut)=>de instanceof IDBTransaction&&("done"===ut||"store"===ut)||ut in de};function Re(de){return"function"==typeof de?function et(de){return de!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ce(){return te||(te=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(de)?function(...ut){return de.apply(_t(this),ut),Ke(ye.get(this))}:function(...ut){return Ke(de.apply(_t(this),ut))}:function(ut,...Qe){const jt=de.call(_t(this),ut,...Qe);return z.set(jt,ut.sort?ut.sort():[ut]),Ke(jt)}}(de):(de instanceof IDBTransaction&&function We(de){if(be.has(de))return;const ut=new Promise((Qe,jt)=>{const bt=()=>{de.removeEventListener("complete",zt),de.removeEventListener("error",rt),de.removeEventListener("abort",rt)},zt=()=>{Qe(),bt()},rt=()=>{jt(de.error||new DOMException("AbortError","AbortError")),bt()};de.addEventListener("complete",zt),de.addEventListener("error",rt),de.addEventListener("abort",rt)});be.set(de,ut)}(de),((de,ut)=>ut.some(Qe=>de instanceof Qe))(de,function v(){return b||(b=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(de,Fe):de)}function Ke(de){if(de instanceof IDBRequest)return function xe(de){const ut=new Promise((Qe,jt)=>{const bt=()=>{de.removeEventListener("success",zt),de.removeEventListener("error",rt)},zt=()=>{Qe(Ke(de.result)),bt()},rt=()=>{jt(de.error),bt()};de.addEventListener("success",zt),de.addEventListener("error",rt)});return ut.then(Qe=>{Qe instanceof IDBCursor&&ye.set(Qe,de)}).catch(()=>{}),re.set(ut,de),ut}(de);if(B.has(de))return B.get(de);const ut=Re(de);return ut!==de&&(B.set(de,ut),re.set(ut,de)),ut}const _t=de=>re.get(de);function lt(de,ut,{blocked:Qe,upgrade:jt,blocking:bt,terminated:zt}={}){const rt=indexedDB.open(de,ut),Ft=Ke(rt);return jt&&rt.addEventListener("upgradeneeded",xt=>{jt(Ke(rt.result),xt.oldVersion,xt.newVersion,Ke(rt.transaction))}),Qe&&rt.addEventListener("blocked",()=>Qe()),Ft.then(xt=>{zt&&xt.addEventListener("close",()=>zt()),bt&&xt.addEventListener("versionchange",()=>bt())}).catch(()=>{}),Ft}function ue(de,{blocked:ut}={}){const Qe=indexedDB.deleteDatabase(de);return ut&&Qe.addEventListener("blocked",()=>ut()),Ke(Qe).then(()=>{})}const me=["get","getKey","getAll","getAllKeys","count"],Ce=["put","add","delete","clear"],Be=new Map;function Ge(de,ut){if(!(de instanceof IDBDatabase)||ut in de||"string"!=typeof ut)return;if(Be.get(ut))return Be.get(ut);const Qe=ut.replace(/FromIndex$/,""),jt=ut!==Qe,bt=Ce.includes(Qe);if(!(Qe in(jt?IDBIndex:IDBObjectStore).prototype)||!bt&&!me.includes(Qe))return;const zt=function(){var rt=(0,a.Z)(function*(Ft,...xt){const Vt=this.transaction(Ft,bt?"readwrite":"readonly");let Rt=Vt.store;return jt&&(Rt=Rt.index(xt.shift())),(yield Promise.all([Rt[Qe](...xt),bt&&Vt.done]))[0]});return function(xt){return rt.apply(this,arguments)}}();return Be.set(ut,zt),zt}!function ot(de){Fe=de(Fe)}(de=>xw(Sw({},de),{get:(ut,Qe,jt)=>Ge(ut,Qe)||de.get(ut,Qe,jt),has:(ut,Qe)=>!!Ge(ut,Qe)||de.has(ut,Qe)}))},9783:(on,st,D)=>{D.d(st,{F0:()=>We,b4:()=>ce,jx:()=>Ke,m8:()=>_t,ws:()=>ye});var a=D(5e3),R=D(7579),b=D(9808);let v=(()=>{class ue{}return ue.STARTS_WITH="startsWith",ue.CONTAINS="contains",ue.NOT_CONTAINS="notContains",ue.ENDS_WITH="endsWith",ue.EQUALS="equals",ue.NOT_EQUALS="notEquals",ue.IN="in",ue.LESS_THAN="lt",ue.LESS_THAN_OR_EQUAL_TO="lte",ue.GREATER_THAN="gt",ue.GREATER_THAN_OR_EQUAL_TO="gte",ue.BETWEEN="between",ue.IS="is",ue.IS_NOT="isNot",ue.BEFORE="before",ue.AFTER="after",ue.DATE_IS="dateIs",ue.DATE_IS_NOT="dateIsNot",ue.DATE_BEFORE="dateBefore",ue.DATE_AFTER="dateAfter",ue})(),ce=(()=>{class ue{constructor(){this.ripple=!1,this.filterMatchModeOptions={text:[v.STARTS_WITH,v.CONTAINS,v.NOT_CONTAINS,v.ENDS_WITH,v.EQUALS,v.NOT_EQUALS],numeric:[v.EQUALS,v.NOT_EQUALS,v.LESS_THAN,v.LESS_THAN_OR_EQUAL_TO,v.GREATER_THAN,v.GREATER_THAN_OR_EQUAL_TO],date:[v.DATE_IS,v.DATE_IS_NOT,v.DATE_BEFORE,v.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new R.x,this.translationObserver=this.translationSource.asObservable()}getTranslation(Ce){return this.translation[Ce]}setTranslation(Ce){this.translation=Object.assign(Object.assign({},this.translation),Ce),this.translationSource.next(this.translation)}}return ue.\u0275fac=function(Ce){return new(Ce||ue)},ue.\u0275prov=a.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"}),ue})(),ye=(()=>{class ue{}return ue.STARTS_WITH="startsWith",ue.CONTAINS="contains",ue.NOT_CONTAINS="notContains",ue.ENDS_WITH="endsWith",ue.EQUALS="equals",ue.NOT_EQUALS="notEquals",ue.NO_FILTER="noFilter",ue.LT="lt",ue.LTE="lte",ue.GT="gt",ue.GTE="gte",ue.IS="is",ue.IS_NOT="isNot",ue.BEFORE="before",ue.AFTER="after",ue.CLEAR="clear",ue.APPLY="apply",ue.MATCH_ALL="matchAll",ue.MATCH_ANY="matchAny",ue.ADD_RULE="addRule",ue.REMOVE_RULE="removeRule",ue.ACCEPT="accept",ue.REJECT="reject",ue.CHOOSE="choose",ue.UPLOAD="upload",ue.CANCEL="cancel",ue.DAY_NAMES="dayNames",ue.DAY_NAMES_SHORT="dayNamesShort",ue.DAY_NAMES_MIN="dayNamesMin",ue.MONTH_NAMES="monthNames",ue.MONTH_NAMES_SHORT="monthNamesShort",ue.FIRST_DAY_OF_WEEK="firstDayOfWeek",ue.TODAY="today",ue.WEEK_HEADER="weekHeader",ue.WEAK="weak",ue.MEDIUM="medium",ue.STRONG="strong",ue.PASSWORD_PROMPT="passwordPrompt",ue.EMPTY_MESSAGE="emptyMessage",ue.EMPTY_FILTER_MESSAGE="emptyFilterMessage",ue})(),We=(()=>{class ue{constructor(){this.clickSource=new R.x,this.clickObservable=this.clickSource.asObservable()}add(Ce){Ce&&this.clickSource.next(Ce)}}return ue.\u0275fac=function(Ce){return new(Ce||ue)},ue.\u0275prov=a.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"}),ue})(),Ke=(()=>{class ue{constructor(Ce){this.template=Ce}getType(){return this.name}}return ue.\u0275fac=function(Ce){return new(Ce||ue)(a.Y36(a.Rgc))},ue.\u0275dir=a.lG2({type:ue,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),ue})(),_t=(()=>{class ue{}return ue.\u0275fac=function(Ce){return new(Ce||ue)},ue.\u0275mod=a.oAB({type:ue}),ue.\u0275inj=a.cJS({imports:[[b.ez]]}),ue})()},5488:(on,st,D)=>{D.d(st,{f:()=>Sn,_8:()=>At});var a=D(5e3),R=D(1777),b=D(9808),te=D(5730),v=D(5787);let We=(()=>{class W{constructor(m){this.el=m,this.iconPos="left",this.loadingIcon="pi pi-spinner pi-spin",this._loading=!1}ngAfterViewInit(){this._initialStyleClass=this.el.nativeElement.className,te.p.addMultipleClasses(this.el.nativeElement,this.getStyleClass()),(this.icon||this.loading)&&this.createIconEl();let m=document.createElement("span");this.icon&&!this.label&&m.setAttribute("aria-hidden","true"),m.className="p-button-label",this.label?m.appendChild(document.createTextNode(this.label)):m.innerHTML="&nbsp;",this.el.nativeElement.appendChild(m),this.initialized=!0}getStyleClass(){let m="p-button p-component";return this.icon&&!this.label&&(m+=" p-button-icon-only"),this.loading&&(m+=" p-disabled p-button-loading",!this.icon&&this.label&&(m+=" p-button-loading-label-only")),m}setStyleClass(){let m=this.getStyleClass();this.el.nativeElement.className=m+" "+this._initialStyleClass}createIconEl(){let m=document.createElement("span");m.className="p-button-icon",m.setAttribute("aria-hidden","true");let x=this.label?"p-button-icon-"+this.iconPos:null;x&&te.p.addClass(m,x);let U=this.getIconClass();U&&te.p.addMultipleClasses(m,U);let Se=te.p.findSingle(this.el.nativeElement,".p-button-label");Se?this.el.nativeElement.insertBefore(m,Se):this.el.nativeElement.appendChild(m)}getIconClass(){return this.loading?"p-button-loading-icon "+this.loadingIcon:this._icon}setIconClass(){let m=te.p.findSingle(this.el.nativeElement,".p-button-icon");m?m.className=this.iconPos?"p-button-icon p-button-icon-"+this.iconPos+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIconEl()}removeIconElement(){let m=te.p.findSingle(this.el.nativeElement,".p-button-icon");this.el.nativeElement.removeChild(m)}get label(){return this._label}set label(m){this._label=m,this.initialized&&(te.p.findSingle(this.el.nativeElement,".p-button-label").textContent=this._label||"&nbsp;",(this.loading||this.icon)&&this.setIconClass(),this.setStyleClass())}get icon(){return this._icon}set icon(m){this._icon=m,this.initialized&&(this.setIconClass(),this.setStyleClass())}get loading(){return this._loading}set loading(m){this._loading=m,this.initialized&&(this.loading||this.icon?this.setIconClass():this.removeIconElement(),this.setStyleClass())}ngOnDestroy(){this.initialized=!1}}return W.\u0275fac=function(m){return new(m||W)(a.Y36(a.SBq))},W.\u0275dir=a.lG2({type:W,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading"}}),W})(),ot=(()=>{class W{}return W.\u0275fac=function(m){return new(m||W)},W.\u0275mod=a.oAB({type:W}),W.\u0275inj=a.cJS({imports:[[b.ez,v.T]]}),W})();var et=D(9783),Re=D(3075),_t=0,me=function ue(){let W=[];const U=Se=>Se&&parseInt(Se.style.zIndex,10)||0;return{get:U,set:(Se,Me,Ie)=>{Me&&(Me.style.zIndex=String(((Se,Me)=>{let Ie=W.length>0?W[W.length-1]:{key:Se,value:Me},je=Ie.value+(Ie.key===Se?0:Me)+1;return W.push({key:Se,value:je}),je})(Se,Ie)))},clear:Se=>{Se&&((Se=>{W=W.filter(Me=>Me.value!==Se)})(U(Se)),Se.style.zIndex="")},getCurrent:()=>W.length>0?W[W.length-1].value:0}}();const Ce=["container"],Be=["inputfield"],Ge=["contentWrapper"];function de(W,O){if(1&W){const m=a.EpF();a.TgZ(0,"i",8),a.NdJ("click",function(){return a.CHM(m),a.oxw(2).clear()}),a.qZA()}}function ut(W,O){if(1&W){const m=a.EpF();a.TgZ(0,"button",9),a.NdJ("click",function(U){a.CHM(m),a.oxw();const Se=a.MAs(1);return a.oxw().onButtonClick(U,Se)}),a.qZA()}if(2&W){const m=a.oxw(2);a.Q6J("icon",m.icon)("disabled",m.disabled),a.uIk("aria-label",m.iconAriaLabel)}}function Qe(W,O){if(1&W){const m=a.EpF();a.TgZ(0,"input",4,5),a.NdJ("focus",function(U){return a.CHM(m),a.oxw().onInputFocus(U)})("keydown",function(U){return a.CHM(m),a.oxw().onInputKeydown(U)})("click",function(){return a.CHM(m),a.oxw().onInputClick()})("blur",function(U){return a.CHM(m),a.oxw().onInputBlur(U)})("input",function(U){return a.CHM(m),a.oxw().onUserInput(U)}),a.qZA(),a.YNc(2,de,1,0,"i",6),a.YNc(3,ut,1,3,"button",7)}if(2&W){const m=a.oxw();a.Tol(m.inputStyleClass),a.Q6J("value",m.inputFieldValue)("readonly",m.readonlyInput)("ngStyle",m.inputStyle)("placeholder",m.placeholder||"")("disabled",m.disabled)("ngClass","p-inputtext p-component"),a.uIk("id",m.inputId)("name",m.name)("required",m.required)("aria-required",m.required)("tabindex",m.tabindex)("inputmode",m.touchUI?"off":null)("aria-labelledby",m.ariaLabelledBy),a.xp6(2),a.Q6J("ngIf",m.showClear&&!m.disabled&&null!=m.value),a.xp6(1),a.Q6J("ngIf",m.showIcon)}}function jt(W,O){1&W&&a.GkF(0)}function bt(W,O){if(1&W){const m=a.EpF();a.TgZ(0,"button",30),a.NdJ("keydown",function(U){return a.CHM(m),a.oxw(4).onContainerButtonKeydown(U)})("click",function(U){return a.CHM(m),a.oxw(4).onPrevButtonClick(U)}),a._UZ(1,"span",31),a.qZA()}}function zt(W,O){if(1&W){const m=a.EpF();a.TgZ(0,"button",32),a.NdJ("click",function(U){return a.CHM(m),a.oxw(4).switchToMonthView(U)})("keydown",function(U){return a.CHM(m),a.oxw(4).onContainerButtonKeydown(U)}),a._uU(1),a.qZA()}if(2&W){const m=a.oxw().$implicit,x=a.oxw(3);a.Q6J("disabled",x.switchViewButtonDisabled()),a.xp6(1),a.hij(" ",x.getMonthName(m.month)," ")}}function rt(W,O){if(1&W){const m=a.EpF();a.TgZ(0,"button",33),a.NdJ("click",function(U){return a.CHM(m),a.oxw(4).switchToYearView(U)})("keydown",function(U){return a.CHM(m),a.oxw(4).onContainerButtonKeydown(U)}),a._uU(1),a.qZA()}if(2&W){const m=a.oxw().$implicit,x=a.oxw(3);a.Q6J("disabled",x.switchViewButtonDisabled()),a.xp6(1),a.hij(" ",x.getYear(m)," ")}}function Ft(W,O){if(1&W&&(a.ynx(0),a._uU(1),a.BQk()),2&W){const m=a.oxw(5);a.xp6(1),a.AsE("",m.yearPickerValues()[0]," - ",m.yearPickerValues()[m.yearPickerValues().length-1],"")}}function xt(W,O){1&W&&a.GkF(0)}const Vt=function(W){return{$implicit:W}};function Rt(W,O){if(1&W&&(a.TgZ(0,"span",34),a.YNc(1,Ft,2,2,"ng-container",13),a.YNc(2,xt,1,0,"ng-container",35),a.qZA()),2&W){const m=a.oxw(4);a.xp6(1),a.Q6J("ngIf",!m.decadeTemplate),a.xp6(1),a.Q6J("ngTemplateOutlet",m.decadeTemplate)("ngTemplateOutletContext",a.VKq(3,Vt,m.yearPickerValues))}}function Lt(W,O){if(1&W&&(a.TgZ(0,"th",41)(1,"span"),a._uU(2),a.qZA()()),2&W){const m=a.oxw(5);a.xp6(2),a.Oqu(m.getTranslation("weekHeader"))}}function dn(W,O){if(1&W&&(a.TgZ(0,"th",42)(1,"span"),a._uU(2),a.qZA()()),2&W){const m=O.$implicit;a.xp6(2),a.Oqu(m)}}function Wt(W,O){if(1&W&&(a.TgZ(0,"td",45)(1,"span",46),a._uU(2),a.qZA()()),2&W){const m=a.oxw().index,x=a.oxw(2).$implicit;a.xp6(2),a.hij(" ",x.weekNumbers[m]," ")}}function Ut(W,O){if(1&W&&(a.ynx(0),a._uU(1),a.BQk()),2&W){const m=a.oxw(2).$implicit;a.xp6(1),a.Oqu(m.day)}}function Ze(W,O){1&W&&a.GkF(0)}const Pe=function(W,O){return{"p-highlight":W,"p-disabled":O}};function Le(W,O){if(1&W){const m=a.EpF();a.ynx(0),a.TgZ(1,"span",48),a.NdJ("click",function(U){a.CHM(m);const Se=a.oxw().$implicit;return a.oxw(6).onDateSelect(U,Se)})("keydown",function(U){a.CHM(m);const Se=a.oxw().$implicit,Me=a.oxw(3).index;return a.oxw(3).onDateCellKeydown(U,Se,Me)}),a.YNc(2,Ut,2,1,"ng-container",13),a.YNc(3,Ze,1,0,"ng-container",35),a.qZA(),a.BQk()}if(2&W){const m=a.oxw().$implicit,x=a.oxw(6);a.xp6(1),a.Q6J("ngClass",a.WLB(4,Pe,x.isSelected(m),!m.selectable)),a.xp6(1),a.Q6J("ngIf",!x.dateTemplate),a.xp6(1),a.Q6J("ngTemplateOutlet",x.dateTemplate)("ngTemplateOutletContext",a.VKq(7,Vt,m))}}const tt=function(W,O){return{"p-datepicker-other-month":W,"p-datepicker-today":O}};function Je(W,O){if(1&W&&(a.TgZ(0,"td",47),a.YNc(1,Le,4,9,"ng-container",13),a.qZA()),2&W){const m=O.$implicit,x=a.oxw(6);a.Q6J("ngClass",a.WLB(2,tt,m.otherMonth,m.today)),a.xp6(1),a.Q6J("ngIf",!m.otherMonth||x.showOtherMonths)}}function Mt(W,O){if(1&W&&(a.TgZ(0,"tr"),a.YNc(1,Wt,3,1,"td",43),a.YNc(2,Je,2,5,"td",44),a.qZA()),2&W){const m=O.$implicit,x=a.oxw(5);a.xp6(1),a.Q6J("ngIf",x.showWeek),a.xp6(1),a.Q6J("ngForOf",m)}}function rn(W,O){if(1&W&&(a.TgZ(0,"div",36)(1,"table",37)(2,"thead")(3,"tr"),a.YNc(4,Lt,3,1,"th",38),a.YNc(5,dn,3,1,"th",39),a.qZA()(),a.TgZ(6,"tbody"),a.YNc(7,Mt,3,2,"tr",40),a.qZA()()()),2&W){const m=a.oxw().$implicit,x=a.oxw(3);a.xp6(4),a.Q6J("ngIf",x.showWeek),a.xp6(1),a.Q6J("ngForOf",x.weekDays),a.xp6(2),a.Q6J("ngForOf",m.dates)}}function fn(W,O){if(1&W){const m=a.EpF();a.TgZ(0,"div",20)(1,"div",21),a.YNc(2,bt,2,0,"button",22),a.TgZ(3,"div",23),a.YNc(4,zt,2,2,"button",24),a.YNc(5,rt,2,2,"button",25),a.YNc(6,Rt,3,5,"span",26),a.qZA(),a.TgZ(7,"button",27),a.NdJ("keydown",function(U){return a.CHM(m),a.oxw(3).onContainerButtonKeydown(U)})("click",function(U){return a.CHM(m),a.oxw(3).onNextButtonClick(U)}),a._UZ(8,"span",28),a.qZA()(),a.YNc(9,rn,8,3,"div",29),a.qZA()}if(2&W){const m=O.index,x=a.oxw(3);a.xp6(2),a.Q6J("ngIf",0===m),a.xp6(2),a.Q6J("ngIf","date"===x.currentView),a.xp6(1),a.Q6J("ngIf","year"!==x.currentView),a.xp6(1),a.Q6J("ngIf","year"===x.currentView),a.xp6(1),a.Udp("display",1===x.numberOfMonths||m===x.numberOfMonths-1?"inline-flex":"none"),a.xp6(2),a.Q6J("ngIf","date"===x.currentView)}}const vn=function(W){return{"p-highlight":W}};function Qn(W,O){if(1&W){const m=a.EpF();a.TgZ(0,"span",51),a.NdJ("click",function(U){const Me=a.CHM(m).index;return a.oxw(4).onMonthSelect(U,Me)})("keydown",function(U){const Me=a.CHM(m).index;return a.oxw(4).onMonthCellKeydown(U,Me)}),a._uU(1),a.qZA()}if(2&W){const m=O.$implicit,x=O.index,U=a.oxw(4);a.Q6J("ngClass",a.VKq(2,vn,U.isMonthSelected(x))),a.xp6(1),a.hij(" ",m," ")}}function ni(W,O){if(1&W&&(a.TgZ(0,"div",49),a.YNc(1,Qn,2,4,"span",50),a.qZA()),2&W){const m=a.oxw(3);a.xp6(1),a.Q6J("ngForOf",m.monthPickerValues())}}function Qt(W,O){if(1&W){const m=a.EpF();a.TgZ(0,"span",54),a.NdJ("click",function(U){const Me=a.CHM(m).$implicit;return a.oxw(4).onYearSelect(U,Me)})("keydown",function(U){const Me=a.CHM(m).$implicit;return a.oxw(4).onYearCellKeydown(U,Me)}),a._uU(1),a.qZA()}if(2&W){const m=O.$implicit,x=a.oxw(4);a.Q6J("ngClass",a.VKq(2,vn,x.isYearSelected(m))),a.xp6(1),a.hij(" ",m," ")}}function fe(W,O){if(1&W&&(a.TgZ(0,"div",52),a.YNc(1,Qt,2,4,"span",53),a.qZA()),2&W){const m=a.oxw(3);a.xp6(1),a.Q6J("ngForOf",m.yearPickerValues())}}function $e(W,O){if(1&W&&(a.ynx(0),a.TgZ(1,"div",16),a.YNc(2,fn,10,7,"div",17),a.qZA(),a.YNc(3,ni,2,1,"div",18),a.YNc(4,fe,2,1,"div",19),a.BQk()),2&W){const m=a.oxw(2);a.xp6(2),a.Q6J("ngForOf",m.months),a.xp6(1),a.Q6J("ngIf","month"===m.currentView),a.xp6(1),a.Q6J("ngIf","year"===m.currentView)}}function vt(W,O){1&W&&(a.ynx(0),a._uU(1,"0"),a.BQk())}function Ht(W,O){1&W&&(a.ynx(0),a._uU(1,"0"),a.BQk())}function Ye(W,O){if(1&W&&(a.TgZ(0,"div",60)(1,"span"),a._uU(2),a.qZA()()),2&W){const m=a.oxw(3);a.xp6(2),a.Oqu(m.timeSeparator)}}function ct(W,O){1&W&&(a.ynx(0),a._uU(1,"0"),a.BQk())}function X(W,O){if(1&W){const m=a.EpF();a.TgZ(0,"div",65)(1,"button",57),a.NdJ("keydown",function(U){return a.CHM(m),a.oxw(3).onContainerButtonKeydown(U)})("keydown.enter",function(U){return a.CHM(m),a.oxw(3).incrementSecond(U)})("keydown.space",function(U){return a.CHM(m),a.oxw(3).incrementSecond(U)})("mousedown",function(U){return a.CHM(m),a.oxw(3).onTimePickerElementMouseDown(U,2,1)})("mouseup",function(U){return a.CHM(m),a.oxw(3).onTimePickerElementMouseUp(U)})("keyup.enter",function(U){return a.CHM(m),a.oxw(3).onTimePickerElementMouseUp(U)})("keyup.space",function(U){return a.CHM(m),a.oxw(3).onTimePickerElementMouseUp(U)})("mouseleave",function(){return a.CHM(m),a.oxw(3).onTimePickerElementMouseLeave()}),a._UZ(2,"span",58),a.qZA(),a.TgZ(3,"span"),a.YNc(4,ct,2,0,"ng-container",13),a._uU(5),a.qZA(),a.TgZ(6,"button",57),a.NdJ("keydown",function(U){return a.CHM(m),a.oxw(3).onContainerButtonKeydown(U)})("keydown.enter",function(U){return a.CHM(m),a.oxw(3).decrementSecond(U)})("keydown.space",function(U){return a.CHM(m),a.oxw(3).decrementSecond(U)})("mousedown",function(U){return a.CHM(m),a.oxw(3).onTimePickerElementMouseDown(U,2,-1)})("mouseup",function(U){return a.CHM(m),a.oxw(3).onTimePickerElementMouseUp(U)})("keyup.enter",function(U){return a.CHM(m),a.oxw(3).onTimePickerElementMouseUp(U)})("keyup.space",function(U){return a.CHM(m),a.oxw(3).onTimePickerElementMouseUp(U)})("mouseleave",function(){return a.CHM(m),a.oxw(3).onTimePickerElementMouseLeave()}),a._UZ(7,"span",59),a.qZA()()}if(2&W){const m=a.oxw(3);a.xp6(4),a.Q6J("ngIf",m.currentSecond<10),a.xp6(1),a.Oqu(m.currentSecond)}}function oe(W,O){if(1&W){const m=a.EpF();a.TgZ(0,"div",66)(1,"button",67),a.NdJ("keydown",function(U){return a.CHM(m),a.oxw(3).onContainerButtonKeydown(U)})("click",function(U){return a.CHM(m),a.oxw(3).toggleAMPM(U)})("keydown.enter",function(U){return a.CHM(m),a.oxw(3).toggleAMPM(U)}),a._UZ(2,"span",58),a.qZA(),a.TgZ(3,"span"),a._uU(4),a.qZA(),a.TgZ(5,"button",67),a.NdJ("keydown",function(U){return a.CHM(m),a.oxw(3).onContainerButtonKeydown(U)})("click",function(U){return a.CHM(m),a.oxw(3).toggleAMPM(U)})("keydown.enter",function(U){return a.CHM(m),a.oxw(3).toggleAMPM(U)}),a._UZ(6,"span",59),a.qZA()()}if(2&W){const m=a.oxw(3);a.xp6(4),a.Oqu(m.pm?"PM":"AM")}}function _e(W,O){if(1&W){const m=a.EpF();a.TgZ(0,"div",55)(1,"div",56)(2,"button",57),a.NdJ("keydown",function(U){return a.CHM(m),a.oxw(2).onContainerButtonKeydown(U)})("keydown.enter",function(U){return a.CHM(m),a.oxw(2).incrementHour(U)})("keydown.space",function(U){return a.CHM(m),a.oxw(2).incrementHour(U)})("mousedown",function(U){return a.CHM(m),a.oxw(2).onTimePickerElementMouseDown(U,0,1)})("mouseup",function(U){return a.CHM(m),a.oxw(2).onTimePickerElementMouseUp(U)})("keyup.enter",function(U){return a.CHM(m),a.oxw(2).onTimePickerElementMouseUp(U)})("keyup.space",function(U){return a.CHM(m),a.oxw(2).onTimePickerElementMouseUp(U)})("mouseleave",function(){return a.CHM(m),a.oxw(2).onTimePickerElementMouseLeave()}),a._UZ(3,"span",58),a.qZA(),a.TgZ(4,"span"),a.YNc(5,vt,2,0,"ng-container",13),a._uU(6),a.qZA(),a.TgZ(7,"button",57),a.NdJ("keydown",function(U){return a.CHM(m),a.oxw(2).onContainerButtonKeydown(U)})("keydown.enter",function(U){return a.CHM(m),a.oxw(2).decrementHour(U)})("keydown.space",function(U){return a.CHM(m),a.oxw(2).decrementHour(U)})("mousedown",function(U){return a.CHM(m),a.oxw(2).onTimePickerElementMouseDown(U,0,-1)})("mouseup",function(U){return a.CHM(m),a.oxw(2).onTimePickerElementMouseUp(U)})("keyup.enter",function(U){return a.CHM(m),a.oxw(2).onTimePickerElementMouseUp(U)})("keyup.space",function(U){return a.CHM(m),a.oxw(2).onTimePickerElementMouseUp(U)})("mouseleave",function(){return a.CHM(m),a.oxw(2).onTimePickerElementMouseLeave()}),a._UZ(8,"span",59),a.qZA()(),a.TgZ(9,"div",60)(10,"span"),a._uU(11),a.qZA()(),a.TgZ(12,"div",61)(13,"button",57),a.NdJ("keydown",function(U){return a.CHM(m),a.oxw(2).onContainerButtonKeydown(U)})("keydown.enter",function(U){return a.CHM(m),a.oxw(2).incrementMinute(U)})("keydown.space",function(U){return a.CHM(m),a.oxw(2).incrementMinute(U)})("mousedown",function(U){return a.CHM(m),a.oxw(2).onTimePickerElementMouseDown(U,1,1)})("mouseup",function(U){return a.CHM(m),a.oxw(2).onTimePickerElementMouseUp(U)})("keyup.enter",function(U){return a.CHM(m),a.oxw(2).onTimePickerElementMouseUp(U)})("keyup.space",function(U){return a.CHM(m),a.oxw(2).onTimePickerElementMouseUp(U)})("mouseleave",function(){return a.CHM(m),a.oxw(2).onTimePickerElementMouseLeave()}),a._UZ(14,"span",58),a.qZA(),a.TgZ(15,"span"),a.YNc(16,Ht,2,0,"ng-container",13),a._uU(17),a.qZA(),a.TgZ(18,"button",57),a.NdJ("keydown",function(U){return a.CHM(m),a.oxw(2).onContainerButtonKeydown(U)})("keydown.enter",function(U){return a.CHM(m),a.oxw(2).decrementMinute(U)})("keydown.space",function(U){return a.CHM(m),a.oxw(2).decrementMinute(U)})("mousedown",function(U){return a.CHM(m),a.oxw(2).onTimePickerElementMouseDown(U,1,-1)})("mouseup",function(U){return a.CHM(m),a.oxw(2).onTimePickerElementMouseUp(U)})("keyup.enter",function(U){return a.CHM(m),a.oxw(2).onTimePickerElementMouseUp(U)})("keyup.space",function(U){return a.CHM(m),a.oxw(2).onTimePickerElementMouseUp(U)})("mouseleave",function(){return a.CHM(m),a.oxw(2).onTimePickerElementMouseLeave()}),a._UZ(19,"span",59),a.qZA()(),a.YNc(20,Ye,3,1,"div",62),a.YNc(21,X,8,2,"div",63),a.YNc(22,oe,7,1,"div",64),a.qZA()}if(2&W){const m=a.oxw(2);a.xp6(5),a.Q6J("ngIf",m.currentHour<10),a.xp6(1),a.Oqu(m.currentHour),a.xp6(5),a.Oqu(m.timeSeparator),a.xp6(5),a.Q6J("ngIf",m.currentMinute<10),a.xp6(1),a.Oqu(m.currentMinute),a.xp6(3),a.Q6J("ngIf",m.showSeconds),a.xp6(1),a.Q6J("ngIf",m.showSeconds),a.xp6(1),a.Q6J("ngIf","12"==m.hourFormat)}}const dt=function(W){return[W]};function Tt(W,O){if(1&W){const m=a.EpF();a.TgZ(0,"div",68)(1,"button",69),a.NdJ("keydown",function(U){return a.CHM(m),a.oxw(2).onContainerButtonKeydown(U)})("click",function(U){return a.CHM(m),a.oxw(2).onTodayButtonClick(U)}),a.qZA(),a.TgZ(2,"button",69),a.NdJ("keydown",function(U){return a.CHM(m),a.oxw(2).onContainerButtonKeydown(U)})("click",function(U){return a.CHM(m),a.oxw(2).onClearButtonClick(U)}),a.qZA()()}if(2&W){const m=a.oxw(2);a.xp6(1),a.Q6J("label",m.getTranslation("today"))("ngClass",a.VKq(4,dt,m.todayButtonStyleClass)),a.xp6(1),a.Q6J("label",m.getTranslation("clear"))("ngClass",a.VKq(6,dt,m.clearButtonStyleClass))}}function qt(W,O){1&W&&a.GkF(0)}const nn=function(W,O,m,x,U,Se){return{"p-datepicker p-component":!0,"p-datepicker-inline":W,"p-disabled":O,"p-datepicker-timeonly":m,"p-datepicker-multiple-month":x,"p-datepicker-monthpicker":U,"p-datepicker-touch-ui":Se}},Tn=function(W,O){return{showTransitionParams:W,hideTransitionParams:O}},kn=function(W){return{value:"visibleTouchUI",params:W}},Fn=function(W){return{value:"visible",params:W}};function ii(W,O){if(1&W){const m=a.EpF();a.TgZ(0,"div",10,11),a.NdJ("@overlayAnimation.start",function(U){return a.CHM(m),a.oxw().onOverlayAnimationStart(U)})("@overlayAnimation.done",function(U){return a.CHM(m),a.oxw().onOverlayAnimationDone(U)})("click",function(U){return a.CHM(m),a.oxw().onOverlayClick(U)}),a.Hsn(2),a.YNc(3,jt,1,0,"ng-container",12),a.YNc(4,$e,5,3,"ng-container",13),a.YNc(5,_e,23,8,"div",14),a.YNc(6,Tt,3,8,"div",15),a.Hsn(7,1),a.YNc(8,qt,1,0,"ng-container",12),a.qZA()}if(2&W){const m=a.oxw();a.Tol(m.panelStyleClass),a.Q6J("ngStyle",m.panelStyle)("ngClass",a.HTZ(11,nn,m.inline,m.disabled,m.timeOnly,m.numberOfMonths>1,"month"===m.view,m.touchUI))("@overlayAnimation",m.touchUI?a.VKq(21,kn,a.WLB(18,Tn,m.showTransitionOptions,m.hideTransitionOptions)):a.VKq(26,Fn,a.WLB(23,Tn,m.showTransitionOptions,m.hideTransitionOptions)))("@.disabled",!0===m.inline),a.xp6(3),a.Q6J("ngTemplateOutlet",m.headerTemplate),a.xp6(1),a.Q6J("ngIf",!m.timeOnly),a.xp6(1),a.Q6J("ngIf",(m.showTime||m.timeOnly)&&"date"===m.currentView),a.xp6(1),a.Q6J("ngIf",m.showButtonBar),a.xp6(2),a.Q6J("ngTemplateOutlet",m.footerTemplate)}}const wi=[[["p-header"]],[["p-footer"]]],ri=function(W,O,m,x){return{"p-calendar":!0,"p-calendar-w-btn":W,"p-calendar-timeonly":O,"p-calendar-disabled":m,"p-focus":x}},mn=["p-header","p-footer"],mi={provide:Re.JU,useExisting:(0,a.Gpc)(()=>Sn),multi:!0};let Sn=(()=>{class W{constructor(m,x,U,Se,Me,Ie){this.el=m,this.renderer=x,this.cd=U,this.zone=Se,this.config=Me,this.overlayService=Ie,this.multipleSeparator=",",this.rangeSeparator="-",this.inline=!1,this.showOtherMonths=!0,this.icon="pi pi-calendar",this.shortYearCutoff="+10",this.hourFormat="24",this.stepHour=1,this.stepMinute=1,this.stepSecond=1,this.showSeconds=!1,this.showOnFocus=!0,this.showWeek=!1,this.showClear=!1,this.dataType="date",this.selectionMode="single",this.todayButtonStyleClass="p-button-text",this.clearButtonStyleClass="p-button-text",this.autoZIndex=!0,this.baseZIndex=0,this.keepInvalid=!1,this.hideOnDateTimeSelect=!0,this.timeSeparator=":",this.focusTrap=!0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onFocus=new a.vpe,this.onBlur=new a.vpe,this.onClose=new a.vpe,this.onSelect=new a.vpe,this.onClear=new a.vpe,this.onInput=new a.vpe,this.onTodayClick=new a.vpe,this.onClearClick=new a.vpe,this.onMonthChange=new a.vpe,this.onYearChange=new a.vpe,this.onClickOutside=new a.vpe,this.onShow=new a.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.inputFieldValue=null,this.navigationState=null,this._numberOfMonths=1,this._view="date",this.convertTo24Hour=function(je,It){return"12"==this.hourFormat?12===je?It?12:0:It?je+12:je:je}}set content(m){this.contentViewChild=m,this.contentViewChild&&(this.isMonthNavigate?(Promise.resolve(null).then(()=>this.updateFocus()),this.isMonthNavigate=!1):this.focus||this.initFocusableCell())}get view(){return this._view}set view(m){this._view=m,this.currentView=this._view}get defaultDate(){return this._defaultDate}set defaultDate(m){if(this._defaultDate=m,this.initialized){const x=m||new Date;this.currentMonth=x.getMonth(),this.currentYear=x.getFullYear(),this.initTime(x),this.createMonths(this.currentMonth,this.currentYear)}}get minDate(){return this._minDate}set minDate(m){this._minDate=m,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get maxDate(){return this._maxDate}set maxDate(m){this._maxDate=m,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDates(){return this._disabledDates}set disabledDates(m){this._disabledDates=m,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDays(){return this._disabledDays}set disabledDays(m){this._disabledDays=m,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get yearRange(){return this._yearRange}set yearRange(m){if(this._yearRange=m,m){const x=m.split(":"),U=parseInt(x[0]),Se=parseInt(x[1]);this.populateYearOptions(U,Se)}}get showTime(){return this._showTime}set showTime(m){this._showTime=m,void 0===this.currentHour&&this.initTime(this.value||new Date),this.updateInputfield()}get locale(){return this._locale}get responsiveOptions(){return this._responsiveOptions}set responsiveOptions(m){this._responsiveOptions=m,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get numberOfMonths(){return this._numberOfMonths}set numberOfMonths(m){this._numberOfMonths=m,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get firstDayOfWeek(){return this._firstDayOfWeek}set firstDayOfWeek(m){this._firstDayOfWeek=m,this.createWeekDays()}set locale(m){console.warn("Locale property has no effect, use new i18n API instead.")}ngOnInit(){this.attributeSelector=function lt(){return"pr_id_"+ ++_t}();const m=this.defaultDate||new Date;this.createResponsiveStyle(),this.currentMonth=m.getMonth(),this.currentYear=m.getFullYear(),this.currentView=this.view,"date"===this.view&&(this.createWeekDays(),this.initTime(m),this.createMonths(this.currentMonth,this.currentYear),this.ticksTo1970=24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.createWeekDays()}),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(m=>{switch(m.getType()){case"date":default:this.dateTemplate=m.template;break;case"decade":this.decadeTemplate=m.template;break;case"disabledDate":this.disabledDateTemplate=m.template;break;case"header":this.headerTemplate=m.template;break;case"footer":this.footerTemplate=m.template}})}ngAfterViewInit(){this.inline&&(this.contentViewChild&&this.contentViewChild.nativeElement.setAttribute(this.attributeSelector,""),this.disabled||(this.initFocusableCell(),1===this.numberOfMonths&&(this.contentViewChild.nativeElement.style.width=te.p.getOuterWidth(this.containerViewChild.nativeElement)+"px")))}getTranslation(m){return this.config.getTranslation(m)}populateYearOptions(m,x){this.yearOptions=[];for(let U=m;U<=x;U++)this.yearOptions.push(U)}createWeekDays(){this.weekDays=[];let m=this.getFirstDateOfWeek(),x=this.getTranslation(et.ws.DAY_NAMES_MIN);for(let U=0;U<7;U++)this.weekDays.push(x[m]),m=6==m?0:++m}monthPickerValues(){let m=[];for(let x=0;x<=11;x++)m.push(this.config.getTranslation("monthNamesShort")[x]);return m}yearPickerValues(){let m=[],x=this.currentYear-this.currentYear%10;for(let U=0;U<10;U++)m.push(x+U);return m}createMonths(m,x){this.months=this.months=[];for(let U=0;U<this.numberOfMonths;U++){let Se=m+U,Me=x;Se>11&&(Se=Se%11-1,Me=x+1),this.months.push(this.createMonth(Se,Me))}}getWeekNumber(m){let x=new Date(m.getTime());x.setDate(x.getDate()+4-(x.getDay()||7));let U=x.getTime();return x.setMonth(0),x.setDate(1),Math.floor(Math.round((U-x.getTime())/864e5)/7)+1}createMonth(m,x){let U=[],Se=this.getFirstDayOfMonthIndex(m,x),Me=this.getDaysCountInMonth(m,x),Ie=this.getDaysCountInPrevMonth(m,x),je=1,It=new Date,Et=[],He=Math.ceil((Me+Se)/7);for(let ze=0;ze<He;ze++){let Ve=[];if(0==ze){for(let Gt=Ie-Se+1;Gt<=Ie;Gt++){let Mn=this.getPreviousMonthAndYear(m,x);Ve.push({day:Gt,month:Mn.month,year:Mn.year,otherMonth:!0,today:this.isToday(It,Gt,Mn.month,Mn.year),selectable:this.isSelectable(Gt,Mn.month,Mn.year,!0)})}let pt=7-Ve.length;for(let Gt=0;Gt<pt;Gt++)Ve.push({day:je,month:m,year:x,today:this.isToday(It,je,m,x),selectable:this.isSelectable(je,m,x,!1)}),je++}else for(let pt=0;pt<7;pt++){if(je>Me){let Gt=this.getNextMonthAndYear(m,x);Ve.push({day:je-Me,month:Gt.month,year:Gt.year,otherMonth:!0,today:this.isToday(It,je-Me,Gt.month,Gt.year),selectable:this.isSelectable(je-Me,Gt.month,Gt.year,!0)})}else Ve.push({day:je,month:m,year:x,today:this.isToday(It,je,m,x),selectable:this.isSelectable(je,m,x,!1)});je++}this.showWeek&&Et.push(this.getWeekNumber(new Date(Ve[0].year,Ve[0].month,Ve[0].day))),U.push(Ve)}return{month:m,year:x,dates:U,weekNumbers:Et}}initTime(m){this.pm=m.getHours()>11,this.showTime?(this.currentMinute=m.getMinutes(),this.currentSecond=m.getSeconds(),this.setCurrentHourPM(m.getHours())):this.timeOnly&&(this.currentMinute=0,this.currentHour=0,this.currentSecond=0)}navBackward(m){this.disabled?m.preventDefault():(this.isMonthNavigate=!0,"month"===this.currentView?(this.decrementYear(),setTimeout(()=>{this.updateFocus()},1)):"year"===this.currentView?(this.decrementDecade(),setTimeout(()=>{this.updateFocus()},1)):(0===this.currentMonth?(this.currentMonth=11,this.decrementYear()):this.currentMonth--,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}navForward(m){this.disabled?m.preventDefault():(this.isMonthNavigate=!0,"month"===this.currentView?(this.incrementYear(),setTimeout(()=>{this.updateFocus()},1)):"year"===this.currentView?(this.incrementDecade(),setTimeout(()=>{this.updateFocus()},1)):(11===this.currentMonth?(this.currentMonth=0,this.incrementYear()):this.currentMonth++,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}decrementYear(){if(this.currentYear--,this.yearNavigator&&this.currentYear<this.yearOptions[0]){let m=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]-m,this.yearOptions[this.yearOptions.length-1]-m)}}decrementDecade(){this.currentYear=this.currentYear-10}incrementDecade(){this.currentYear=this.currentYear+10}incrementYear(){if(this.currentYear++,this.yearNavigator&&this.currentYear>this.yearOptions[this.yearOptions.length-1]){let m=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]+m,this.yearOptions[this.yearOptions.length-1]+m)}}switchToMonthView(m){this.setCurrentView("month"),m.preventDefault()}switchToYearView(m){this.setCurrentView("year"),m.preventDefault()}onDateSelect(m,x){!this.disabled&&x.selectable?(this.isMultipleSelection()&&this.isSelected(x)?(this.value=this.value.filter((U,Se)=>!this.isDateEquals(U,x)),0===this.value.length&&(this.value=null),this.updateModel(this.value)):this.shouldSelectDate(x)&&this.selectDate(x),this.isSingleSelection()&&this.hideOnDateTimeSelect&&setTimeout(()=>{m.preventDefault(),this.hideOverlay(),this.mask&&this.disableModality(),this.cd.markForCheck()},150),this.updateInputfield(),m.preventDefault()):m.preventDefault()}shouldSelectDate(m){return!this.isMultipleSelection()||null==this.maxDateCount||this.maxDateCount>(this.value?this.value.length:0)}onMonthSelect(m,x){"month"===this.view?this.onDateSelect(m,{year:this.currentYear,month:x,day:1,selectable:!0}):(this.currentMonth=x,this.createMonths(this.currentMonth,this.currentYear),this.setCurrentView("date"),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}))}onYearSelect(m,x){"year"===this.view?this.onDateSelect(m,{year:x,month:0,day:1,selectable:!0}):(this.currentYear=x,this.setCurrentView("month"),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}))}updateInputfield(){let m="";if(this.value)if(this.isSingleSelection())m=this.formatDateTime(this.value);else if(this.isMultipleSelection())for(let x=0;x<this.value.length;x++)m+=this.formatDateTime(this.value[x]),x!==this.value.length-1&&(m+=this.multipleSeparator+" ");else if(this.isRangeSelection()&&this.value&&this.value.length){let U=this.value[1];m=this.formatDateTime(this.value[0]),U&&(m+=" "+this.rangeSeparator+" "+this.formatDateTime(U))}this.inputFieldValue=m,this.updateFilledState(),this.inputfieldViewChild&&this.inputfieldViewChild.nativeElement&&(this.inputfieldViewChild.nativeElement.value=this.inputFieldValue)}formatDateTime(m){let x=this.keepInvalid?m:null;return this.isValidDate(m)&&(this.timeOnly?x=this.formatTime(m):(x=this.formatDate(m,this.getDateFormat()),this.showTime&&(x+=" "+this.formatTime(m)))),x}setCurrentHourPM(m){"12"==this.hourFormat?(this.pm=m>11,this.currentHour=m>=12?12==m?12:m-12:0==m?12:m):this.currentHour=m}setCurrentView(m){this.currentView=m,this.cd.detectChanges(),this.alignOverlay()}selectDate(m){let x=new Date(m.year,m.month,m.day);if(this.showTime&&(x.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),x.setMinutes(this.currentMinute),x.setSeconds(this.currentSecond)),this.minDate&&this.minDate>x&&(x=this.minDate,this.setCurrentHourPM(x.getHours()),this.currentMinute=x.getMinutes(),this.currentSecond=x.getSeconds()),this.maxDate&&this.maxDate<x&&(x=this.maxDate,this.setCurrentHourPM(x.getHours()),this.currentMinute=x.getMinutes(),this.currentSecond=x.getSeconds()),this.isSingleSelection())this.updateModel(x);else if(this.isMultipleSelection())this.updateModel(this.value?[...this.value,x]:[x]);else if(this.isRangeSelection())if(this.value&&this.value.length){let U=this.value[0],Se=this.value[1];!Se&&x.getTime()>=U.getTime()?Se=x:(U=x,Se=null),this.updateModel([U,Se])}else this.updateModel([x,null]);this.onSelect.emit(x)}updateModel(m){if(this.value=m,"date"==this.dataType)this.onModelChange(this.value);else if("string"==this.dataType)if(this.isSingleSelection())this.onModelChange(this.formatDateTime(this.value));else{let x=null;this.value&&(x=this.value.map(U=>this.formatDateTime(U))),this.onModelChange(x)}}getFirstDayOfMonthIndex(m,x){let U=new Date;U.setDate(1),U.setMonth(m),U.setFullYear(x);let Se=U.getDay()+this.getSundayIndex();return Se>=7?Se-7:Se}getDaysCountInMonth(m,x){return 32-this.daylightSavingAdjust(new Date(x,m,32)).getDate()}getDaysCountInPrevMonth(m,x){let U=this.getPreviousMonthAndYear(m,x);return this.getDaysCountInMonth(U.month,U.year)}getPreviousMonthAndYear(m,x){let U,Se;return 0===m?(U=11,Se=x-1):(U=m-1,Se=x),{month:U,year:Se}}getNextMonthAndYear(m,x){let U,Se;return 11===m?(U=0,Se=x+1):(U=m+1,Se=x),{month:U,year:Se}}getSundayIndex(){let m=this.getFirstDateOfWeek();return m>0?7-m:0}isSelected(m){if(!this.value)return!1;if(this.isSingleSelection())return this.isDateEquals(this.value,m);if(this.isMultipleSelection()){let x=!1;for(let U of this.value)if(x=this.isDateEquals(U,m),x)break;return x}return this.isRangeSelection()?this.value[1]?this.isDateEquals(this.value[0],m)||this.isDateEquals(this.value[1],m)||this.isDateBetween(this.value[0],this.value[1],m):this.isDateEquals(this.value[0],m):void 0}isComparable(){return null!=this.value&&"string"!=typeof this.value}isMonthSelected(m){if(this.isComparable()){let x=this.isRangeSelection()?this.value[0]:this.value;return!this.isMultipleSelection()&&x.getMonth()===m&&x.getFullYear()===this.currentYear}return!1}isYearSelected(m){if(this.isComparable()){let x=this.isRangeSelection()?this.value[0]:this.value;return!this.isMultipleSelection()&&x.getFullYear()===m}return!1}isDateEquals(m,x){return!!(m&&m instanceof Date)&&m.getDate()===x.day&&m.getMonth()===x.month&&m.getFullYear()===x.year}isDateBetween(m,x,U){if(m&&x){let Me=new Date(U.year,U.month,U.day);return m.getTime()<=Me.getTime()&&x.getTime()>=Me.getTime()}return!1}isSingleSelection(){return"single"===this.selectionMode}isRangeSelection(){return"range"===this.selectionMode}isMultipleSelection(){return"multiple"===this.selectionMode}isToday(m,x,U,Se){return m.getDate()===x&&m.getMonth()===U&&m.getFullYear()===Se}isSelectable(m,x,U,Se){let Me=!0,Ie=!0,je=!0,It=!0;return!(Se&&!this.selectOtherMonths)&&(this.minDate&&(this.minDate.getFullYear()>U||this.minDate.getFullYear()===U&&(this.minDate.getMonth()>x||this.minDate.getMonth()===x&&this.minDate.getDate()>m))&&(Me=!1),this.maxDate&&(this.maxDate.getFullYear()<U||this.maxDate.getFullYear()===U&&(this.maxDate.getMonth()<x||this.maxDate.getMonth()===x&&this.maxDate.getDate()<m))&&(Ie=!1),this.disabledDates&&(je=!this.isDateDisabled(m,x,U)),this.disabledDays&&(It=!this.isDayDisabled(m,x,U)),Me&&Ie&&je&&It)}isDateDisabled(m,x,U){if(this.disabledDates)for(let Se of this.disabledDates)if(Se.getFullYear()===U&&Se.getMonth()===x&&Se.getDate()===m)return!0;return!1}isDayDisabled(m,x,U){if(this.disabledDays){let Me=new Date(U,x,m).getDay();return-1!==this.disabledDays.indexOf(Me)}return!1}onInputFocus(m){this.focus=!0,this.showOnFocus&&this.showOverlay(),this.onFocus.emit(m)}onInputClick(){this.showOnFocus&&!this.overlayVisible&&this.showOverlay()}onInputBlur(m){this.focus=!1,this.onBlur.emit(m),this.keepInvalid||this.updateInputfield(),this.onModelTouched()}onButtonClick(m,x){this.overlayVisible?this.hideOverlay():(x.focus(),this.showOverlay())}clear(){this.inputFieldValue=null,this.value=null,this.onModelChange(this.value),this.onClear.emit()}onOverlayClick(m){this.overlayService.add({originalEvent:m,target:this.el.nativeElement})}getMonthName(m){return this.config.getTranslation("monthNames")[m]}getYear(m){return"month"===this.currentView?this.currentYear:m.year}switchViewButtonDisabled(){return this.numberOfMonths>1||this.disabled}onPrevButtonClick(m){this.navigationState={backward:!0,button:!0},this.navBackward(m)}onNextButtonClick(m){this.navigationState={backward:!1,button:!0},this.navForward(m)}onContainerButtonKeydown(m){switch(m.which){case 9:this.inline||this.trapFocus(m);break;case 27:this.overlayVisible=!1,m.preventDefault()}}onInputKeydown(m){this.isKeydown=!0,40===m.keyCode&&this.contentViewChild?this.trapFocus(m):27===m.keyCode||13===m.keyCode?this.overlayVisible&&(this.overlayVisible=!1,m.preventDefault()):9===m.keyCode&&this.contentViewChild&&(te.p.getFocusableElements(this.contentViewChild.nativeElement).forEach(x=>x.tabIndex="-1"),this.overlayVisible&&(this.overlayVisible=!1))}onDateCellKeydown(m,x,U){const Se=m.currentTarget,Me=Se.parentElement;switch(m.which){case 40:{Se.tabIndex="-1";let Ie=te.p.index(Me),je=Me.parentElement.nextElementSibling;je?te.p.hasClass(je.children[Ie].children[0],"p-disabled")?(this.navigationState={backward:!1},this.navForward(m)):(je.children[Ie].children[0].tabIndex="0",je.children[Ie].children[0].focus()):(this.navigationState={backward:!1},this.navForward(m)),m.preventDefault();break}case 38:{Se.tabIndex="-1";let Ie=te.p.index(Me),je=Me.parentElement.previousElementSibling;if(je){let It=je.children[Ie].children[0];te.p.hasClass(It,"p-disabled")?(this.navigationState={backward:!0},this.navBackward(m)):(It.tabIndex="0",It.focus())}else this.navigationState={backward:!0},this.navBackward(m);m.preventDefault();break}case 37:{Se.tabIndex="-1";let Ie=Me.previousElementSibling;if(Ie){let je=Ie.children[0];te.p.hasClass(je,"p-disabled")||te.p.hasClass(je.parentElement,"p-datepicker-weeknumber")?this.navigateToMonth(!0,U):(je.tabIndex="0",je.focus())}else this.navigateToMonth(!0,U);m.preventDefault();break}case 39:{Se.tabIndex="-1";let Ie=Me.nextElementSibling;if(Ie){let je=Ie.children[0];te.p.hasClass(je,"p-disabled")?this.navigateToMonth(!1,U):(je.tabIndex="0",je.focus())}else this.navigateToMonth(!1,U);m.preventDefault();break}case 13:case 32:this.onDateSelect(m,x),m.preventDefault();break;case 27:this.overlayVisible=!1,m.preventDefault();break;case 9:this.inline||this.trapFocus(m)}}onMonthCellKeydown(m,x){const U=m.currentTarget;switch(m.which){case 38:case 40:{U.tabIndex="-1";var Se=U.parentElement.children,Me=te.p.index(U);let Ie=Se[40===m.which?Me+3:Me-3];Ie&&(Ie.tabIndex="0",Ie.focus()),m.preventDefault();break}case 37:{U.tabIndex="-1";let Ie=U.previousElementSibling;Ie?(Ie.tabIndex="0",Ie.focus()):(this.navigationState={backward:!0},this.navBackward(m)),m.preventDefault();break}case 39:{U.tabIndex="-1";let Ie=U.nextElementSibling;Ie?(Ie.tabIndex="0",Ie.focus()):(this.navigationState={backward:!1},this.navForward(m)),m.preventDefault();break}case 13:this.onMonthSelect(m,x),m.preventDefault();break;case 13:case 32:case 27:this.overlayVisible=!1,m.preventDefault();break;case 9:this.inline||this.trapFocus(m)}}onYearCellKeydown(m,x){const U=m.currentTarget;switch(m.which){case 38:case 40:{U.tabIndex="-1";var Se=U.parentElement.children,Me=te.p.index(U);let Ie=Se[40===m.which?Me+2:Me-2];Ie&&(Ie.tabIndex="0",Ie.focus()),m.preventDefault();break}case 37:{U.tabIndex="-1";let Ie=U.previousElementSibling;Ie?(Ie.tabIndex="0",Ie.focus()):(this.navigationState={backward:!0},this.navBackward(m)),m.preventDefault();break}case 39:{U.tabIndex="-1";let Ie=U.nextElementSibling;Ie?(Ie.tabIndex="0",Ie.focus()):(this.navigationState={backward:!1},this.navForward(m)),m.preventDefault();break}case 13:case 32:this.onYearSelect(m,x),m.preventDefault();break;case 27:this.overlayVisible=!1,m.preventDefault();break;case 9:this.trapFocus(m)}}navigateToMonth(m,x){if(m)if(1===this.numberOfMonths||0===x)this.navigationState={backward:!0},this.navBackward(event);else{let Se=te.p.find(this.contentViewChild.nativeElement.children[x-1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),Me=Se[Se.length-1];Me.tabIndex="0",Me.focus()}else if(1===this.numberOfMonths||x===this.numberOfMonths-1)this.navigationState={backward:!1},this.navForward(event);else{let Se=te.p.findSingle(this.contentViewChild.nativeElement.children[x+1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");Se.tabIndex="0",Se.focus()}}updateFocus(){let m;if(this.navigationState){if(this.navigationState.button)this.initFocusableCell(),this.navigationState.backward?te.p.findSingle(this.contentViewChild.nativeElement,".p-datepicker-prev").focus():te.p.findSingle(this.contentViewChild.nativeElement,".p-datepicker-next").focus();else{if(this.navigationState.backward){let x;x=te.p.find(this.contentViewChild.nativeElement,"month"===this.currentView?".p-monthpicker .p-monthpicker-month:not(.p-disabled)":"year"===this.currentView?".p-yearpicker .p-yearpicker-year:not(.p-disabled)":".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),x&&x.length>0&&(m=x[x.length-1])}else m=te.p.findSingle(this.contentViewChild.nativeElement,"month"===this.currentView?".p-monthpicker .p-monthpicker-month:not(.p-disabled)":"year"===this.currentView?".p-yearpicker .p-yearpicker-year:not(.p-disabled)":".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");m&&(m.tabIndex="0",m.focus())}this.navigationState=null}else this.initFocusableCell()}initFocusableCell(){let m;if("month"===this.currentView){let x=te.p.find(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"),U=te.p.findSingle(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month.p-highlight");x.forEach(Se=>Se.tabIndex=-1),m=U||x[0],0===x.length&&te.p.find(this.contentViewChild.nativeElement,'.p-monthpicker .p-monthpicker-month.p-disabled[tabindex = "0"]').forEach(Me=>Me.tabIndex=-1)}else if("year"===this.currentView){let x=te.p.find(this.contentViewChild.nativeElement,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"),U=te.p.findSingle(this.contentViewChild.nativeElement,".p-yearpicker .p-yearpicker-year.p-highlight");x.forEach(Se=>Se.tabIndex=-1),m=U||x[0],0===x.length&&te.p.find(this.contentViewChild.nativeElement,'.p-yearpicker .p-yearpicker-year.p-disabled[tabindex = "0"]').forEach(Me=>Me.tabIndex=-1)}else if(m=te.p.findSingle(this.contentViewChild.nativeElement,"span.p-highlight"),!m){let x=te.p.findSingle(this.contentViewChild.nativeElement,"td.p-datepicker-today span:not(.p-disabled):not(.p-ink)");m=x||te.p.findSingle(this.contentViewChild.nativeElement,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)")}m&&(m.tabIndex="0",!this.preventFocus&&(!this.navigationState||!this.navigationState.button)&&setTimeout(()=>{m.focus()},1),this.preventFocus=!1)}trapFocus(m){let x=te.p.getFocusableElements(this.contentViewChild.nativeElement);if(x&&x.length>0)if(x[0].ownerDocument.activeElement){let U=x.indexOf(x[0].ownerDocument.activeElement);if(m.shiftKey)if(-1==U||0===U)if(this.focusTrap)x[x.length-1].focus();else{if(-1===U)return this.hideOverlay();if(0===U)return}else x[U-1].focus();else if(-1==U||U===x.length-1){if(!this.focusTrap&&-1!=U)return this.hideOverlay();x[0].focus()}else x[U+1].focus()}else x[0].focus();m.preventDefault()}onMonthDropdownChange(m){this.currentMonth=parseInt(m),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}onYearDropdownChange(m){this.currentYear=parseInt(m),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}validateTime(m,x,U,Se){let Me=this.value;const Ie=this.convertTo24Hour(m,Se);this.isRangeSelection()&&(Me=this.value[1]||this.value[0]),this.isMultipleSelection()&&(Me=this.value[this.value.length-1]);const je=Me?Me.toDateString():null;return!(this.minDate&&je&&this.minDate.toDateString()===je&&(this.minDate.getHours()>Ie||this.minDate.getHours()===Ie&&(this.minDate.getMinutes()>x||this.minDate.getMinutes()===x&&this.minDate.getSeconds()>U))||this.maxDate&&je&&this.maxDate.toDateString()===je&&(this.maxDate.getHours()<Ie||this.maxDate.getHours()===Ie&&(this.maxDate.getMinutes()<x||this.maxDate.getMinutes()===x&&this.maxDate.getSeconds()<U)))}incrementHour(m){let U=this.currentHour+this.stepHour,Se=this.pm;"24"==this.hourFormat?U=U>=24?U-24:U:"12"==this.hourFormat&&(this.currentHour<12&&U>11&&(Se=!this.pm),U=U>=13?U-12:U),this.validateTime(U,this.currentMinute,this.currentSecond,Se)&&(this.currentHour=U,this.pm=Se),m.preventDefault()}onTimePickerElementMouseDown(m,x,U){this.disabled||(this.repeat(m,null,x,U),m.preventDefault())}onTimePickerElementMouseUp(m){this.disabled||(this.clearTimePickerTimer(),this.updateTime())}onTimePickerElementMouseLeave(){!this.disabled&&this.timePickerTimer&&(this.clearTimePickerTimer(),this.updateTime())}repeat(m,x,U,Se){let Me=x||500;switch(this.clearTimePickerTimer(),this.timePickerTimer=setTimeout(()=>{this.repeat(m,100,U,Se),this.cd.markForCheck()},Me),U){case 0:1===Se?this.incrementHour(m):this.decrementHour(m);break;case 1:1===Se?this.incrementMinute(m):this.decrementMinute(m);break;case 2:1===Se?this.incrementSecond(m):this.decrementSecond(m)}this.updateInputfield()}clearTimePickerTimer(){this.timePickerTimer&&(clearTimeout(this.timePickerTimer),this.timePickerTimer=null)}decrementHour(m){let x=this.currentHour-this.stepHour,U=this.pm;"24"==this.hourFormat?x=x<0?24+x:x:"12"==this.hourFormat&&(12===this.currentHour&&(U=!this.pm),x=x<=0?12+x:x),this.validateTime(x,this.currentMinute,this.currentSecond,U)&&(this.currentHour=x,this.pm=U),m.preventDefault()}incrementMinute(m){let x=this.currentMinute+this.stepMinute;x=x>59?x-60:x,this.validateTime(this.currentHour,x,this.currentSecond,this.pm)&&(this.currentMinute=x),m.preventDefault()}decrementMinute(m){let x=this.currentMinute-this.stepMinute;x=x<0?60+x:x,this.validateTime(this.currentHour,x,this.currentSecond,this.pm)&&(this.currentMinute=x),m.preventDefault()}incrementSecond(m){let x=this.currentSecond+this.stepSecond;x=x>59?x-60:x,this.validateTime(this.currentHour,this.currentMinute,x,this.pm)&&(this.currentSecond=x),m.preventDefault()}decrementSecond(m){let x=this.currentSecond-this.stepSecond;x=x<0?60+x:x,this.validateTime(this.currentHour,this.currentMinute,x,this.pm)&&(this.currentSecond=x),m.preventDefault()}updateTime(){let m=this.value;this.isRangeSelection()&&(m=this.value[1]||this.value[0]),this.isMultipleSelection()&&(m=this.value[this.value.length-1]),m=m?new Date(m.getTime()):new Date,m.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),m.setMinutes(this.currentMinute),m.setSeconds(this.currentSecond),this.isRangeSelection()&&(m=this.value[1]?[this.value[0],m]:[m,null]),this.isMultipleSelection()&&(m=[...this.value.slice(0,-1),m]),this.updateModel(m),this.onSelect.emit(m),this.updateInputfield()}toggleAMPM(m){const x=!this.pm;this.validateTime(this.currentHour,this.currentMinute,this.currentSecond,x)&&(this.pm=x,this.updateTime()),m.preventDefault()}onUserInput(m){if(!this.isKeydown)return;this.isKeydown=!1;let x=m.target.value;try{let U=this.parseValueFromString(x);this.isValidSelection(U)&&(this.updateModel(U),this.updateUI())}catch(U){this.updateModel(this.keepInvalid?x:null)}this.filled=null!=x&&x.length,this.onInput.emit(m)}isValidSelection(m){let x=!0;return this.isSingleSelection()?this.isSelectable(m.getDate(),m.getMonth(),m.getFullYear(),!1)||(x=!1):m.every(U=>this.isSelectable(U.getDate(),U.getMonth(),U.getFullYear(),!1))&&this.isRangeSelection()&&(x=m.length>1&&m[1]>m[0]),x}parseValueFromString(m){if(!m||0===m.trim().length)return null;let x;if(this.isSingleSelection())x=this.parseDateTime(m);else if(this.isMultipleSelection()){let U=m.split(this.multipleSeparator);x=[];for(let Se of U)x.push(this.parseDateTime(Se.trim()))}else if(this.isRangeSelection()){let U=m.split(" "+this.rangeSeparator+" ");x=[];for(let Se=0;Se<U.length;Se++)x[Se]=this.parseDateTime(U[Se].trim())}return x}parseDateTime(m){let x,U=m.split(" ");if(this.timeOnly)x=new Date,this.populateTime(x,U[0],U[1]);else{const Se=this.getDateFormat();if(this.showTime){let Me="12"==this.hourFormat?U.pop():null,Ie=U.pop();x=this.parseDate(U.join(" "),Se),this.populateTime(x,Ie,Me)}else x=this.parseDate(m,Se)}return x}populateTime(m,x,U){if("12"==this.hourFormat&&!U)throw"Invalid Time";this.pm="PM"===U||"pm"===U;let Se=this.parseTime(x);m.setHours(Se.hour),m.setMinutes(Se.minute),m.setSeconds(Se.second)}isValidDate(m){return m instanceof Date&&class Ke{static equals(O,m,x){return x?this.resolveFieldData(O,x)===this.resolveFieldData(m,x):this.equalsByValue(O,m)}static equalsByValue(O,m){if(O===m)return!0;if(O&&m&&"object"==typeof O&&"object"==typeof m){var Se,Me,Ie,x=Array.isArray(O),U=Array.isArray(m);if(x&&U){if((Me=O.length)!=m.length)return!1;for(Se=Me;0!=Se--;)if(!this.equalsByValue(O[Se],m[Se]))return!1;return!0}if(x!=U)return!1;var je=O instanceof Date,It=m instanceof Date;if(je!=It)return!1;if(je&&It)return O.getTime()==m.getTime();var Et=O instanceof RegExp,He=m instanceof RegExp;if(Et!=He)return!1;if(Et&&He)return O.toString()==m.toString();var ze=Object.keys(O);if((Me=ze.length)!==Object.keys(m).length)return!1;for(Se=Me;0!=Se--;)if(!Object.prototype.hasOwnProperty.call(m,ze[Se]))return!1;for(Se=Me;0!=Se--;)if(!this.equalsByValue(O[Ie=ze[Se]],m[Ie]))return!1;return!0}return O!=O&&m!=m}static resolveFieldData(O,m){if(O&&m){if(this.isFunction(m))return m(O);if(-1==m.indexOf("."))return O[m];{let x=m.split("."),U=O;for(let Se=0,Me=x.length;Se<Me;++Se){if(null==U)return null;U=U[x[Se]]}return U}}return null}static isFunction(O){return!!(O&&O.constructor&&O.call&&O.apply)}static reorderArray(O,m,x){O&&m!==x&&(x>=O.length&&(x%=O.length,m%=O.length),O.splice(x,0,O.splice(m,1)[0]))}static insertIntoOrderedArray(O,m,x,U){if(x.length>0){let Se=!1;for(let Me=0;Me<x.length;Me++)if(this.findIndexInList(x[Me],U)>m){x.splice(Me,0,O),Se=!0;break}Se||x.push(O)}else x.push(O)}static findIndexInList(O,m){let x=-1;if(m)for(let U=0;U<m.length;U++)if(m[U]==O){x=U;break}return x}static contains(O,m){if(null!=O&&m&&m.length)for(let x of m)if(this.equals(O,x))return!0;return!1}static removeAccents(O){return O&&O.search(/[\xC0-\xFF]/g)>-1&&(O=O.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),O}static isEmpty(O){return null==O||""===O||Array.isArray(O)&&0===O.length||!(O instanceof Date)&&"object"==typeof O&&0===Object.keys(O).length}static isNotEmpty(O){return!this.isEmpty(O)}}.isNotEmpty(m)}updateUI(){let m=this.value;Array.isArray(m)&&(m=m[0]);let x=this.defaultDate&&this.isValidDate(this.defaultDate)&&!this.value?this.defaultDate:m&&this.isValidDate(m)?m:new Date;this.currentMonth=x.getMonth(),this.currentYear=x.getFullYear(),this.createMonths(this.currentMonth,this.currentYear),(this.showTime||this.timeOnly)&&(this.setCurrentHourPM(x.getHours()),this.currentMinute=x.getMinutes(),this.currentSecond=x.getSeconds())}showOverlay(){this.overlayVisible||(this.updateUI(),this.touchUI||(this.preventFocus=!0),this.overlayVisible=!0)}hideOverlay(){this.overlayVisible=!1,this.clearTimePickerTimer(),this.touchUI&&this.disableModality(),this.cd.markForCheck()}toggle(){this.inline||(this.overlayVisible?this.hideOverlay():(this.showOverlay(),this.inputfieldViewChild.nativeElement.focus()))}onOverlayAnimationStart(m){switch(m.toState){case"visible":case"visibleTouchUI":this.inline||(this.overlay=m.element,this.overlay.setAttribute(this.attributeSelector,""),this.appendOverlay(),this.updateFocus(),this.autoZIndex&&(this.touchUI?me.set("modal",this.overlay,this.baseZIndex||this.config.zIndex.modal):me.set("overlay",this.overlay,this.baseZIndex||this.config.zIndex.overlay)),this.alignOverlay(),this.onShow.emit(m));break;case"void":this.onOverlayHide(),this.onClose.emit(m)}}onOverlayAnimationDone(m){switch(m.toState){case"visible":case"visibleTouchUI":this.inline||(this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.autoZIndex&&me.clear(m.element)}}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):te.p.appendChild(this.overlay,this.appendTo))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.touchUI?this.enableModality(this.overlay):this.overlay&&(this.appendTo?("date"===this.view?(this.overlay.style.width=te.p.getOuterWidth(this.overlay)+"px",this.overlay.style.minWidth=te.p.getOuterWidth(this.inputfieldViewChild.nativeElement)+"px"):this.overlay.style.width=te.p.getOuterWidth(this.inputfieldViewChild.nativeElement)+"px",te.p.absolutePosition(this.overlay,this.inputfieldViewChild.nativeElement)):te.p.relativePosition(this.overlay,this.inputfieldViewChild.nativeElement))}enableModality(m){this.mask||(this.mask=document.createElement("div"),this.mask.style.zIndex=String(parseInt(m.style.zIndex)-1),te.p.addMultipleClasses(this.mask,"p-component-overlay p-datepicker-mask p-datepicker-mask-scrollblocker p-component-overlay p-component-overlay-enter"),this.maskClickListener=this.renderer.listen(this.mask,"click",U=>{this.disableModality()}),document.body.appendChild(this.mask),te.p.addClass(document.body,"p-overflow-hidden"))}disableModality(){this.mask&&(te.p.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener=this.destroyMask.bind(this),this.mask.addEventListener("animationend",this.animationEndListener))}destroyMask(){document.body.removeChild(this.mask);let x,m=document.body.children;for(let U=0;U<m.length;U++)if(te.p.hasClass(m[U],"p-datepicker-mask-scrollblocker")){x=!0;break}x||te.p.removeClass(document.body,"p-overflow-hidden"),this.unbindAnimationEndListener(),this.unbindMaskClickListener(),this.mask=null}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.mask.removeEventListener("animationend",this.animationEndListener),this.animationEndListener=null)}writeValue(m){if(this.value=m,this.value&&"string"==typeof this.value)try{this.value=this.parseValueFromString(this.value)}catch(x){this.keepInvalid&&(this.value=m)}this.updateInputfield(),this.updateUI(),this.cd.markForCheck()}registerOnChange(m){this.onModelChange=m}registerOnTouched(m){this.onModelTouched=m}setDisabledState(m){this.disabled=m,this.cd.markForCheck()}getDateFormat(){return this.dateFormat||this.getTranslation("dateFormat")}getFirstDateOfWeek(){return this._firstDayOfWeek||this.getTranslation(et.ws.FIRST_DAY_OF_WEEK)}formatDate(m,x){if(!m)return"";let U;const Se=Et=>{const He=U+1<x.length&&x.charAt(U+1)===Et;return He&&U++,He},Me=(Et,He,ze)=>{let Ve=""+He;if(Se(Et))for(;Ve.length<ze;)Ve="0"+Ve;return Ve},Ie=(Et,He,ze,Ve)=>Se(Et)?Ve[He]:ze[He];let je="",It=!1;if(m)for(U=0;U<x.length;U++)if(It)"'"!==x.charAt(U)||Se("'")?je+=x.charAt(U):It=!1;else switch(x.charAt(U)){case"d":je+=Me("d",m.getDate(),2);break;case"D":je+=Ie("D",m.getDay(),this.getTranslation(et.ws.DAY_NAMES_SHORT),this.getTranslation(et.ws.DAY_NAMES));break;case"o":je+=Me("o",Math.round((new Date(m.getFullYear(),m.getMonth(),m.getDate()).getTime()-new Date(m.getFullYear(),0,0).getTime())/864e5),3);break;case"m":je+=Me("m",m.getMonth()+1,2);break;case"M":je+=Ie("M",m.getMonth(),this.getTranslation(et.ws.MONTH_NAMES_SHORT),this.getTranslation(et.ws.MONTH_NAMES));break;case"y":je+=Se("y")?m.getFullYear():(m.getFullYear()%100<10?"0":"")+m.getFullYear()%100;break;case"@":je+=m.getTime();break;case"!":je+=1e4*m.getTime()+this.ticksTo1970;break;case"'":Se("'")?je+="'":It=!0;break;default:je+=x.charAt(U)}return je}formatTime(m){if(!m)return"";let x="",U=m.getHours(),Se=m.getMinutes(),Me=m.getSeconds();return"12"==this.hourFormat&&U>11&&12!=U&&(U-=12),x+="12"==this.hourFormat&&0===U?12:U<10?"0"+U:U,x+=":",x+=Se<10?"0"+Se:Se,this.showSeconds&&(x+=":",x+=Me<10?"0"+Me:Me),"12"==this.hourFormat&&(x+=m.getHours()>11?" PM":" AM"),x}parseTime(m){let x=m.split(":");if(x.length!==(this.showSeconds?3:2))throw"Invalid time";let Se=parseInt(x[0]),Me=parseInt(x[1]),Ie=this.showSeconds?parseInt(x[2]):null;if(isNaN(Se)||isNaN(Me)||Se>23||Me>59||"12"==this.hourFormat&&Se>12||this.showSeconds&&(isNaN(Ie)||Ie>59))throw"Invalid time";return"12"==this.hourFormat&&(12!==Se&&this.pm?Se+=12:!this.pm&&12===Se&&(Se-=12)),{hour:Se,minute:Me,second:Ie}}parseDate(m,x){if(null==x||null==m)throw"Invalid arguments";if(""===(m="object"==typeof m?m.toString():m+""))return null;let U,Se,Me,pt,Ie=0,je="string"!=typeof this.shortYearCutoff?this.shortYearCutoff:(new Date).getFullYear()%100+parseInt(this.shortYearCutoff,10),It=-1,Et=-1,He=-1,ze=-1,Ve=!1,Gt=Di=>{let Vi=U+1<x.length&&x.charAt(U+1)===Di;return Vi&&U++,Vi},Mn=Di=>{let Vi=Gt(Di),Bi="@"===Di?14:"!"===Di?20:"y"===Di&&Vi?4:"o"===Di?3:2,Yi=new RegExp("^\\d{"+("y"===Di?Bi:1)+","+Bi+"}"),Ji=m.substring(Ie).match(Yi);if(!Ji)throw"Missing number at position "+Ie;return Ie+=Ji[0].length,parseInt(Ji[0],10)},En=(Di,Vi,Bi)=>{let nr=-1,Yi=Gt(Di)?Bi:Vi,Ji=[];for(let Te=0;Te<Yi.length;Te++)Ji.push([Te,Yi[Te]]);Ji.sort((Te,Ne)=>-(Te[1].length-Ne[1].length));for(let Te=0;Te<Ji.length;Te++){let Ne=Ji[Te][1];if(m.substr(Ie,Ne.length).toLowerCase()===Ne.toLowerCase()){nr=Ji[Te][0],Ie+=Ne.length;break}}if(-1!==nr)return nr+1;throw"Unknown name at position "+Ie},gi=()=>{if(m.charAt(Ie)!==x.charAt(U))throw"Unexpected literal at position "+Ie;Ie++};for("month"===this.view&&(He=1),U=0;U<x.length;U++)if(Ve)"'"!==x.charAt(U)||Gt("'")?gi():Ve=!1;else switch(x.charAt(U)){case"d":He=Mn("d");break;case"D":En("D",this.getTranslation(et.ws.DAY_NAMES_SHORT),this.getTranslation(et.ws.DAY_NAMES));break;case"o":ze=Mn("o");break;case"m":Et=Mn("m");break;case"M":Et=En("M",this.getTranslation(et.ws.MONTH_NAMES_SHORT),this.getTranslation(et.ws.MONTH_NAMES));break;case"y":It=Mn("y");break;case"@":pt=new Date(Mn("@")),It=pt.getFullYear(),Et=pt.getMonth()+1,He=pt.getDate();break;case"!":pt=new Date((Mn("!")-this.ticksTo1970)/1e4),It=pt.getFullYear(),Et=pt.getMonth()+1,He=pt.getDate();break;case"'":Gt("'")?gi():Ve=!0;break;default:gi()}if(Ie<m.length&&(Me=m.substr(Ie),!/^\s+/.test(Me)))throw"Extra/unparsed characters found in date: "+Me;if(-1===It?It=(new Date).getFullYear():It<100&&(It+=(new Date).getFullYear()-(new Date).getFullYear()%100+(It<=je?0:-100)),ze>-1)for(Et=1,He=ze;Se=this.getDaysCountInMonth(It,Et-1),!(He<=Se);)Et++,He-=Se;if(pt=this.daylightSavingAdjust(new Date(It,Et-1,He)),pt.getFullYear()!==It||pt.getMonth()+1!==Et||pt.getDate()!==He)throw"Invalid date";return pt}daylightSavingAdjust(m){return m?(m.setHours(m.getHours()>12?m.getHours()+2:0),m):null}updateFilledState(){this.filled=this.inputFieldValue&&""!=this.inputFieldValue}onTodayButtonClick(m){let x=new Date,U={day:x.getDate(),month:x.getMonth(),year:x.getFullYear(),otherMonth:x.getMonth()!==this.currentMonth||x.getFullYear()!==this.currentYear,today:!0,selectable:!0};this.onDateSelect(m,U),this.onTodayClick.emit(m)}onClearButtonClick(m){this.updateModel(null),this.updateInputfield(),this.hideOverlay(),this.onClearClick.emit(m)}createResponsiveStyle(){if(this.numberOfMonths>1&&this.responsiveOptions){this.responsiveStyleElement||(this.responsiveStyleElement=document.createElement("style"),this.responsiveStyleElement.type="text/css",document.body.appendChild(this.responsiveStyleElement));let m="";if(this.responsiveOptions){let x=[...this.responsiveOptions].filter(U=>!(!U.breakpoint||!U.numMonths)).sort((U,Se)=>-1*U.breakpoint.localeCompare(Se.breakpoint,void 0,{numeric:!0}));for(let U=0;U<x.length;U++){let{breakpoint:Se,numMonths:Me}=x[U],Ie=`\n                        .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${Me}) .p-datepicker-next {\n                            display: inline-flex !important;\n                        }\n                    `;for(let je=Me;je<this.numberOfMonths;je++)Ie+=`\n                            .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${je+1}) {\n                                display: none !important;\n                            }\n                        `;m+=`\n                        @media screen and (max-width: ${Se}) {\n                            ${Ie}\n                        }\n                    `}}this.responsiveStyleElement.innerHTML=m}}destroyResponsiveStyleElement(){this.responsiveStyleElement&&(this.responsiveStyleElement.remove(),this.responsiveStyleElement=null)}bindDocumentClickListener(){this.documentClickListener||this.zone.runOutsideAngular(()=>{this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","mousedown",x=>{this.isOutsideClicked(x)&&this.overlayVisible&&this.zone.run(()=>{this.hideOverlay(),this.onClickOutside.emit(x),this.cd.markForCheck()})})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){!this.documentResizeListener&&!this.touchUI&&(this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener))}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new te.V(this.containerViewChild.nativeElement,()=>{this.overlayVisible&&this.hideOverlay()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}isOutsideClicked(m){return!(this.el.nativeElement.isSameNode(m.target)||this.isNavIconClicked(m)||this.el.nativeElement.contains(m.target)||this.overlay&&this.overlay.contains(m.target))}isNavIconClicked(m){return te.p.hasClass(m.target,"p-datepicker-prev")||te.p.hasClass(m.target,"p-datepicker-prev-icon")||te.p.hasClass(m.target,"p-datepicker-next")||te.p.hasClass(m.target,"p-datepicker-next-icon")}onWindowResize(){this.overlayVisible&&!te.p.isAndroid()&&this.hideOverlay()}onOverlayHide(){this.currentView=this.view,this.mask&&this.destroyMask(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.overlay&&this.autoZIndex&&me.clear(this.overlay),this.destroyResponsiveStyleElement(),this.clearTimePickerTimer(),this.restoreOverlayAppend(),this.onOverlayHide()}}return W.\u0275fac=function(m){return new(m||W)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(a.sBO),a.Y36(a.R0b),a.Y36(et.b4),a.Y36(et.F0))},W.\u0275cmp=a.Xpm({type:W,selectors:[["p-calendar"]],contentQueries:function(m,x,U){if(1&m&&a.Suo(U,et.jx,4),2&m){let Se;a.iGM(Se=a.CRH())&&(x.templates=Se)}},viewQuery:function(m,x){if(1&m&&(a.Gf(Ce,5),a.Gf(Be,5),a.Gf(Ge,5)),2&m){let U;a.iGM(U=a.CRH())&&(x.containerViewChild=U.first),a.iGM(U=a.CRH())&&(x.inputfieldViewChild=U.first),a.iGM(U=a.CRH())&&(x.content=U.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(m,x){2&m&&a.ekj("p-inputwrapper-filled",x.filled)("p-inputwrapper-focus",x.focus)("p-calendar-clearable",x.showClear&&!x.disabled)},inputs:{style:"style",styleClass:"styleClass",inputStyle:"inputStyle",inputId:"inputId",name:"name",inputStyleClass:"inputStyleClass",placeholder:"placeholder",ariaLabelledBy:"ariaLabelledBy",iconAriaLabel:"iconAriaLabel",disabled:"disabled",dateFormat:"dateFormat",multipleSeparator:"multipleSeparator",rangeSeparator:"rangeSeparator",inline:"inline",showOtherMonths:"showOtherMonths",selectOtherMonths:"selectOtherMonths",showIcon:"showIcon",icon:"icon",appendTo:"appendTo",readonlyInput:"readonlyInput",shortYearCutoff:"shortYearCutoff",monthNavigator:"monthNavigator",yearNavigator:"yearNavigator",hourFormat:"hourFormat",timeOnly:"timeOnly",stepHour:"stepHour",stepMinute:"stepMinute",stepSecond:"stepSecond",showSeconds:"showSeconds",required:"required",showOnFocus:"showOnFocus",showWeek:"showWeek",showClear:"showClear",dataType:"dataType",selectionMode:"selectionMode",maxDateCount:"maxDateCount",showButtonBar:"showButtonBar",todayButtonStyleClass:"todayButtonStyleClass",clearButtonStyleClass:"clearButtonStyleClass",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",panelStyleClass:"panelStyleClass",panelStyle:"panelStyle",keepInvalid:"keepInvalid",hideOnDateTimeSelect:"hideOnDateTimeSelect",touchUI:"touchUI",timeSeparator:"timeSeparator",focusTrap:"focusTrap",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",tabindex:"tabindex",view:"view",defaultDate:"defaultDate",minDate:"minDate",maxDate:"maxDate",disabledDates:"disabledDates",disabledDays:"disabledDays",yearRange:"yearRange",showTime:"showTime",responsiveOptions:"responsiveOptions",numberOfMonths:"numberOfMonths",firstDayOfWeek:"firstDayOfWeek",locale:"locale"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClose:"onClose",onSelect:"onSelect",onClear:"onClear",onInput:"onInput",onTodayClick:"onTodayClick",onClearClick:"onClearClick",onMonthChange:"onMonthChange",onYearChange:"onYearChange",onClickOutside:"onClickOutside",onShow:"onShow"},features:[a._Bn([mi])],ngContentSelectors:mn,decls:4,vars:11,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"ngIf"],[3,"class","ngStyle","ngClass","click",4,"ngIf"],["type","text","autocomplete","off",3,"value","readonly","ngStyle","placeholder","disabled","ngClass","focus","keydown","click","blur","input"],["inputfield",""],["class","p-calendar-clear-icon pi pi-times",3,"click",4,"ngIf"],["type","button","pButton","","pRipple","","class","p-datepicker-trigger","tabindex","0",3,"icon","disabled","click",4,"ngIf"],[1,"p-calendar-clear-icon","pi","pi-times",3,"click"],["type","button","pButton","","pRipple","","tabindex","0",1,"p-datepicker-trigger",3,"icon","disabled","click"],[3,"ngStyle","ngClass","click"],["contentWrapper",""],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-timepicker",4,"ngIf"],["class","p-datepicker-buttonbar",4,"ngIf"],[1,"p-datepicker-group-container"],["class","p-datepicker-group",4,"ngFor","ngForOf"],["class","p-monthpicker",4,"ngIf"],["class","p-yearpicker",4,"ngIf"],[1,"p-datepicker-group"],[1,"p-datepicker-header"],["class","p-datepicker-prev p-link","type","button","pRipple","",3,"keydown","click",4,"ngIf"],[1,"p-datepicker-title"],["type","button","class","p-datepicker-month p-link",3,"disabled","click","keydown",4,"ngIf"],["type","button","class","p-datepicker-year p-link",3,"disabled","click","keydown",4,"ngIf"],["class","p-datepicker-decade",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-next","p-link",3,"keydown","click"],[1,"p-datepicker-next-icon","pi","pi-chevron-right"],["class","p-datepicker-calendar-container",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-prev","p-link",3,"keydown","click"],[1,"p-datepicker-prev-icon","pi","pi-chevron-left"],["type","button",1,"p-datepicker-month","p-link",3,"disabled","click","keydown"],["type","button",1,"p-datepicker-year","p-link",3,"disabled","click","keydown"],[1,"p-datepicker-decade"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-datepicker-calendar-container"],[1,"p-datepicker-calendar"],["class","p-datepicker-weekheader p-disabled",4,"ngIf"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"p-datepicker-weekheader","p-disabled"],["scope","col"],["class","p-datepicker-weeknumber",4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"p-datepicker-weeknumber"],[1,"p-disabled"],[3,"ngClass"],["draggable","false","pRipple","",3,"ngClass","click","keydown"],[1,"p-monthpicker"],["class","p-monthpicker-month","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-monthpicker-month",3,"ngClass","click","keydown"],[1,"p-yearpicker"],["class","p-yearpicker-year","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-yearpicker-year",3,"ngClass","click","keydown"],[1,"p-timepicker"],[1,"p-hour-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","keydown.enter","keydown.space","mousedown","mouseup","keyup.enter","keyup.space","mouseleave"],[1,"pi","pi-chevron-up"],[1,"pi","pi-chevron-down"],[1,"p-separator"],[1,"p-minute-picker"],["class","p-separator",4,"ngIf"],["class","p-second-picker",4,"ngIf"],["class","p-ampm-picker",4,"ngIf"],[1,"p-second-picker"],[1,"p-ampm-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","click","keydown.enter"],[1,"p-datepicker-buttonbar"],["type","button","pButton","","pRipple","",3,"label","ngClass","keydown","click"]],template:function(m,x){1&m&&(a.F$t(wi),a.TgZ(0,"span",0,1),a.YNc(2,Qe,4,17,"ng-template",2),a.YNc(3,ii,9,28,"div",3),a.qZA()),2&m&&(a.Tol(x.styleClass),a.Q6J("ngClass",a.l5B(6,ri,x.showIcon,x.timeOnly,x.disabled,x.focus))("ngStyle",x.style),a.xp6(2),a.Q6J("ngIf",!x.inline),a.xp6(1),a.Q6J("ngIf",x.inline||x.overlayVisible))},directives:[b.mk,b.PC,b.O5,We,v.H,b.tP,b.sg],styles:[".p-calendar{position:relative;display:inline-flex;max-width:100%}.p-calendar .p-inputtext{flex:1 1 auto;width:1%}.p-calendar-w-btn .p-inputtext{border-top-right-radius:0;border-bottom-right-radius:0}.p-calendar-w-btn .p-datepicker-trigger{border-top-left-radius:0;border-bottom-left-radius:0}.p-fluid .p-calendar{display:flex}.p-fluid .p-calendar .p-inputtext{width:1%}.p-calendar .p-datepicker{min-width:100%}.p-datepicker{width:auto;position:absolute;top:0;left:0}.p-datepicker-inline{display:inline-block;position:static;overflow-x:auto}.p-datepicker-header{display:flex;align-items:center;justify-content:space-between}.p-datepicker-header .p-datepicker-title{margin:0 auto}.p-datepicker-prev,.p-datepicker-next{cursor:pointer;display:inline-flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-datepicker-multiple-month .p-datepicker-group-container .p-datepicker-group{flex:1 1 auto}.p-datepicker-multiple-month .p-datepicker-group-container{display:flex}.p-datepicker table{width:100%;border-collapse:collapse}.p-datepicker td>span{display:flex;justify-content:center;align-items:center;cursor:pointer;margin:0 auto;overflow:hidden;position:relative}.p-monthpicker-month{width:33.3%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-datepicker-buttonbar{display:flex;justify-content:space-between;align-items:center}.p-timepicker{display:flex;justify-content:center;align-items:center}.p-timepicker button{display:flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-timepicker>div{display:flex;align-items:center;flex-direction:column}.p-datepicker-touch-ui,.p-calendar .p-datepicker-touch-ui{position:fixed;top:50%;left:50%;min-width:80vw;transform:translate(-50%,-50%)}.p-yearpicker-year{width:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-calendar-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-calendar-clearable{position:relative}\n"],encapsulation:2,data:{animation:[(0,R.X$)("overlayAnimation",[(0,R.SB)("visibleTouchUI",(0,R.oB)({transform:"translate(-50%,-50%)",opacity:1})),(0,R.eR)("void => visible",[(0,R.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,R.jt)("{{showTransitionParams}}",(0,R.oB)({opacity:1,transform:"*"}))]),(0,R.eR)("visible => void",[(0,R.jt)("{{hideTransitionParams}}",(0,R.oB)({opacity:0}))]),(0,R.eR)("void => visibleTouchUI",[(0,R.oB)({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}),(0,R.jt)("{{showTransitionParams}}")]),(0,R.eR)("visibleTouchUI => void",[(0,R.jt)("{{hideTransitionParams}}",(0,R.oB)({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}))])])]},changeDetection:0}),W})(),At=(()=>{class W{}return W.\u0275fac=function(m){return new(m||W)},W.\u0275mod=a.oAB({type:W}),W.\u0275inj=a.cJS({imports:[[b.ez,ot,et.m8,v.T],ot,et.m8]}),W})()},5730:(on,st,D)=>{D.d(st,{V:()=>R,p:()=>a});let a=(()=>{class b{static addClass(v,ce){v.classList?v.classList.add(ce):v.className+=" "+ce}static addMultipleClasses(v,ce){if(v.classList){let ye=ce.trim().split(" ");for(let be=0;be<ye.length;be++)v.classList.add(ye[be])}else{let ye=ce.split(" ");for(let be=0;be<ye.length;be++)v.className+=" "+ye[be]}}static removeClass(v,ce){v.classList?v.classList.remove(ce):v.className=v.className.replace(new RegExp("(^|\\b)"+ce.split(" ").join("|")+"(\\b|$)","gi")," ")}static hasClass(v,ce){return v.classList?v.classList.contains(ce):new RegExp("(^| )"+ce+"( |$)","gi").test(v.className)}static siblings(v){return Array.prototype.filter.call(v.parentNode.children,function(ce){return ce!==v})}static find(v,ce){return Array.from(v.querySelectorAll(ce))}static findSingle(v,ce){return v?v.querySelector(ce):null}static index(v){let ce=v.parentNode.childNodes,ye=0;for(var be=0;be<ce.length;be++){if(ce[be]==v)return ye;1==ce[be].nodeType&&ye++}return-1}static indexWithinGroup(v,ce){let ye=v.parentNode?v.parentNode.childNodes:[],be=0;for(var z=0;z<ye.length;z++){if(ye[z]==v)return be;ye[z].attributes&&ye[z].attributes[ce]&&1==ye[z].nodeType&&be++}return-1}static relativePosition(v,ce){let ye=v.offsetParent?{width:v.offsetWidth,height:v.offsetHeight}:this.getHiddenElementDimensions(v);const be=ce.offsetHeight,z=ce.getBoundingClientRect(),B=this.getViewport();let re,xe;z.top+be+ye.height>B.height?(re=-1*ye.height,v.style.transformOrigin="bottom",z.top+re<0&&(re=-1*z.top)):(re=be,v.style.transformOrigin="top"),xe=ye.width>B.width?-1*z.left:z.left+ye.width>B.width?-1*(z.left+ye.width-B.width):0,v.style.top=re+"px",v.style.left=xe+"px"}static absolutePosition(v,ce){let et,Re,ye=v.offsetParent?{width:v.offsetWidth,height:v.offsetHeight}:this.getHiddenElementDimensions(v),be=ye.height,z=ye.width,B=ce.offsetHeight,re=ce.offsetWidth,xe=ce.getBoundingClientRect(),We=this.getWindowScrollTop(),Fe=this.getWindowScrollLeft(),ot=this.getViewport();xe.top+B+be>ot.height?(et=xe.top+We-be,v.style.transformOrigin="bottom",et<0&&(et=We)):(et=B+xe.top+We,v.style.transformOrigin="top"),Re=xe.left+z>ot.width?Math.max(0,xe.left+Fe+re-z):xe.left+Fe,v.style.top=et+"px",v.style.left=Re+"px"}static getParents(v,ce=[]){return null===v.parentNode?ce:this.getParents(v.parentNode,ce.concat([v.parentNode]))}static getScrollableParents(v){let ce=[];if(v){let ye=this.getParents(v);const be=/(auto|scroll)/,z=B=>{let re=window.getComputedStyle(B,null);return be.test(re.getPropertyValue("overflow"))||be.test(re.getPropertyValue("overflowX"))||be.test(re.getPropertyValue("overflowY"))};for(let B of ye){let re=1===B.nodeType&&B.dataset.scrollselectors;if(re){let xe=re.split(",");for(let We of xe){let Fe=this.findSingle(B,We);Fe&&z(Fe)&&ce.push(Fe)}}9!==B.nodeType&&z(B)&&ce.push(B)}}return ce}static getHiddenElementOuterHeight(v){v.style.visibility="hidden",v.style.display="block";let ce=v.offsetHeight;return v.style.display="none",v.style.visibility="visible",ce}static getHiddenElementOuterWidth(v){v.style.visibility="hidden",v.style.display="block";let ce=v.offsetWidth;return v.style.display="none",v.style.visibility="visible",ce}static getHiddenElementDimensions(v){let ce={};return v.style.visibility="hidden",v.style.display="block",ce.width=v.offsetWidth,ce.height=v.offsetHeight,v.style.display="none",v.style.visibility="visible",ce}static scrollInView(v,ce){let ye=getComputedStyle(v).getPropertyValue("borderTopWidth"),be=ye?parseFloat(ye):0,z=getComputedStyle(v).getPropertyValue("paddingTop"),B=z?parseFloat(z):0,re=v.getBoundingClientRect(),We=ce.getBoundingClientRect().top+document.body.scrollTop-(re.top+document.body.scrollTop)-be-B,Fe=v.scrollTop,ot=v.clientHeight,et=this.getOuterHeight(ce);We<0?v.scrollTop=Fe+We:We+et>ot&&(v.scrollTop=Fe+We-ot+et)}static fadeIn(v,ce){v.style.opacity=0;let ye=+new Date,be=0,z=function(){be=+v.style.opacity.replace(",",".")+((new Date).getTime()-ye)/ce,v.style.opacity=be,ye=+new Date,+be<1&&(window.requestAnimationFrame&&requestAnimationFrame(z)||setTimeout(z,16))};z()}static fadeOut(v,ce){var ye=1,B=50/ce;let re=setInterval(()=>{(ye-=B)<=0&&(ye=0,clearInterval(re)),v.style.opacity=ye},50)}static getWindowScrollTop(){let v=document.documentElement;return(window.pageYOffset||v.scrollTop)-(v.clientTop||0)}static getWindowScrollLeft(){let v=document.documentElement;return(window.pageXOffset||v.scrollLeft)-(v.clientLeft||0)}static matches(v,ce){var ye=Element.prototype;return(ye.matches||ye.webkitMatchesSelector||ye.mozMatchesSelector||ye.msMatchesSelector||function(z){return-1!==[].indexOf.call(document.querySelectorAll(z),this)}).call(v,ce)}static getOuterWidth(v,ce){let ye=v.offsetWidth;if(ce){let be=getComputedStyle(v);ye+=parseFloat(be.marginLeft)+parseFloat(be.marginRight)}return ye}static getHorizontalPadding(v){let ce=getComputedStyle(v);return parseFloat(ce.paddingLeft)+parseFloat(ce.paddingRight)}static getHorizontalMargin(v){let ce=getComputedStyle(v);return parseFloat(ce.marginLeft)+parseFloat(ce.marginRight)}static innerWidth(v){let ce=v.offsetWidth,ye=getComputedStyle(v);return ce+=parseFloat(ye.paddingLeft)+parseFloat(ye.paddingRight),ce}static width(v){let ce=v.offsetWidth,ye=getComputedStyle(v);return ce-=parseFloat(ye.paddingLeft)+parseFloat(ye.paddingRight),ce}static getInnerHeight(v){let ce=v.offsetHeight,ye=getComputedStyle(v);return ce+=parseFloat(ye.paddingTop)+parseFloat(ye.paddingBottom),ce}static getOuterHeight(v,ce){let ye=v.offsetHeight;if(ce){let be=getComputedStyle(v);ye+=parseFloat(be.marginTop)+parseFloat(be.marginBottom)}return ye}static getHeight(v){let ce=v.offsetHeight,ye=getComputedStyle(v);return ce-=parseFloat(ye.paddingTop)+parseFloat(ye.paddingBottom)+parseFloat(ye.borderTopWidth)+parseFloat(ye.borderBottomWidth),ce}static getWidth(v){let ce=v.offsetWidth,ye=getComputedStyle(v);return ce-=parseFloat(ye.paddingLeft)+parseFloat(ye.paddingRight)+parseFloat(ye.borderLeftWidth)+parseFloat(ye.borderRightWidth),ce}static getViewport(){let v=window,ce=document,ye=ce.documentElement,be=ce.getElementsByTagName("body")[0];return{width:v.innerWidth||ye.clientWidth||be.clientWidth,height:v.innerHeight||ye.clientHeight||be.clientHeight}}static getOffset(v){var ce=v.getBoundingClientRect();return{top:ce.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:ce.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(v,ce){let ye=v.parentNode;if(!ye)throw"Can't replace element";return ye.replaceChild(ce,v)}static getUserAgent(){return navigator.userAgent}static isIE(){var v=window.navigator.userAgent;return v.indexOf("MSIE ")>0||(v.indexOf("Trident/")>0?(v.indexOf("rv:"),!0):v.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(v,ce){if(this.isElement(ce))ce.appendChild(v);else{if(!ce.el||!ce.el.nativeElement)throw"Cannot append "+ce+" to "+v;ce.el.nativeElement.appendChild(v)}}static removeChild(v,ce){if(this.isElement(ce))ce.removeChild(v);else{if(!ce.el||!ce.el.nativeElement)throw"Cannot remove "+v+" from "+ce;ce.el.nativeElement.removeChild(v)}}static removeElement(v){"remove"in Element.prototype?v.remove():v.parentNode.removeChild(v)}static isElement(v){return"object"==typeof HTMLElement?v instanceof HTMLElement:v&&"object"==typeof v&&null!==v&&1===v.nodeType&&"string"==typeof v.nodeName}static calculateScrollbarWidth(v){if(v){let ce=getComputedStyle(v);return v.offsetWidth-v.clientWidth-parseFloat(ce.borderLeftWidth)-parseFloat(ce.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let ce=document.createElement("div");ce.className="p-scrollbar-measure",document.body.appendChild(ce);let ye=ce.offsetWidth-ce.clientWidth;return document.body.removeChild(ce),this.calculatedScrollbarWidth=ye,ye}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let v=document.createElement("div");v.className="p-scrollbar-measure",document.body.appendChild(v);let ce=v.offsetHeight-v.clientHeight;return document.body.removeChild(v),this.calculatedScrollbarWidth=ce,ce}static invokeElementMethod(v,ce,ye){v[ce].apply(v,ye)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(v){}}static getBrowser(){if(!this.browser){let v=this.resolveUserAgent();this.browser={},v.browser&&(this.browser[v.browser]=!0,this.browser.version=v.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let v=navigator.userAgent.toLowerCase(),ce=/(chrome)[ \/]([\w.]+)/.exec(v)||/(webkit)[ \/]([\w.]+)/.exec(v)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(v)||/(msie) ([\w.]+)/.exec(v)||v.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(v)||[];return{browser:ce[1]||"",version:ce[2]||"0"}}static isInteger(v){return Number.isInteger?Number.isInteger(v):"number"==typeof v&&isFinite(v)&&Math.floor(v)===v}static isHidden(v){return null===v.offsetParent}static getFocusableElements(v){let ce=b.find(v,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]):not(.p-disabled)'),ye=[];for(let be of ce)"none"!=getComputedStyle(be).display&&"hidden"!=getComputedStyle(be).visibility&&ye.push(be);return ye}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}}return b.zindex=1e3,b.calculatedScrollbarWidth=null,b.calculatedScrollbarHeight=null,b})();class R{constructor(te,v=(()=>{})){this.element=te,this.listener=v}bindScrollListener(){this.scrollableParents=a.getScrollableParents(this.element);for(let te=0;te<this.scrollableParents.length;te++)this.scrollableParents[te].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let te=0;te<this.scrollableParents.length;te++)this.scrollableParents[te].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}},5787:(on,st,D)=>{D.d(st,{H:()=>v,T:()=>ce});var a=D(5e3),R=D(9808),b=D(5730),te=D(9783);let v=(()=>{class ye{constructor(z,B,re){this.el=z,this.zone=B,this.config=re}ngAfterViewInit(){this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener)})}onMouseDown(z){let B=this.getInk();if(!B||"none"===getComputedStyle(B,null).display)return;if(b.p.removeClass(B,"p-ink-active"),!b.p.getHeight(B)&&!b.p.getWidth(B)){let Fe=Math.max(b.p.getOuterWidth(this.el.nativeElement),b.p.getOuterHeight(this.el.nativeElement));B.style.height=Fe+"px",B.style.width=Fe+"px"}let re=b.p.getOffset(this.el.nativeElement),xe=z.pageX-re.left+document.body.scrollTop-b.p.getWidth(B)/2,We=z.pageY-re.top+document.body.scrollLeft-b.p.getHeight(B)/2;B.style.top=We+"px",B.style.left=xe+"px",b.p.addClass(B,"p-ink-active")}getInk(){for(let z=0;z<this.el.nativeElement.children.length;z++)if(-1!==this.el.nativeElement.children[z].className.indexOf("p-ink"))return this.el.nativeElement.children[z];return null}resetInk(){let z=this.getInk();z&&b.p.removeClass(z,"p-ink-active")}onAnimationEnd(z){b.p.removeClass(z.currentTarget,"p-ink-active")}create(){let z=document.createElement("span");z.className="p-ink",this.el.nativeElement.appendChild(z),this.animationListener=this.onAnimationEnd.bind(this),z.addEventListener("animationend",this.animationListener)}remove(){let z=this.getInk();z&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),z.removeEventListener("animationend",this.animationListener),b.p.removeElement(z))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return ye.\u0275fac=function(z){return new(z||ye)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(te.b4,8))},ye.\u0275dir=a.lG2({type:ye,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]}),ye})(),ce=(()=>{class ye{}return ye.\u0275fac=function(z){return new(z||ye)},ye.\u0275mod=a.oAB({type:ye}),ye.\u0275inj=a.cJS({imports:[[R.ez]]}),ye})()},5861:(on,st,D)=>{function a(b,te,v,ce,ye,be,z){try{var B=b[be](z),re=B.value}catch(xe){return void v(xe)}B.done?te(re):Promise.resolve(re).then(ce,ye)}function R(b){return function(){var te=this,v=arguments;return new Promise(function(ce,ye){var be=b.apply(te,v);function z(re){a(be,ce,ye,z,B,"next",re)}function B(re){a(be,ce,ye,z,B,"throw",re)}z(void 0)})}}D.d(st,{Z:()=>R})}},on=>{on(on.s=2466)}]);